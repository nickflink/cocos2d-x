function e(a){throw a;}var g=!0,h=null,j=!1;function l(){return function(){}}function aa(a){return function(){return this[a]}}function m(a){return function(){return a}}var n,cc=cc||{};cc.SPRITE_INDEX_NOT_INITIALIZED=4294967295;cc.TMX_ORIENTATION_HEX=1;cc.TMX_ORIENTATION_ISO=2;cc.TMX_ORIENTATION_ORTHO=0;cc.rt=1;cc.st=2;cc.tt=3;cc.ut=0;cc.BLEND_DST=771;cc.BLEND_SRC=1;cc.Qk=0;cc.Rk=0;cc.Wk=0.1;cc.vl=0;cc.wl=1;cc.ENABLE_GL_STATE_CACHE=1;cc.Z=0;cc.xl=1;cc.FIX_ARTIFACTS_BY_STRECHING_TEXEL=0;cc.GL_ALL=0;
cc.LABELATLAS_DEBUG_DRAW=0;cc.LABELBMFONT_DEBUG_DRAW=0;cc.bn=0;cc.cn=2;cc.dn=1;cc.Qn=1;cc.Pp=16;cc.SPRITEBATCHNODE_RENDER_SUBPIXEL=1;cc.SPRITE_DEBUG_DRAW=0;cc.TEXTURE_ATLAS_USE_TRIANGLE_STRIP=0;cc.TEXTURE_ATLAS_USE_VAO=1;cc.bt=1;cc.ACTION_TAG_INVALID=-1;cc.Ok=6;cc.Pk=7;cc.Ik=4;cc.Jk=5;cc.Kk=0;cc.Lk=2;cc.Mk=3;cc.Nk=1;cc.Sk=0;cc.Tk=1;cc.Uk=2;cc.Vk=1;cc.cm=1;cc.dm=0;cc.gm=3758096384;cc.hm=536870911;cc.Pd=0;cc.Qd=1;cc.ITEM_SIZE=32;cc.LABEL_AUTOMATIC_WIDTH=-1;cc.Mm=1;cc.Nm=2;cc.Om=3;cc.Pm=5;cc.Qm=4;
cc.Rm=0;cc.en=168165376;cc.fn=168230912;cc.gn=168296448;cc.ob=-128;cc.Me=1;cc.Ne=0;cc.NODE_TAG_INVALID=-1;cc.dc=-1;cc.Oe=0;cc.ec=1;cc.Wc=-1;cc.pb=-1;cc.Dp=0;cc.Ep=2;cc.Fp=1;cc.Gp=-2147483647;cc.PRIORITY_SYSTEM=-2147483648;cc.ga=1;cc.qb=0;cc.Rd=4294967294;cc.vq=1;cc.wq=2;cc.RESOLUTION_UNKNOWN=0;cc.We=536870912;cc.hc=2147483648;cc.Va=1073741824;cc.xa=1;cc.oa=0;cc.Ua=2;cc.Lr=3;cc.Mr=5;cc.Nr=0;cc.Or=4;cc.Pr=9;cc.Qr=8;cc.Ur=2;cc.Rr=7;cc.Vr=1;cc.Sr=6;cc.Tr=0;cc.xs=0;cc.ys=1;cc.Ze=1;cc.$e=0;cc.af=1;
cc.bf=0;cc.Bs=5;cc.Fs=1;cc.Ds=2;cc.Hs=0;cc.UNIFORM_RANDOM01=6;cc.UNIFORM_SAMPLER=7;cc.Js=4;cc.UNIFORM_TIME=3;cc.UNIFORM_MAX=8;cc.VERTEX_ATTRIB_FLAG_COLOR=2;cc.VERTEX_ATTRIB_FLAG_NONE=0;cc.it=7;cc.VERTEX_ATTRIB_FLAG_POSITION=1;cc.jt=4;cc.VERTEX_ATTRIB_COLOR=1;cc.VERTEX_ATTRIB_MAX=3;cc.VERTEX_ATTRIB_POSITION=0;cc.VERTEX_ATTRIB_TEX_COORDS=2;cc.ad=2;cc.bd=1;cc.Gb=0;cc.Vo=67108864;cc.Wo=67109120;cc.Xo=67174400;cc.Yo=67239936;cc.Zo=67240192;cc.$o=67305472;cc.ap=67305728;cc.bp=67305984;cc.dp=67306240;
cc.ep=67306496;cc.fp=67306752;cc.gp=83886080;cc.hp=83886336;cc.ip=83951616;cc.jp=100663296;cc.Mh="CCAnimationFrameDisplayedNotification";cc.li="chipmunk.h";cc.ATTRIBUTE_NAME_COLOR="a_color";cc.ATTRIBUTE_NAME_POSITION="a_position";cc.ATTRIBUTE_NAME_TEX_COORD="a_texCoord";cc.SHADER_POSITION_COLOR="ShaderPositionColor";cc.br="ShaderPositionLengthTextureColor";cc.SHADER_POSITION_TEXTURE="ShaderPositionTexture";cc.cr="ShaderPositionTextureA8Color";cc.dr="ShaderPositionTextureColor";cc.Sd="ShaderPositionTextureColorAlphaTest";
cc.er="ShaderPositionTexture_uColor";cc.fr="ShaderPosition_uColor";cc.UNIFORM_ALPHA_TEST_VALUE_S="CC_AlphaValue";cc.Cs="CC_CosTime";cc.Gs="CC_MVMatrix";cc.Es="CC_MVPMatrix";cc.Is="CC_PMatrix";cc.UNIFORM_RANDOM01_S="CC_Random01";cc.UNIFORM_SAMPLER_S="CC_Texture0";cc.Ks="CC_SinTime";cc.UNIFORM_TIME_S="CC_Time";cc=cc||{};cc.Qa=0;cc.Eb=1;cc.Da=0;cc.ns=1;cc.Ue=2;cc.Se=3;cc.ms=4;cc.ls=5;cc.Fb=6;cc.Ve=7;cc.Te=8;cc.Te=9;cc.Td=cc.Da;cc.oa=0;cc.xa=1;cc.Ua=2;cc.Gb=0;cc.bd=1;cc.ad=2;cc.Pd=0;cc.Qd=0;cc.qb=0;cc.ga=1;cc.Xc=0;cc.Zc=1;cc.Yc=2;cc.dc=-1;cc.Oe=0;cc.ec=1;cc.pb=-1;cc.Wc=-1;cc.Xe=0;cc.Ye=1;cc.hc=2147483648;cc.Va=1073741824;cc.We=536870912;cc.$e=0;cc.af=1;cc.bf=0;cc.Ze=1;cc.$c={r:255,g:0,b:0};cc.Ke={r:0,g:255,b:0};cc.Je={r:0,g:0,b:255};cc.ei={r:0,g:0,b:0};cc.nt={r:255,g:255,b:255};cc.df={r:255,g:255,b:0};
cc.Bp={x:0,y:0};cc.Rd=4294967295;cc.Ne=0;cc.Me=1;cc.ob=-128;cc.sk=5;cc.$d=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];cc._reuse_p_index=0;cc._reuse_size={width:0,height:0};cc._reuse_rect={x:0,y:0,width:0,height:0};cc._reuse_color3b={r:255,g:255,b:255};cc._reuse_color4b={r:255,g:255,b:255,a:255};cc.log=cc.log||log;cc.c3b=function(a,b,c){return{r:a,g:b,b:c}};cc._c3b=function(a,b,c){cc._reuse_color3b.r=a;cc._reuse_color3b.g=b;cc._reuse_color3b.b=c;return cc._reuse_color3b};
cc.c4b=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc._c4b=function(a,b,c,d){cc._reuse_color4b.r=a;cc._reuse_color4b.g=b;cc._reuse_color4b.b=c;cc._reuse_color4b.a=d;return cc._reuse_color4b};cc.c4=cc.c4b;cc._c4=cc._c4b;cc.c4f=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc.p=function(a,b){return{x:a,y:b}};cc._p=function(a,b){cc._reuse_p_index==cc.$d.length&&(cc._reuse_p_index=0);var c=cc.$d[cc._reuse_p_index];cc._reuse_p_index++;c.x=a;c.y=b;return c};
cc.pointEqualToPoint=function(a,b){return a.x==b.x&&a.y==b.y};cc._g=function(a,b){cc.Zd.x=a;cc.Zd.y=b;return cc.Zd};cc.size=function(a,b){return{width:a,height:b}};cc._size=function(a,b){cc._reuse_size.width=a;cc._reuse_size.height=b;return cc._reuse_size};cc.sizeEqualToSize=function(a,b){return a.width==b.width&&a.height==b.height};cc.rect=function(a,b,c,d){return{x:a,y:b,width:c,height:d}};
cc._rect=function(a,b,c,d){cc._reuse_rect.x=a;cc._reuse_rect.y=b;cc._reuse_rect.width=c;cc._reuse_rect.height=d;return cc._reuse_rect};cc.rectEqualToRect=function(a,b){return a.x==b.x&&a.y==b.y&&a.width==b.width&&a.height==b.height};cc.rectContainsRect=function(a,b){return a.x>=b.x||a.y>=b.y||a.x+a.width<=b.x+b.width||a.y+a.height<=b.y+b.height?j:g};cc.rectGetMaxX=function(a){return a.x+a.width};cc.rectGetMidX=function(a){return a.x+a.width/2};cc.rectGetMinX=function(a){return a.x};
cc.rectGetMaxY=function(a){return a.y+a.height};cc.rectGetMidY=function(a){return a.y+a.height/2};cc.rectGetMinY=function(a){return a.y};cc.rectContainsPoint=function(a,b){var c=j;b.x>=a.x&&(b.x<=a.x+a.width&&b.y>=a.y&&b.y<=a.y+a.height)&&(c=g);return c};cc.rectIntersectsRect=function(a,b){return!(a.x>b.x+b.width||a.x+a.width<b.x||a.y>b.y+b.height||a.y+a.height<b.y)};
cc.rectUnion=function(a,b){var c=cc.rect(0,0,0,0);c.x=Math.min(a.x,b.x);c.y=Math.min(a.y,b.y);c.width=Math.max(a.x+a.width,b.x+b.width)-c.x;c.height=Math.max(a.y+a.height,b.y+b.height)-c.y;return c};cc.rectIntersection=function(a,b){var c=cc.rect(Math.max(a.x,b.x),Math.max(a.y,b.y),0,0);c.width=Math.min(a.x+a.width,b.x+b.width)-c.x;c.height=Math.min(a.y+a.height,b.y+b.height)-c.y;return c};cc.ArrayGetIndexOfObject=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1};
cc.ArrayContainsObject=function(a,b){return-1!=cc.ArrayGetIndexOfObject(a,b)};cc.ArrayRemoveObject=function(a,b){for(var c=0;c<a.length;c++)a[c]==b&&a.splice(c,1)};cc.dump=function(a){for(var b in a)cc.log(b+" = "+a[b])};var sys=sys||void 0;cc.dumpConfig=function(){sys&&(cc.dump(sys),cc.dump(sys.capabilities))};
cc.MenuItemToggle.create=function(){var a=arguments.length;if("function"===typeof arguments[a-2]||"function"===typeof arguments[a-1]){var b=Array.prototype.slice.call(arguments),c=h;"function"===typeof arguments[a-2]&&(c=b.pop());a=b.pop();b=cc.MenuItemToggle.lc.apply(this,b);c!==h?b.setCallback(a,c):b.setCallback(a);return b}return cc.MenuItemToggle.lc.apply(this,arguments)};
cc.LabelAtlas.create=function(a,b,c,d,f){return 5==arguments.length?cc.LabelAtlas.lc(a,b,c,d,f.charCodeAt(0)):cc.LabelAtlas.lc.apply(this,arguments)};cc.LayerMultiplex.create=cc.LayerMultiplex.Jt;cc.associateWithNative=function(a,b){try{var c=new b;__associateObjWithNative(a,c)}catch(d){__associateObjWithNative(a,b)}};cc.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.Pc=b.prototype;a.prototype=new c;a.prototype.constructor=a};
cc.base=function(a,b,c){var d=arguments.callee.caller;if(d.Pc)return ret=d.Pc.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),i=j,k=a.constructor;k;k=k.Pc&&k.Pc.constructor)if(k.prototype[b]===d)i=g;else if(i)return k.prototype[b].apply(a,f);if(a[b]===d)return a.constructor.prototype[b].apply(a,f);e(Error("cc.base called from a method of one name to a method of a different name"))};cc.Class=l();
cc.Class.extend=function(a){function b(){!initializing&&this.ctor&&this.ctor.apply(this,arguments)}var c=this.prototype;initializing=g;var d=new this;initializing=j;fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;for(var f in a)d[f]="function"==typeof a[f]&&"function"==typeof c[f]&&fnTest.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var f=b.apply(this,arguments);this._super=d;return f}}(f,a[f]):a[f];b.prototype=d;b.prototype.constructor=b;b.extend=arguments.callee;
return b};cc.Node.prototype.ctor=l();cc.Node.extend=cc.Class.extend;cc.Layer.extend=cc.Class.extend;cc.LayerGradient.extend=cc.Class.extend;cc.LayerColor.extend=cc.Class.extend;cc.Sprite.extend=cc.Class.extend;cc.MenuItemFont.extend=cc.Class.extend;cc.Scene.extend=cc.Class.extend;cc.DrawNode.extend=cc.Class.extend;cc.Loader=cc.Class.extend({If:function(a,b,c){b&&(this.jf=b,this.va=c);this.jf.call(this.va)}});cc.Loader.preload=function(a,b,c){this.fd||(this.fd=new cc.Loader);this.fd.If(a,b,c);return this.fd};cc=cc||{};cc.SCROLLVIEW_DIRECTION_NONE=-1;cc.SCROLLVIEW_DIRECTION_HORIZONTAL=0;cc.SCROLLVIEW_DIRECTION_VERTICAL=1;cc.SCROLLVIEW_DIRECTION_BOTH=2;cc.TABLEVIEW_FILL_TOPDOWN=0;cc.TABLEVIEW_FILL_BOTTOMUP=1;cc.KEYBOARD_RETURNTYPE_DEFAULT=0;cc.KEYBOARD_RETURNTYPE_DONE=1;cc.KEYBOARD_RETURNTYPE_SEND=2;cc.KEYBOARD_RETURNTYPE_SEARCH=3;cc.KEYBOARD_RETURNTYPE_GO=4;cc.EDITBOX_INPUT_MODE_ANY=0;cc.EDITBOX_INPUT_MODE_EMAILADDR=1;cc.EDITBOX_INPUT_MODE_NUMERIC=2;cc.EDITBOX_INPUT_MODE_PHONENUMBER=3;
cc.EDITBOX_INPUT_MODE_URL=4;cc.EDITBOX_INPUT_MODE_DECIMAL=5;cc.EDITBOX_INPUT_MODE_SINGLELINE=6;cc.EDITBOX_INPUT_FLAG_PASSWORD=0;cc.EDITBOX_INPUT_FLAG_SENSITIVE=1;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_WORD=2;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_SENTENCE=3;cc.EDITBOX_INPUT_FLAG_INITIAL_CAPS_ALL_CHARACTERS=4;cc.PhysicsDebugNode.create=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return cc.PhysicsDebugNode.lc(b)};
cc.PhysicsDebugNode.prototype.setSpace=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this.Bt(b)};cc.PhysicsSprite.prototype.setBody=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this.At(b)};cc.ScrollView.extend=cc.Class.extend;cc.TableView.extend=cc.Class.extend;cc.TableViewCell.extend=cc.Class.extend;var cp=cp||{};cp.nh=1;cp.ALL_LAYERS=4294967295;cp.hi=32768;cp.mi=0;cp.ym=3344921057;cp.sn=4;cp.NO_GROUP=0;cp.Vn=3;cp.Cp=2;cp.Tq=1;cp.$s=1;cp.at=0;cp.ct=6;cp.dt=1;cp.et=1;cp=cp||{};cp.v=cc.p;cp._v=cc._p;cp.vzero=cp.v(0,0);cp.v.add=cp.vadd;cp.v.clamp=cp.vclamp;cp.v.cross=cp.vcross;cp.v.dist=cp.vdist;cp.v.distsq=cp.vdistsq;cp.v.dot=cp.vdot;cp.v.eql=cp.veql;cp.v.forangle=cp.vforangle;cp.v.len=cp.vlength;cp.v.lengthsq=cp.vlengthsq;cp.v.lerp=cp.vlerp;cp.v.lerpconst=cp.vlerpconst;cp.v.mult=cp.vmult;cp.v.near=cp.vnear;cp.v.neg=cp.vneg;cp.v.normalize=cp.vnormalize;cp.v.normalize_safe=cp.vnormalize_safe;cp.v.perp=cp.vperp;cp.v.project=cp.vproject;cp.v.rotate=cp.vrotate;
cp.v.ou=cp.vrperp;cp.v.slerp=cp.vslerp;cp.v.slerpconst=cp.vslerpconst;cp.v.sub=cp.vsub;cp.v.toangle=cp.vtoangle;cp.v.unrotate=cp.vunrotate;cp.clamp01=cp.fclamp01;cp.BoxShape2=function(a,b){return new cp.PolyShape(a,[b.l,b.b,b.l,b.t,b.r,b.t,b.r,b.b],cp.vzero)};cp.BoxShape=function(a,b,c){b/=2;c/=2;return cp.BoxShape2(a,new cp.BB(-b,-c,b,c))};cp.StaticBody=function(){return new cp.Body(Infinity,Infinity)};cp.BB=function(a,b,c,d){return{l:a,b:b,r:c,t:d}};
cp.bb=function(a,b,c,d){return new cp.BB(a,b,c,d)};Object.defineProperties(cp.Base.prototype,{handle:{get:function(){return this.Ut()},enumerable:g,configurable:g}});
Object.defineProperties(cp.Space.prototype,{gravity:{get:function(){return this.getGravity()},set:function(a){this.setGravity(a)},enumerable:g,configurable:g},iterations:{get:function(){return this.Wt()},set:function(a){this.Au(a)},enumerable:g,configurable:g},damping:{get:function(){return this.Rt()},set:function(a){this.vu(a)},enumerable:g,configurable:g},staticBody:{get:function(){return this.Ff()},enumerable:g,configurable:g},idleSpeedThreshold:{get:function(){return this.Vt()},set:function(a){this.zu(a)},
enumerable:g,configurable:g},sleepTimeThreshold:{get:function(){return this.cu()},set:function(a){this.Cu(a)},enumerable:g,configurable:g},collisionSlop:{get:function(){return this.Pt()},set:function(a){this.uu(a)},enumerable:g,configurable:g},collisionBias:{get:function(){return this.Nt()},set:function(a){this.su(a)},enumerable:g,configurable:g},collisionPersistence:{get:function(){return this.Ot()},set:function(a){this.tu(a)},enumerable:g,configurable:g},enableContactGraph:{get:function(){return this.St()},
set:function(a){this.xu(a)},enumerable:g,configurable:g}});
Object.defineProperties(cp.Body.prototype,{a:{get:function(){return this.getAngle()},set:function(a){this.setAngle(a)},enumerable:g,configurable:g},w:{get:function(){return this.getAngVel()},set:function(a){this.setAngVel(a)},enumerable:g,configurable:g},p:{get:function(){return this.getPos()},set:function(a){this.setPos(a)},enumerable:g,configurable:g},v:{get:function(){return this.getVel()},set:function(a){this.setVel(a)},enumerable:g,configurable:g},i:{get:function(){return this.Zt()},set:function(a){this.setMoment(a)},
enumerable:g,configurable:g}});Object.defineProperties(cp.Shape.prototype,{body:{get:function(){return this.getBody()},set:function(a){this.setBody(a)},enumerable:g,configurable:g},group:{get:function(){return this.Tt()},set:function(a){this.yu(a)},enumerable:g,configurable:g},collision_type:{get:function(){return this.Qt()},enumerable:g,configurable:g}});Object.defineProperties(cp.Constraint.prototype,{maxForce:{get:function(){return this.Yt()},set:function(a){this.Bu(a)},enumerable:g,configurable:g}});
Object.defineProperties(cp.PinJoint.prototype,{anchr1:{get:function(){return this.Lt()},set:function(a){this.qu(a)},enumerable:g,configurable:g},anchr2:{get:function(){return this.Mt()},set:function(a){this.ru(a)},enumerable:g,configurable:g}});var gl=gl||{};gl.vm=37472;gl.vt=34810;gl.wt=34809;gl.ACTIVE_ATTRIBUTES=35721;gl.kh=35722;gl.lh=33369;gl.ACTIVE_TEXTURE=34016;gl.ACTIVE_UNIFORMS=35718;gl.mh=35719;gl.ALIASED_LINE_WIDTH_RANGE=33902;gl.ALIASED_POINT_SIZE_RANGE=33901;gl.oh=34034;gl.ph=4294967295;gl.ALPHA=6406;gl.qh=34844;gl.rh=34838;gl.sh=32828;gl.th=32828;gl.ALPHA_BITS=3413;gl.uh=3009;gl.vh=3008;gl.wh=3010;gl.xh=37146;gl.ALWAYS=519;gl.yh=1;gl.zh=1;gl.Ah=1;gl.Bh=1;gl.Ch=1;gl.Dh=1;gl.Eh=1;gl.Fh=1;gl.Gh=1;gl.Hh=1;gl.Ih=1;gl.Jh=1;
gl.Kh=1;gl.Lh=1;gl.Nh=36202;gl.Oh=35887;gl.Ph=1;gl.Qh=1;gl.Rh=1;gl.Sh=1;gl.Th=1;gl.Uh=1;gl.Vh=1;gl.Wh=1;gl.Xh=1;gl.ARRAY_BUFFER=34962;gl.ARRAY_BUFFER_BINDING=34964;gl.Yh=35987;gl.Zh=34798;gl.$h=35986;gl.ATTACHED_SHADERS=35717;gl.BACK=1029;gl.ai=37793;gl.bi=32993;gl.ci=32993;gl.di=36784;gl.BLEND=3042;gl.BLEND_COLOR=32773;gl.BLEND_DST_ALPHA=32970;gl.BLEND_DST_RGB=32968;gl.BLEND_EQUATION=32777;gl.BLEND_EQUATION_ALPHA=34877;gl.BLEND_EQUATION_RGB=32777;gl.BLEND_SRC_ALPHA=32971;gl.BLEND_SRC_RGB=32969;
gl.BLUE_BITS=3412;gl.BOOL=35670;gl.BOOL_VEC2=35671;gl.BOOL_VEC3=35672;gl.BOOL_VEC4=35673;gl.fi=33504;gl.gi=35003;gl.ii=35004;gl.ji=35005;gl.ki=37201;gl.BUFFER_SIZE=34660;gl.BUFFER_USAGE=34661;gl.BYTE=5120;gl.CCW=2305;gl.oi=33069;gl.CLAMP_TO_EDGE=33071;gl.COLOR_ATTACHMENT0=36064;gl.pi=36064;gl.qi=36074;gl.ri=36075;gl.si=36076;gl.ti=36077;gl.ui=36078;gl.vi=36079;gl.wi=36065;gl.xi=36066;gl.yi=36067;gl.zi=36068;gl.Ai=36069;gl.Bi=36070;gl.Ci=36071;gl.Di=36072;gl.Ei=36073;gl.Fi=37104;
gl.COLOR_BUFFER_BIT=16384;gl.Gi=1;gl.Hi=2;gl.Ii=4;gl.Ji=8;gl.Ki=16;gl.Li=32;gl.Mi=64;gl.Ni=128;gl.COLOR_CLEAR_VALUE=3106;gl.Oi=6144;gl.COLOR_WRITEMASK=3107;gl.Pi=34894;gl.COMPILE_STATUS=35713;gl.Qi=37819;gl.Ri=37816;gl.Si=37817;gl.Ti=37818;gl.Ui=37820;gl.Vi=37821;gl.Wi=37808;gl.Xi=37809;gl.Yi=37810;gl.Zi=37811;gl.$i=37812;gl.aj=37813;gl.bj=37814;gl.cj=37815;gl.dj=35843;gl.ej=37175;gl.fj=35842;gl.gj=37176;gl.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;gl.hj=33778;gl.ij=33779;gl.jj=35841;gl.kj=35840;
gl.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;gl.lj=37851;gl.mj=37848;gl.nj=37849;gl.oj=37850;gl.pj=37852;gl.qj=37853;gl.rj=37840;gl.sj=37841;gl.tj=37842;gl.uj=37843;gl.vj=37844;gl.wj=37845;gl.xj=37846;gl.yj=37847;gl.zj=35917;gl.Aj=35918;gl.Bj=35919;gl.Cj=35916;gl.COMPRESSED_TEXTURE_FORMATS=34467;gl.Dj=37148;gl.CONSTANT_ALPHA=32771;gl.CONSTANT_COLOR=32769;gl.Ej=2;gl.Fj=37107;gl.Gj=35777;gl.Hj=35776;gl.Ij=36565;gl.Jj=36562;gl.Kj=36567;gl.Lj=36563;gl.Mj=32768;gl.Nj=36561;gl.Oj=36560;gl.Pj=36566;gl.Qj=36564;
gl.Rj=36785;gl.CULL_FACE=2884;gl.CULL_FACE_MODE=2885;gl.CURRENT_PROGRAM=35725;gl.Sj=34917;gl.CURRENT_VERTEX_ATTRIB=34342;gl.CW=2304;gl.Tj=33348;gl.Uj=33349;gl.Vj=33389;gl.Wj=37189;gl.Xj=33347;gl.Yj=37600;gl.Zj=33346;gl.$j=37190;gl.ak=37192;gl.bk=37191;gl.ck=33387;gl.dk=33350;gl.ek=33354;gl.fk=33355;gl.gk=33352;gl.hk=33353;gl.ik=33351;gl.jk=33357;gl.kk=33356;gl.lk=33384;gl.mk=33361;gl.nk=33360;gl.ok=33386;gl.pk=33359;gl.qk=33385;gl.rk=33358;gl.DECR=7683;gl.DECR_WRAP=34056;gl.DELETE_STATUS=35712;
gl.tk=35056;gl.DEPTH_ATTACHMENT=36096;gl.DEPTH_BITS=3414;gl.DEPTH_BUFFER_BIT=256;gl.uk=256;gl.vk=512;gl.wk=1024;gl.xk=2048;gl.yk=4096;gl.zk=8192;gl.Ak=16384;gl.Bk=32768;gl.DEPTH_CLEAR_VALUE=2931;gl.DEPTH_COMPONENT=6402;gl.DEPTH_COMPONENT16=33189;gl.Ck=36396;gl.Dk=33189;gl.Ek=33190;gl.Fk=33191;gl.Gk=6145;gl.DEPTH_FUNC=2932;gl.DEPTH_RANGE=2928;gl.Hk=34041;gl.DEPTH_TEST=2929;gl.DEPTH_WRITEMASK=2930;gl.DITHER=3024;gl.Xk=1;gl.DONT_CARE=4352;gl.Yk=34853;gl.Zk=34863;gl.$k=34864;gl.al=34865;gl.bl=34866;
gl.cl=34867;gl.dl=34868;gl.el=34854;gl.fl=34855;gl.hl=34856;gl.il=34857;gl.jl=34858;gl.kl=34859;gl.ll=34860;gl.ml=34861;gl.nl=34862;gl.ol=3073;gl.pl=36009;gl.ql=36009;gl.rl=36006;gl.sl=36006;gl.tl=36006;gl.ul=36009;gl.DST_ALPHA=772;gl.DST_COLOR=774;gl.DYNAMIC_DRAW=35048;gl.ELEMENT_ARRAY_BUFFER=34963;gl.ELEMENT_ARRAY_BUFFER_BINDING=34965;gl.EQUAL=514;gl.yl=1;gl.zl=36196;gl.Al=35054;gl.Bl=7939;gl.Cl=1;gl.Dl=1;gl.El=1;gl.Fl=1;gl.Gl=1;gl.Hl=1;gl.Il=1;gl.Jl=1;gl.Kl=1;gl.Ll=1;gl.Ml=1;gl.Nl=1;gl.Ol=1;
gl.Pl=1;gl.Ql=1;gl.Rl=1;gl.Sl=1;gl.Tl=1;gl.Ul=1;gl.Vl=1;gl.Wl=1;gl.Xl=1;gl.Yl=1;gl.Zl=1;gl.$l=0;gl.FASTEST=4353;gl.am=34036;gl.bm=34035;gl.em=5132;gl.fm=1;gl.FLOAT=5126;gl.FLOAT_MAT2=35674;gl.FLOAT_MAT3=35675;gl.FLOAT_MAT4=35676;gl.FLOAT_VEC2=35664;gl.FLOAT_VEC3=35665;gl.FLOAT_VEC4=35666;gl.FRAGMENT_SHADER=35632;gl.im=2;gl.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723;gl.jm=35410;gl.FRAMEBUFFER=36160;gl.km=37795;gl.lm=33296;gl.mm=33297;gl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;
gl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;gl.nm=36052;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;gl.om=36204;gl.FRAMEBUFFER_BINDING=36006;gl.FRAMEBUFFER_COMPLETE=36053;gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;gl.pm=36182;gl.qm=36182;gl.rm=36182;gl.sm=37172;gl.tm=36182;gl.um=33305;gl.FRAMEBUFFER_UNSUPPORTED=36061;gl.FRONT=1028;
gl.FRONT_AND_BACK=1032;gl.FRONT_FACE=2886;gl.FUNC_ADD=32774;gl.FUNC_REVERSE_SUBTRACT=32779;gl.FUNC_SUBTRACT=32778;gl.GENERATE_MIPMAP_HINT=33170;gl.GEQUAL=518;gl.wm=36786;gl.GREATER=516;gl.GREEN_BITS=3411;gl.xm=33363;gl.HALF_FLOAT_OES=36193;gl.HIGH_FLOAT=36338;gl.HIGH_INT=36341;gl.zm=1;gl.Am=1;gl.Bm=1;gl.Cm=1;gl.Dm=1;gl.Em=1;gl.Fm=35739;gl.Gm=35738;gl.INCR=7682;gl.INCR_WRAP=34055;gl.Hm=35716;gl.Im=33364;gl.INT=5124;gl.Jm=36343;gl.INT_VEC2=35667;gl.INT_VEC3=35668;gl.INT_VEC4=35669;gl.INVALID_ENUM=1280;
gl.INVALID_FRAMEBUFFER_OPERATION=1286;gl.INVALID_OPERATION=1282;gl.INVALID_VALUE=1281;gl.INVERT=5386;gl.KEEP=7680;gl.Km=1;gl.Lm=1;gl.LEQUAL=515;gl.LESS=513;gl.LINEAR=9729;gl.LINEAR_MIPMAP_LINEAR=9987;gl.LINEAR_MIPMAP_NEAREST=9985;gl.LINES=1;gl.LINE_LOOP=2;gl.LINE_STRIP=3;gl.LINE_WIDTH=2849;gl.LINK_STATUS=35714;gl.Sm=33362;gl.LOW_FLOAT=36336;gl.LOW_INT=36339;gl.LUMINANCE=6409;gl.Tm=34846;gl.Um=34840;gl.Vm=32835;gl.Wm=32837;gl.Xm=32837;gl.Ym=32832;gl.Zm=32832;gl.LUMINANCE_ALPHA=6410;gl.$m=34847;
gl.an=34841;gl.hn=36705;gl.jn=36704;gl.kn=16;gl.ln=8;gl.mn=4;gl.nn=1;gl.on=32;gl.pn=2;gl.qn=32883;gl.rn=36063;gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;gl.MAX_CUBE_MAP_TEXTURE_SIZE=34076;gl.tn=33388;gl.un=37188;gl.vn=37187;gl.wn=34852;gl.xn=32776;gl.MAX_FRAGMENT_UNIFORM_VECTORS=36349;gl.yn=33512;gl.zn=37106;gl.MAX_RENDERBUFFER_SIZE=34024;gl.An=36183;gl.Bn=36183;gl.Cn=36183;gl.Dn=37173;gl.En=36183;gl.Fn=37137;gl.MAX_TEXTURE_IMAGE_UNITS=34930;gl.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047;
gl.MAX_TEXTURE_SIZE=3379;gl.MAX_VARYING_VECTORS=36348;gl.MAX_VERTEX_ATTRIBS=34921;gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;gl.MAX_VERTEX_UNIFORM_VECTORS=36347;gl.MAX_VIEWPORT_DIMS=3386;gl.MEDIUM_FLOAT=36337;gl.MEDIUM_INT=36340;gl.Gn=32775;gl.MIRRORED_REPEAT=33648;gl.Hn=16777216;gl.In=33554432;gl.Jn=67108864;gl.Kn=134217728;gl.Ln=268435456;gl.Mn=536870912;gl.Nn=1073741824;gl.On=2147483648;gl.Pn=37105;gl.NEAREST=9728;gl.NEAREST_MIPMAP_LINEAR=9986;gl.NEAREST_MIPMAP_NEAREST=9984;gl.NEVER=512;
gl.NICEST=4354;gl.NONE=0;gl.NOTEQUAL=517;gl.NO_ERROR=0;gl.Rn=33377;gl.Sn=34466;gl.Tn=34814;gl.Un=36345;gl.Wn=1;gl.Xn=1;gl.Yn=1;gl.Zn=1;gl.$n=1;gl.ao=1;gl.bo=1;gl.co=1;gl.eo=1;gl.fo=1;gl.ho=1;gl.io=1;gl.jo=1;gl.ko=1;gl.lo=1;gl.mo=1;gl.no=1;gl.oo=1;gl.po=1;gl.qo=1;gl.ro=1;gl.so=37138;gl.to=1;gl.uo=1;gl.vo=1;gl.wo=1;gl.xo=1;gl.yo=1;gl.zo=1;gl.Ao=1;gl.Bo=1;gl.Co=1;gl.Do=1;gl.Eo=1;gl.Fo=1;gl.Go=1;gl.Ho=1;gl.Io=1;gl.Jo=1;gl.Ko=1;gl.Lo=1;gl.Mo=1;gl.No=1;gl.Oo=1;gl.Po=1;gl.Qo=1;gl.Ro=1;gl.So=1;gl.To=1;
gl.Uo=1;gl.ONE=1;gl.ONE_MINUS_CONSTANT_ALPHA=32772;gl.ONE_MINUS_CONSTANT_COLOR=32770;gl.ONE_MINUS_DST_ALPHA=773;gl.ONE_MINUS_DST_COLOR=775;gl.ONE_MINUS_SRC_ALPHA=771;gl.ONE_MINUS_SRC_COLOR=769;gl.OUT_OF_MEMORY=1285;gl.PACK_ALIGNMENT=3333;gl.kp=37796;gl.lp=35730;gl.mp=35732;gl.np=35728;gl.op=35731;gl.pp=35729;gl.qp=35735;gl.rp=35737;gl.sp=35733;gl.tp=35736;gl.up=35734;gl.wp=35779;gl.xp=36768;gl.yp=35782;gl.zp=35780;gl.Ap=35781;gl.POINTS=0;gl.POLYGON_OFFSET_FACTOR=32824;gl.POLYGON_OFFSET_FILL=32823;
gl.POLYGON_OFFSET_UNITS=10752;gl.Hp=33506;gl.Ip=37798;gl.Jp=34815;gl.Kp=34625;gl.Lp=35648;gl.Mp=33370;gl.Np=35407;gl.Op=33368;gl.Qp=1;gl.Rp=1;gl.Sp=1;gl.Tp=1;gl.Up=1;gl.Vp=1;gl.Wp=1;gl.Xp=1;gl.Yp=33507;gl.Zp=37203;gl.$p=34919;gl.aq=34918;gl.bq=33325;gl.cq=33326;gl.dq=33321;gl.eq=3074;gl.fq=3074;gl.gq=36008;gl.hq=36008;gl.iq=36010;gl.jq=36010;gl.kq=36010;gl.lq=36008;gl.RED_BITS=3410;gl.mq=6403;gl.RENDERBUFFER=36161;gl.RENDERBUFFER_ALPHA_SIZE=36179;gl.RENDERBUFFER_BINDING=36007;
gl.RENDERBUFFER_BLUE_SIZE=36178;gl.RENDERBUFFER_DEPTH_SIZE=36180;gl.RENDERBUFFER_GREEN_SIZE=36177;gl.RENDERBUFFER_HEIGHT=36163;gl.RENDERBUFFER_INTERNAL_FORMAT=36164;gl.RENDERBUFFER_RED_SIZE=36176;gl.nq=36011;gl.oq=36011;gl.pq=36011;gl.qq=37171;gl.rq=36011;gl.RENDERBUFFER_STENCIL_SIZE=36181;gl.RENDERBUFFER_WIDTH=36162;gl.RENDERER=7937;gl.sq=36787;gl.REPEAT=10497;gl.REPLACE=7681;gl.tq=36200;gl.uq=33366;gl.xq=33327;gl.yq=33328;gl.zq=33323;gl.RGB=6407;gl.Aq=32857;gl.Bq=32850;gl.Cq=34843;gl.Dq=34837;
gl.RGB565=36194;gl.Eq=36194;gl.RGB5_A1=32855;gl.Fq=32855;gl.Gq=32849;gl.RGBA=6408;gl.Hq=34842;gl.Iq=34836;gl.RGBA4=32854;gl.Jq=32854;gl.Kq=32856;gl.Lq=35359;gl.Mq=33319;gl.Nq=33510;gl.SAMPLER_2D=35678;gl.Oq=36292;gl.Pq=35682;gl.Qq=35679;gl.SAMPLER_CUBE=35680;gl.Rq=36293;gl.Sq=36198;gl.SAMPLES=32937;gl.SAMPLE_ALPHA_TO_COVERAGE=32926;gl.SAMPLE_BUFFERS=32936;gl.SAMPLE_COVERAGE=32928;gl.SAMPLE_COVERAGE_INVERT=32939;gl.SAMPLE_COVERAGE_VALUE=32938;gl.SCISSOR_BOX=3088;gl.SCISSOR_TEST=3089;gl.Uq=35850;
gl.Vq=37168;gl.Wq=33505;gl.Xq=37456;gl.Yq=36344;gl.Zq=36804;gl.$q=36346;gl.ar=35656;gl.gr=35720;gl.SHADER_TYPE=35663;gl.SHADING_LANGUAGE_VERSION=35724;gl.SHORT=5122;gl.hr=37145;gl.ir=35909;gl.jr=35911;gl.kr=35908;gl.lr=35910;gl.SRC_ALPHA=770;gl.SRC_ALPHA_SATURATE=776;gl.SRC_COLOR=768;gl.mr=35907;gl.nr=35905;gl.or=35906;gl.pr=35904;gl.qr=1283;gl.rr=1284;gl.sr=35804;gl.STATIC_DRAW=35044;gl.STENCIL_ATTACHMENT=36128;gl.STENCIL_BACK_FAIL=34817;gl.STENCIL_BACK_FUNC=34816;
gl.STENCIL_BACK_PASS_DEPTH_FAIL=34818;gl.STENCIL_BACK_PASS_DEPTH_PASS=34819;gl.STENCIL_BACK_REF=36003;gl.STENCIL_BACK_VALUE_MASK=36004;gl.STENCIL_BACK_WRITEMASK=36005;gl.STENCIL_BITS=3415;gl.STENCIL_BUFFER_BIT=1024;gl.tr=65536;gl.ur=131072;gl.vr=262144;gl.wr=524288;gl.xr=1048576;gl.yr=2097152;gl.zr=4194304;gl.Ar=8388608;gl.STENCIL_CLEAR_VALUE=2961;gl.Br=6146;gl.STENCIL_FAIL=2964;gl.STENCIL_FUNC=2962;gl.Cr=36166;gl.Dr=36167;gl.STENCIL_INDEX8=36168;gl.STENCIL_PASS_DEPTH_FAIL=2965;
gl.STENCIL_PASS_DEPTH_PASS=2966;gl.STENCIL_REF=2967;gl.STENCIL_TEST=2960;gl.STENCIL_VALUE_MASK=2963;gl.STENCIL_WRITEMASK=2968;gl.STREAM_DRAW=35040;gl.SUBPIXEL_BITS=3408;gl.Er=37139;gl.Fr=37142;gl.Gr=37141;gl.Hr=1;gl.Ir=37143;gl.Jr=35411;gl.Kr=37140;gl.TEXTURE=5890;gl.TEXTURE0=33984;gl.TEXTURE1=33985;gl.TEXTURE10=33994;gl.TEXTURE11=33995;gl.TEXTURE12=33996;gl.TEXTURE13=33997;gl.TEXTURE14=33998;gl.TEXTURE15=33999;gl.TEXTURE16=34E3;gl.TEXTURE17=34001;gl.TEXTURE18=34002;gl.TEXTURE19=34003;
gl.TEXTURE2=33986;gl.TEXTURE20=34004;gl.TEXTURE21=34005;gl.TEXTURE22=34006;gl.TEXTURE23=34007;gl.TEXTURE24=34008;gl.TEXTURE25=34009;gl.TEXTURE26=34010;gl.TEXTURE27=34011;gl.TEXTURE28=34012;gl.TEXTURE29=34013;gl.TEXTURE3=33987;gl.TEXTURE30=34014;gl.TEXTURE31=34015;gl.TEXTURE4=33988;gl.TEXTURE5=33989;gl.TEXTURE6=33990;gl.TEXTURE7=33991;gl.TEXTURE8=33992;gl.TEXTURE9=33993;gl.TEXTURE_2D=3553;gl.Wr=32879;gl.TEXTURE_BINDING_2D=32873;gl.Xr=32874;gl.TEXTURE_BINDING_CUBE_MAP=34068;gl.Yr=36199;gl.Zr=4100;
gl.$r=34893;gl.as=34892;gl.TEXTURE_CUBE_MAP=34067;gl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;gl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;gl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;gl.TEXTURE_CUBE_MAP_POSITIVE_X=34069;gl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;gl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;gl.bs=35796;gl.cs=36197;gl.ds=35798;gl.es=35795;gl.fs=35800;gl.gs=37167;gl.hs=35797;gl.TEXTURE_MAG_FILTER=10240;gl.TEXTURE_MAX_ANISOTROPY_EXT=34046;gl.is=33085;gl.TEXTURE_MIN_FILTER=10241;gl.js=35801;gl.ks=35803;gl.ps=37174;
gl.qs=35802;gl.rs=35799;gl.ss=37794;gl.ts=35794;gl.us=32882;gl.TEXTURE_WRAP_S=10242;gl.TEXTURE_WRAP_T=10243;gl.vs=37147;gl.ws=1.8446744073709552E19;gl.zs=37792;gl.TRIANGLES=4;gl.TRIANGLE_FAN=6;gl.TRIANGLE_STRIP=5;gl.As=1;gl.Ls=33365;gl.UNPACK_ALIGNMENT=3317;gl.Ms=3314;gl.Ns=3316;gl.Os=3315;gl.Ps=37144;gl.UNSIGNED_BYTE=5121;gl.UNSIGNED_INT=5125;gl.Qs=35778;gl.Rs=36342;gl.Ss=34042;gl.Ts=33640;gl.Us=35863;gl.UNSIGNED_SHORT=5123;gl.Vs=33638;gl.UNSIGNED_SHORT_4_4_4_4=32819;gl.Ws=33637;gl.Xs=33637;
gl.UNSIGNED_SHORT_5_5_5_1=32820;gl.UNSIGNED_SHORT_5_6_5=33635;gl.Ys=34234;gl.Zs=34235;gl.VALIDATE_STATUS=35715;gl.VENDOR=7936;gl.VERSION=7938;gl.VERTEX_ARRAY_BINDING_OES=34229;gl.ft=37204;gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;gl.gt=35070;gl.ht=35070;gl.VERTEX_ATTRIB_ARRAY_ENABLED=34338;gl.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;gl.VERTEX_ATTRIB_ARRAY_POINTER=34373;gl.VERTEX_ATTRIB_ARRAY_SIZE=34339;gl.VERTEX_ATTRIB_ARRAY_STRIDE=34340;gl.VERTEX_ATTRIB_ARRAY_TYPE=34341;gl.VERTEX_SHADER=35633;
gl.kt=1;gl.VIEWPORT=2978;gl.lt=1;gl.mt=37149;gl.ot=34851;gl.pt=35001;gl.qt=34624;gl.ZERO=0;gl=gl||{};gl.NEAREST=9728;gl.LINEAR=9729;gl.REPEAT=10497;gl.CLAMP_TO_EDGE=33071;gl.ni=33069;gl.LINEAR_MIPMAP_NEAREST=9985;gl.NEAREST_MIPMAP_NEAREST=9984;gl.ZERO=0;gl.ONE=1;gl.SRC_COLOR=768;gl.ONE_MINUS_SRC_COLOR=769;gl.SRC_ALPHA=770;gl.ONE_MINUS_SRC_ALPHA=771;gl.DST_ALPHA=772;gl.ONE_MINUS_DST_ALPHA=773;gl.DST_COLOR=774;gl.ONE_MINUS_DST_COLOR=775;gl.SRC_ALPHA_SATURATE=776;cc.BuilderReader=cc.BuilderReader||{};cc.BuilderReader.Yd="";var ba=this;cc.BuilderReader.setResourcePath=function(a){cc.BuilderReader.Yd=a};
cc.BuilderReader.load=function(a,b,c){var d=cc.xt.create();d.setCCBRootPath(cc.BuilderReader.Yd);a=c?d.load(a,h,c):d.load(a);if(b){for(var f=d.getOwnerCallbackNames(),i=d.getOwnerCallbackNodes(),c=0;c<f.length;c++){var k=f[c],o=i[c];o.setCallback(b[k],b)}f=d.getOwnerOutletNames();i=d.getOwnerOutletNodes();for(c=0;c<f.length;c++)k=f[c],o=i[c],b[k]=o}f=d.getNodesWithAnimationManagers();d=d.getAnimationManagersForNodes();for(c=0;c<f.length;c++){var q=f[c],i=d[c];q.Ft=i;if(k=i.getDocumentControllerName()){var v=
new ba[k];v.It=k;q.Ht=v;v.nu=q;for(var p=i.getDocumentCallbackNames(),t=i.getDocumentCallbackNodes(),q=0;q<p.length;q++)k=p[q],o=t[q],o.setCallback(v[k],v);p=i.getDocumentOutletNames();t=i.getDocumentOutletNodes();for(q=0;q<p.length;q++)k=p[q],o=t[q],v[k]=o;"function"==typeof v.Pf&&v.Pf();o=i.Xt();for(q=0;q<o.length;q++)k=o[q].split(":"),p=k[0],k=k[1],1==p?(k=cc.CallFunc.create(v[k],v),i.Og(k,o[q])):2==p&&b&&(k=cc.CallFunc.create(b[k],b),i.Og(k,o[q]));v=i.getAutoPlaySequenceId();-1!=v&&i.pu(v,0)}}return a};
cc.BuilderReader.loadAsScene=function(a,b,c){a=cc.BuilderReader.load(a,b,c);b=cc.Scene.create();b.addChild(a);return b};sys=sys||{};Object.defineProperties(sys,{capabilities:{get:function(){var a={opengl:g};"mobile"==sys.platform?(a.accelerometer=g,a.touches=g):(a.keyboard=g,a.mouse=g);return a},enumerable:g,configurable:g},os:{get:function(){return __getOS()},enumerable:g,configurable:g},platform:{get:function(){return __getPlatform()},enumerable:g,configurable:g},version:{get:function(){return __getVersion()},enumerable:g,configurable:g}});sys.garbageCollect=function(){__jsc__.garbageCollect()};sys.dumpRoot=function(){__jsc__.dumpRoot()};
sys.restartVM=function(){__restartVM()};var r=h,u=h,ca=ca||j,da=da||"N/A",w=cc.Scene.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create("Main Menu","Arial",20),a=cc.MenuItemLabel.create(a,this.Zf,this),b=cc.Menu.create(a);b.setPosition(0,0);a.setPosition(u.width-50,25);this.addChild(b,1)},Zf:function(){var a=cc.Scene.create(),b=new ea;a.addChild(b);a=cc.TransitionProgressRadialCCW.create(0.5,a);r.replaceScene(a)},C:l()}),fa=40,ga=cc.p(0,0),ea=
cc.LayerGradient.extend({U:h,ff:0,eu:j,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(70,130,180,255));r=cc.Director.getInstance();u=r.getWinSize();var a=cc.MenuItemImage.create("res/Images/close.png","res/Images/close.png",this.Of,this);a.setPosition(u.width-30,u.height-30);var b=cc.MenuItemFont.create("Automated Test: Off");b.setFontSize(18);var c=cc.MenuItemFont.create("Automated Test: On");c.setFontSize(18);b=cc.MenuItemToggle.create(b,
c);b.setCallback(this.rg,this);b.setPosition(u.width-90,20);ca&&b.setSelectedIndex(1);a=cc.Menu.create(a,b);a.setPosition(0,0);this.U=cc.Menu.create();b=0;for(c=ha.length;b<c;b++){var d=cc.LabelTTF.create(ha[b].title,"Arial",24),d=cc.MenuItemLabel.create(d,this.X,this);this.U.addChild(d,b+1E4);d.setPosition(u.width/2,u.height-(b+1)*fa);"browser"==sys.platform?d.setEnabled(ha[b].B&2):d.setEnabled(ha[b].B&1)}this.U.setContentSize(cc.size(u.width,(ha.length+1)*fa));this.U.setPosition(ga);this.addChild(this.U);
this.addChild(a,1);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},onEnter:function(){this._super();this.U.setPosition(this.U.getPosition().x,ea.Ud)},X:function(a){ea.Ud=this.U.getPosition().y;a=a.getZOrder()-1E4;da=ha[a].title;var b=ha[a];cc.Loader.preload(b.fa||[],function(){var a=b.s();a&&a.C()},this)},Of:function(){history.go(-1)},rg:function(){ca=!ca},onTouchesMoved:function(a){this.Cb(a[0].getDelta());return g},onMouseDragged:function(a){this.Cb(a.getDelta());
return g},onScrollWheel:function(a){this.Cb({y:-a.getWheelDelta()});return g},Cb:function(a){var b=this.U.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(ha.length+1)*fa-u.height&&(a=(ha.length+1)*fa-u.height);this.U.setPosition(b.x,a)}});ea.Ud=0;
var ha=[{title:"ActionManager Test",B:3,s:function(){return new ia}},{title:"Actions Test",B:3,s:function(){return new ja}},{title:"Box2D Test",fa:[{src:"res/Images/blocks.png"}],B:2,s:function(){return new Box2DTestScene}},{title:"Chipmunk Test",B:3,s:function(){return new ka}},{title:"Click and Move Test",B:3,s:function(){return new la}},{title:"CocosDenshion Test",fa:[{src:"res/Sound/background.mp3"},{src:"res/Sound/effect2.mp3"},{src:"res/Sound/background.ogg"},{src:"res/Sound/effect2.ogg"}],
B:3,s:function(){return new CocosDenshionTestScene}},{title:"CurrentLanguage Test",B:2,s:function(){return new CurrentLanguageTestScene}},{title:"DrawPrimitives Test",B:3,s:function(){return new ma}},{title:"EaseActions Test",B:3,s:function(){return new na}},{title:"Event Test",B:3,s:function(){return new oa}},{title:"Extensions Test",fa:[{src:"res/Images/Icon.png"},{src:"res/extensions/background.png"},{src:"res/extensions/buttonBackground.png"},{src:"res/extensions/button.png"},{src:"res/extensions/buttonHighlighted.png"},
{src:"res/extensions/ribbon.png"},{src:"res/ccb/HelloCocosBuilder.ccbi"},{src:"res/ccb/ccb/TestAnimations.ccbi"},{src:"res/ccb/ccb/TestAnimationsSub.ccbi"},{src:"res/ccb/ccb/TestButtons.ccbi"},{src:"res/ccb/ccb/TestHeader.ccbi"},{src:"res/ccb/ccb/TestLabels.ccbi"},{src:"res/ccb/ccb/TestMenus.ccbi"},{src:"res/ccb/ccb/TestParticleSystems.ccbi"},{src:"res/ccb/ccb/TestScrollViews.ccbi"},{src:"res/ccb/ccb/TestScrollViewsContentA.ccbi"},{src:"res/ccb/ccb/TestSprites.ccbi"},{src:"res/ccb/btn-test-0.png"},
{src:"res/ccb/animated-grossini.png"},{src:"res/ccb/btn-a-0.png"},{src:"res/ccb/btn-a-1.png"},{src:"res/ccb/btn-a-2.png"},{src:"res/ccb/btn-b-0.png"},{src:"res/ccb/btn-b-1.png"},{src:"res/ccb/btn-b-2.png"},{src:"res/ccb/btn-back-0.png"},{src:"res/ccb/btn-back-1.png"},{src:"res/ccb/btn-test-0.png"},{src:"res/ccb/btn-test-1.png"},{src:"res/ccb/btn-test-2.png"},{src:"res/ccb/burst.png"},{src:"res/ccb/flower.jpg"},{src:"res/ccb/grossini-generic.png"},{src:"res/ccb/jungle.png"},{src:"res/ccb/jungle-left.png"},
{src:"res/ccb/jungle-right.png"},{src:"res/ccb/logo.png"},{src:"res/ccb/logo-icon.png"},{src:"res/ccb/markerfelt24shadow.png"},{src:"res/ccb/particle-fire.png"},{src:"res/ccb/particle-smoke.png"},{src:"res/ccb/particle-snow.png"},{src:"res/ccb/particle-stars.png"},{src:"res/ccb/scale-9-demo.png"},{src:"res/ccb/markerfelt24shadow.fnt"},{src:"res/ccb/grossini-generic.plist"},{src:"res/ccb/animated-grossini.plist"}],B:2,s:function(){return new pa}},{title:"Effects Test",B:1,s:function(){return new qa}},
{title:"FileUtils Test",fa:[{src:"FileUtils/lookup-html5.plist"}],B:3,s:function(){return new ra}},{title:"Font Test",fa:[{fontName:"Thonburi",src:[{src:"res/fonts/Thonburi.eot",type:"embedded-opentype"},{src:"res/fonts/Thonburi.ttf",type:"truetype"}]},{fontName:"Schwarzwald Regular",src:[{src:"res/fonts/Schwarzwald_Regular.eot",type:"embedded-opentype"},{src:"res/fonts/Schwarzwald Regular.ttf",type:"truetype"}]},{fontName:"ThonburiBold",src:[{src:"res/fonts/ThonburiBold.eot",type:"embedded-opentype"},
{src:"res/fonts/ThonburiBold.ttf",type:"truetype"}]},{fontName:"Courier New",src:[{src:"res/fonts/Courier New.eot",type:"embedded-opentype"},{src:"res/fonts/Courier New.ttf",type:"truetype"}]}],B:3,s:function(){return new FontTestScene}},{title:"Interval Test",B:3,s:function(){return new IntervalTestScene}},{title:"Label Test",fa:[{src:"res/fonts/bitmapFontTest.png"},{src:"res/fonts/bitmapFontTest2.png"},{src:"res/fonts/bitmapFontTest3.png"},{src:"res/fonts/bitmapFontTest4.png"},{src:"res/fonts/bitmapFontTest5.png"},
{src:"res/fonts/konqa32.png"},{src:"res/fonts/konqa32-hd.png"},{src:"res/fonts/bitmapFontChinese.png"},{src:"res/fonts/arial16.png"},{src:"res/fonts/larabie-16.png"},{src:"res/fonts/larabie-16-hd.png"},{src:"res/fonts/futura-48.png"},{src:"res/fonts/arial-unicode-26.png"},{src:"res/fonts/tuffy_bold_italic-charmap.png"},{src:"res/Images/arrows.png"},{src:"res/Images/arrowsBar.png"},{src:"res/Images/arrows-hd.png"},{src:"res/Images/arrowsBar-hd.png"},{src:"res/fonts/larabie-16.plist"},{src:"res/fonts/larabie-16-hd.plist"},
{src:"res/fonts/tuffy_bold_italic-charmap.plist"},{src:"res/fonts/tuffy_bold_italic-charmap-hd.plist"},{src:"res/fonts/bitmapFontTest.fnt"},{src:"res/fonts/bitmapFontTest2.fnt"},{src:"res/fonts/bitmapFontTest3.fnt"},{src:"res/fonts/bitmapFontTest4.fnt"},{src:"res/fonts/bitmapFontTest5.fnt"},{src:"res/fonts/konqa32.fnt"},{src:"res/fonts/konqa32-hd.fnt"},{src:"res/fonts/bitmapFontChinese.fnt"},{src:"res/fonts/arial16.fnt"},{src:"res/fonts/futura-48.fnt"},{src:"res/fonts/helvetica-32.fnt"},{src:"res/fonts/geneva-32.fnt"},
{src:"res/fonts/arial-unicode-26.fnt"},{src:"res/fonts/markerFelt.fnt"},{src:"res/fonts/markerFelt-hd.fnt"},{src:"res/fonts/strings.xml"}],B:3,s:function(){return new sa}},{title:"Layer Test",B:3,s:function(){return new ta}},{title:"Menu Test",fa:[{src:"res/fonts/bitmapFontTest3.fnt"},{src:"res/fonts/bitmapFontTest3.png"},{src:"res/Images/btn-play-normal.png"},{src:"res/Images/btn-play-selected.png"},{src:"res/Images/btn-about-normal.png"},{src:"res/Images/btn-about-selected.png"},{src:"res/Images/btn-highscores-normal.png"},
{src:"res/Images/btn-highscores-selected.png"},{src:"res/Images/menuitemsprite.png"},{src:"res/Images/SendScoreButton.png"},{src:"res/Images/SendScoreButtonPressed.png"},{src:"res/fonts/fps_images.png"}],B:3,s:function(){return new ua}},{title:"Node Test",B:3,s:function(){return new va}},{title:"OpenGL Test",B:1,s:function(){return new OpenGLTestScene}},{title:"Parallax Test",fa:[{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/fixed-ortho-test2.png"},{src:"res/Images/powered.png"},{src:"res/Images/background.png"}],
B:3,s:function(){return new ParallaxTestScene}},{title:"Particle Test",B:3,fa:[{src:"res/fonts/fps_images.png"},{src:"res/Images/stars-grayscale.png"},{src:"res/Images/stars2-grayscale.png"},{src:"res/Images/texturemode.png"},{src:"res/Images/shapemode.png"},{src:"res/Images/movement.png"},{src:"res/Images/stars.png"},{src:"res/Images/stars2.png"},{src:"res/Images/snow.png"},{src:"res/Images/particles.png"},{src:"res/Images/particles-hd.png"},{src:"res/Particles/BoilingFoam.plist"},{src:"res/Particles/BurstPipe.plist"},
{src:"res/Particles/Comet.plist"},{src:"res/Particles/debian.plist"},{src:"res/Particles/ExplodingRing.plist"},{src:"res/Particles/Flower.plist"},{src:"res/Particles/Galaxy.plist"},{src:"res/Particles/LavaFlow.plist"},{src:"res/Particles/Phoenix.plist"},{src:"res/Particles/SmallSun.plist"},{src:"res/Particles/SpinningPeas.plist"},{src:"res/Particles/Spiral.plist"},{src:"res/Particles/SpookyPeas.plist"},{src:"res/Particles/TestPremultipliedAlpha.plist"},{src:"res/Particles/Upsidedown.plist"}],s:function(){return new wa}},
{title:"Performance Test",B:3,s:function(){return new xa}},{title:"ProgressActions Test",B:3,s:function(){return new ya}},{title:"RenderTexture Test",B:1,s:function(){return new za}},{title:"RotateWorld Test",B:3,s:function(){return new Aa}},{title:"Scene Test",B:3,s:function(){return new SceneTestScene}},{title:"Scheduler Test",B:3,s:function(){return new Ba}},{title:"Sprite Test",fa:[{src:"res/Images/piece.png"},{src:"res/animations/grossini_gray.png"},{src:"res/animations/grossini_blue.png"},{src:"res/Images/grossini_dance_atlas.png"},
{src:"res/animations/grossini-aliases.png"},{src:"res/animations/dragon_animation.png"},{src:"res/animations/ghosts.png"},{src:"res/animations/grossini_family.png"},{src:"res/Images/grossini_dance_atlas-mono.png"},{src:"res/animations/animations.plist"},{src:"res/animations/grossini_gray.plist"},{src:"res/animations/grossini_blue.plist"},{src:"res/animations/grossini-aliases.plist"},{src:"res/animations/ghosts.plist"},{src:"res/animations/grossini_family.plist"},{src:"res/animations/tcc_issue_1.plist"},
{src:"res/animations/tcc_issue_2.plist"},{src:"res/animations/tcc_issue_1.png"},{src:"res/animations/tcc_issue_2.png"},{src:"res/Images/blocks9ss.plist"},{src:"res/Images/blocks9ss.png"}],B:3,s:function(){return new Ca}},{title:"Scale9Sprite Test",fa:[{src:"res/Images/blocks9ss.plist"},{src:"res/Images/blocks9ss.png"}],B:3,s:function(){return new Da}},{title:"TextInput Test",B:2,s:function(){return new TextInputTestScene}},{title:"TextureCache Test",B:2,s:function(){return new TextureCacheTestScene}},
{title:"TileMap Test",fa:[{src:"res/TileMaps/fixed-ortho-test2.png"},{src:"res/TileMaps/hexa-tiles.png"},{src:"res/TileMaps/iso-test.png"},{src:"res/TileMaps/iso-test2.png"},{src:"res/TileMaps/iso.png"},{src:"res/TileMaps/ortho-test1_bw.png"},{src:"res/TileMaps/ortho-test1.png"},{src:"res/TileMaps/tiles-hd.png"},{src:"res/TileMaps/tmw_desert_spacing-hd.png"},{src:"res/TileMaps/tmw_desert_spacing.png"},{src:"res/TileMaps/tiles.png"},{src:"res/TileMaps/orthogonal-test1.tmx"},{src:"res/TileMaps/orthogonal-test1.tsx"},
{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/orthogonal-test3.tmx"},{src:"res/TileMaps/orthogonal-test4.tmx"},{src:"res/TileMaps/orthogonal-test4-hd.tmx"},{src:"res/TileMaps/orthogonal-test5.tmx"},{src:"res/TileMaps/orthogonal-test6.tmx"},{src:"res/TileMaps/orthogonal-test6-hd.tmx"},{src:"res/TileMaps/hexa-test.tmx"},{src:"res/TileMaps/iso-test.tmx"},{src:"res/TileMaps/iso-test1.tmx"},{src:"res/TileMaps/iso-test2.tmx"},{src:"res/TileMaps/iso-test2-uncompressed.tmx"},{src:"res/TileMaps/ortho-objects.tmx"},
{src:"res/TileMaps/iso-test-objectgroup.tmx"},{src:"res/TileMaps/iso-test-zorder.tmx"},{src:"res/TileMaps/orthogonal-test-zorder.tmx"},{src:"res/TileMaps/iso-test-vertexz.tmx"},{src:"res/TileMaps/orthogonal-test-vertexz.tmx"},{src:"res/TileMaps/iso-test-movelayer.tmx"},{src:"res/TileMaps/orthogonal-test-movelayer.tmx"},{src:"res/TileMaps/iso-test-bug787.tmx"},{src:"res/TileMaps/test-object-layer.tmx"},{src:"res/TileMaps/ortho-tile-property.tmx"},{src:"res/TileMaps/ortho-rotation-test.tmx"}],B:3,s:function(){return new Ea}},
{title:"Touches Test",fa:[{src:"res/Images/ball.png"},{src:"res/Images/paddle.png"}],B:2,s:function(){return new TouchesTestScene}},{title:"Transitions Test",fa:[{src:"res/Images/background1.png"},{src:"res/Images/background2.png"}],B:3,s:function(){return new Fa}},{title:"Unit Tests",B:3,s:function(){return new Ga}},{title:"Sys Tests",B:3,s:function(){return new Ha}},{title:"cocos2d JS Presentation",B:1,s:function(){return new Ia}}];var ca=ca||j,da=da||"N/A",x=cc.LayerGradient.extend({ctor:function(a,b){sys.garbageCollect();this._super();cc.associateWithNative(this,cc.LayerGradient);var c=cc.c4b(98,99,117,255),d=cc.c4b(0,0,0,255);1<=arguments.length&&(c=a);2==arguments.length&&(d=b);ca&&(c=cc.c4b(0,0,0,255),d=cc.c4b(0,0,0,255));this.init(c,d);u=r.getWinSize();ca&&(this.M(),this.scheduleOnce(this.Bf,this.u),this.wa())},wa:l(),rd:function(){var a="";"title"in this?a=this.title():"_title"in this&&(a=this.d);return a},Hf:function(){var a=
"";"subtitle"in this?a=this.e():"_subtitle"in this&&(a=this.h);return a},log:function(a){ca||cc.log(a)},onEnter:function(){this._super();var a=this.rd(),a=cc.LabelTTF.create(a,"Arial",28);this.addChild(a,100,11);a.setPosition(u.width/2,u.height-50);if(a=this.Hf())a=cc.LabelTTF.create(a.toString(),"Thonburi",16),this.addChild(a,101,12),a.setPosition(u.width/2,u.height-80);var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.D,this),b=cc.MenuItemImage.create("res/Images/r1.png",
"res/Images/r2.png",this.G,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.F,this);a.setTag(1);b.setTag(2);c.setTag(3);var d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(u.width/2-2*f.width,f.height/2);b.setPosition(u.width/2,f.height/2);c.setPosition(u.width/2+2*f.width,f.height/2);this.addChild(d,102,10)},G:l(),F:l(),D:l(),u:0.25,q:function(){e("Not Implemented")},o:function(){e("Not Implemented")},pf:function(a,b){return a==b},Xg:function(){var a=
this.o(),b=this.q(),c=this.pf(a,b);c||(this.le="Expected value: '"+b+"'. Current value'"+a+"'.");return c},Bf:function(a){this.le="";var b=this.rd();try{this.Xg(a)?cc.log(da+" - "+this.I()+": Test '"+b+"':' OK"):cc.log(da+" - "+this.I()+": Test '"+b+"': Error: "+this.le)}catch(c){cc.log(da+" - "+this.I()+": Test '"+b+"':'"+c)}this.Ub()},M:function(){e("Override me: numberOfPendingTests")},I:function(){e("Override me: getTestNumber")},Ub:function(){if(0>=this.M()){var a=cc.Scene.create(),b=new ea;
a.addChild(b);r.replaceScene(a)}else try{this.F(this)}catch(c){cc.log(da+" - "+this.I()+": Test '"+this.rd()+"':'"+c),this.Ub()}},readPixels:function(a,b,c,d){if("opengl"in sys.capabilities){var f=new Uint8Array(4*c*d);gl.readPixels(a,b,c,d,gl.RGBA,gl.UNSIGNED_BYTE,f);return f}e("readPixels Not implemented on canvas yet")},Ee:function(a){var b={},c,d=[];for(c in a)a.hasOwnProperty(c)&&d.push(c);d.sort();for(c=0;c<d.length;c++)b[d[c]]=a[d[c]];return b}});var Ja=5560,y=-1,Na=x.extend({ef:h,d:"",title:m("No title"),e:m(""),D:function(){var a=new ia;a.addChild(Ka());r.replaceScene(a)},G:function(){var a=new ia;a.addChild(new La[y]);r.replaceScene(a)},F:function(){var a=new ia;a.addChild(Ma());r.replaceScene(a)},M:function(){return La.length-1-y},I:function(){return y}}),Oa=Na.extend({title:m("Test 1. Should not crash"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a,1);a.runAction(cc.RotateBy.create(1.5,
90));a.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.FadeOut.create(1.1)));this.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.CallFunc.create(this.kg,this)))},kg:function(){this.getParent().removeChild(this);this.F(this)},q:m("NOT_CRASHED"),o:m("NOT_CRASHED")}),Pa=Na.extend({title:m("Logic test"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,2);a.setPosition(200,200);a.runAction(cc.Sequence.create(cc.MoveBy.create(1,cc.p(150,
0)),cc.CallFunc.create(this.Mf,this)));ca&&(this.f=a)},Mf:function(a){a.stopAllActions();a.runAction(cc.ScaleTo.create(2,2))},u:4,q:function(){return JSON.stringify([{scaleX:2,scaleY:2}])},o:function(){var a=this.f.getScaleX(),b=this.f.getScaleY();return JSON.stringify([{scaleX:a,scaleY:b}])}}),Qa=Na.extend({title:m("Pause Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("After 3 seconds grossini should move","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,
245);a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,5561);a.setPosition(200,200);b=cc.MoveBy.create(1,cc.p(150,0));r.getActionManager().addAction(b,a,g);this.schedule(this.ve,3);ca&&(this.scheduleOnce(this.ja,2),this.scheduleOnce(this.Aa,4.5),this.f=a)},ve:function(){this.unschedule(this.ve);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},u:5.5,ja:function(){this.P=this.f.getPosition()},Aa:function(){this.ba=this.f.getPosition()},q:function(){return JSON.stringify([{x:200,
y:200},{x:350,y:200}])},o:function(){return JSON.stringify([{x:this.P.x,y:this.P.y},{x:this.ba.x,y:this.ba.y}])}}),Ra=Na.extend({title:m("Remove Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Should not crash","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);a=cc.MoveBy.create(2,cc.p(200,0));b=cc.CallFunc.create(this.stopAction,this);a=cc.Sequence.create(a,b);a.setTag(5562);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(200,200);this.addChild(b,
1,5561);b.runAction(a)},stopAction:function(){this.getChildByTag(5561).stopActionByTag(5562)},u:3.5,q:m("NOT_CRASHED"),o:m("NOT_CRASHED")}),Sa=Na.extend({title:m("Resume Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Grossini only rotate/scale in 3 seconds","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);this.f=b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b,0,5561);b.setPosition(a.width/2,a.height/2);b.runAction(cc.ScaleBy.create(2,2));
r.getActionManager().pauseTarget(b);b.runAction(cc.RotateBy.create(2,360));this.schedule(this.Be,3)},Be:function(){this.unschedule(this.Be);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},u:6,wa:function(){this.scheduleOnce(this.ja,1);this.scheduleOnce(this.Aa,5.5)},ja:function(){this.rf=this.f.getScaleX();this.sf=this.f.getScaleY();this.qf=this.f.getRotation()},Aa:function(){this.uf=this.f.getScaleX();this.vf=this.f.getScaleY();this.tf=this.f.getRotation()},q:function(){return JSON.stringify([{Rot:0},
{sX:1,sY:1},{Rot:360},{sX:2,sY:2}])},o:function(){return JSON.stringify([{Rot:this.qf},{sX:this.rf,sY:this.sf},{Rot:this.tf},{sX:this.uf,sY:this.vf}])}}),ia=w.extend({C:function(){y=-1;this.addChild(Ma());r.replaceScene(this)}}),La=[Oa,Pa,Qa,Ra,Sa];function Ma(){y++;y%=La.length;return new La[y]}function Ka(){y--;0>y&&(y+=La.length);return new La[y]};var z=-1,ja=w.extend({C:function(){z=-1;this.addChild(Ta());r.replaceScene(this)}}),A=x.extend({f:h,j:h,k:h,R:h,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.f=cc.Sprite.create("res/Images/grossini.png");this.j=cc.Sprite.create("res/Images/grossinis_sister1.png");this.k=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.f,1);this.addChild(this.j,2);this.addChild(this.k,3);var a=r.getWinSize();this.f.setPosition(a.width/2,a.height/3);this.j.setPosition(a.width/
2,2*a.height/3);this.k.setPosition(a.width/2,a.height/2)},A:function(a){var b=r.getWinSize();0===a?(this.j.setVisible(j),this.k.setVisible(j),this.f.setVisible(j)):1==a?(this.j.setVisible(j),this.k.setVisible(j),this.f.setPosition(b.width/2,b.height/2)):2==a?(this.k.setPosition(b.width/3,b.height/2),this.j.setPosition(2*b.width/3,b.height/2),this.f.setVisible(j)):3==a&&(this.f.setPosition(b.width/2,b.height/2),this.j.setPosition(b.width/4,b.height/2),this.k.setPosition(3*b.width/4,b.height/2))},fb:function(a){var b=
r.getWinSize();1==a?(this.j.setVisible(j),this.k.setVisible(j),this.f.setPosition(60,b.height/2)):2==a?(this.k.setPosition(60,b.height/3),this.j.setPosition(60,2*b.height/3),this.f.setVisible(j)):3==a&&(this.f.setPosition(60,b.height/2),this.j.setPosition(60,2*b.height/3),this.k.setPosition(60,b.height/3))},title:m("ActionsTest"),e:m(""),D:function(){var a=new ja;a.addChild(Ua());r.replaceScene(a)},G:function(){var a=new ja;a.addChild(new Va[z]);r.replaceScene(a)},F:function(){var a=new ja;a.addChild(Ta());
r.replaceScene(a)},M:function(){return Va.length-1-z},I:function(){return z}}),Wa=A.extend({R:"sprite.setPosition( 10,20 );\nsprite.setRotation( 90 );\nsprite.setScale( 2 );",onEnter:function(){this._super();this.j.setScaleX(2.5);this.j.setScaleY(-1);this.j.setPosition(100,70);this.j.setOpacity(128);this.f.setRotation(120);this.f.setPosition(u.width/2,u.height/2);this.f.setColor(cc.c3b(255,0,0));this.k.setPosition(u.width-100,u.height/2);this.k.setColor(cc.c3b(0,0,255))},title:m("Sprite properties"),
e:m("Manual Transformation"),u:0.1,q:function(){return JSON.stringify([2.5,{x:100,y:70},128,120,{x:u.width/2,y:u.height/2},{r:255,g:0,b:0},{x:u.width-100,y:u.height/2},{r:0,g:0,b:255}])},o:function(){var a=[];a.push(this.j.getScaleX());a.push(this.j.getPosition());a.push(this.j.getOpacity());a.push(this.f.getRotation());a.push(this.f.getPosition());a.push(this.f.getColor());a.push(this.k.getPosition());a.push(this.k.getColor());return JSON.stringify(a)}}),Xa=A.extend({R:"a = cc.MoveBy.create( time, cc.p(x,y) );\na = cc.MoveTo.create( time, cc.p(x,y) );",
onEnter:function(){this._super();this.A(3);var a=r.getWinSize(),a=cc.MoveTo.create(2,cc.p(a.width-40,a.height-40)),b=cc.MoveBy.create(1,cc.p(80,80)),c=b.reverse();this.j.runAction(a);this.f.runAction(cc.Sequence.create(b,c));this.k.runAction(cc.MoveTo.create(1,cc.p(40,40)))},title:m("cc.MoveTo / cc.MoveBy"),u:2.1,q:function(){return JSON.stringify([{x:u.width-40,y:u.height-40},{x:u.width/2,y:u.height/2},{x:40,y:40}])},o:function(){var a=[];a.push(this.j.getPosition());a.push(this.f.getPosition());
a.push(this.k.getPosition());return JSON.stringify(a)}}),Ya=A.extend({R:"a = cc.ScaleBy.create( time, scale );\na = cc.ScaleTo.create( time, scaleX, scaleY );",onEnter:function(){this._super();this.A(3);var a=cc.ScaleTo.create(2,0.5),b=cc.ScaleBy.create(2,2),c=cc.ScaleBy.create(2,0.25,4.5);this.j.runAction(a);this.k.runAction(cc.Sequence.create(c,cc.DelayTime.create(0.25),c.reverse()));this.f.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),b.reverse()))},title:m("cc.ScaleTo / cc.ScaleBy"),
u:2.1,q:function(){return JSON.stringify([0.5,2,0.25,4.5])},o:function(){var a=[];a.push(this.j.getScale());a.push(this.f.getScale());a.push(this.k.getScaleX());a.push(this.k.getScaleY());return JSON.stringify(a)}}),Za=A.extend({R:"a = cc.RotateBy.create( time, degrees );\na = cc.RotateTo.create( time, degrees );",onEnter:function(){this._super();this.A(3);var a=cc.RotateTo.create(2,45),b=cc.RotateTo.create(2,-45),c=cc.RotateTo.create(2,0);this.j.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),
c));var a=cc.RotateBy.create(2,360),d=a.reverse();this.f.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),d));this.k.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c.copy()))},title:m("cc.RotateTo / cc.RotateBy"),u:2.1,q:function(){return JSON.stringify([45,360,-45])},o:function(){var a=[];a.push(this.j.getRotation());a.push(this.f.getRotation());a.push(this.k.getRotation());return JSON.stringify(a)}}),$a=A.extend({onEnter:function(){this._super();this.A(3);var a=cc.RotateTo.create(2,
37.2,-37.2),b=cc.RotateTo.create(2,0,0),c=cc.RotateBy.create(2,0,-90),d=cc.RotateBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.j.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,f.copy(),c.reverse()));this.k.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.RotateBy(x,y) / cc.RotateTo(x,y)"),u:2.1,q:function(){return JSON.stringify(["37.20","-37.20",0,-90,45,45])},o:function(){var a=[];a.push(this.j.getRotationX().toFixed(2));a.push(this.j.getRotationY().toFixed(2));
a.push(this.f.getRotationX());a.push(this.f.getRotationY());a.push(this.k.getRotationX());a.push(this.k.getRotationY());return JSON.stringify(a)}}),ab=A.extend({R:"a = cc.SkewBy.create( time, skew );\na = cc.SkewTo.create( time, skewX, skewY );",onEnter:function(){this._super();this.A(3);var a=cc.SkewTo.create(2,37.2,-37.2),b=cc.SkewTo.create(2,0,0),c=cc.SkewBy.create(2,0,-90),d=cc.SkewBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.j.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,
f.copy(),c.reverse()));this.k.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.SkewTo / cc.SkewBy"),u:2.1,q:function(){return JSON.stringify(["37.20","-37.20",0,0,45,45])},o:function(){var a=[];a.push(this.j.getSkewX().toFixed(2));a.push(this.j.getSkewY().toFixed(2));a.push(this.f.getSkewX());a.push(this.f.getSkewX());a.push(this.k.getSkewX());a.push(this.k.getSkewY());return JSON.stringify(a)}}),bb=A.extend({onEnter:function(){this._super();this.A(0);var a=cc.size(100,100),b=cc.LayerColor.create(cc.c4b(255,
255,0,255));b.setAnchorPoint(cc.p(0,0));b.setPosition((u.width-a.width)/2,(u.height-a.height)/2);b.setContentSize(a);var c=cc.LayerColor.create(cc.c4b(255,0,0,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(0,a.height-10);c.setAnchorPoint(cc.p(0,0));c=cc.LayerColor.create(cc.c4b(0,0,255,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(a.width-10,a.height-10);c.setAnchorPoint(cc.p(0,0));this.addChild(b);var a=cc.SkewTo.create(2,0,2),c=cc.RotateTo.create(2,61),d=
cc.ScaleTo.create(2,-0.44,0.47),f=cc.ScaleTo.create(2,1,1),i=cc.RotateTo.create(2,0),k=cc.SkewTo.create(2,0,0),o=cc.DelayTime.create(0.25);b.runAction(cc.Sequence.create(a,o,k));b.runAction(cc.Sequence.create(c,o.copy(),i));b.runAction(cc.Sequence.create(d,o.copy(),f));this.Mb=b},title:m("Skew + Rotate + Scale"),u:2.1,q:function(){return JSON.stringify([0,2,61,"-0.44","0.47"])},o:function(){var a=[];a.push(this.Mb.getSkewX());a.push(this.Mb.getSkewY());a.push(this.Mb.getRotation());a.push(this.Mb.getScaleX().toFixed(2));
a.push(this.Mb.getScaleY().toFixed(2));return JSON.stringify(a)}}),cb=A.extend({R:"a = cc.JumpBy.create( time, point, height, #_of_jumps );\na = cc.JumpTo.create( time, point, height, #_of_jumps );",onEnter:function(){this._super();this.A(3);var a=cc.JumpTo.create(2,cc.p(300,300),50,4),b=cc.JumpBy.create(2,cc.p(300,0),50,4),c=cc.JumpBy.create(2,cc.p(0,0),80,4),d=b.reverse(),f=cc.DelayTime.create(0.25);this.j.runAction(a);this.f.runAction(cc.Sequence.create(b,f,d));this.k.runAction(cc.RepeatForever.create(cc.Sequence.create(c,
f.copy())))},title:m("cc.JumpTo / cc.JumpBy"),e:m("Actions will stop for 0.25s after 2 seconds"),u:2.1,q:function(){return JSON.stringify([{x:300,y:300},{x:u.width/2+300,y:u.height/2},{x:3*u.width/4,y:u.height/2}])},o:function(){var a=[];a.push(this.j.getPosition());a.push(this.f.getPosition());a.push(this.k.getPosition());return JSON.stringify(a)}}),db=A.extend({onEnter:function(){this._super();var a=r.getWinSize();this.A(3);var b=cc.DelayTime.create(0.25),c=[cc.p(0,374),cc.p(300,-374),cc.p(300,
100)],c=cc.BezierBy.create(2,c),b=cc.RepeatForever.create(cc.Sequence.create(c,b,c.reverse(),b.copy()));this.j.setPosition(80,160);c=[cc.p(100,a.height/2),cc.p(200,-a.height/2),cc.p(240,160)];a=cc.BezierTo.create(2,c);c=c.slice();this.k.setPosition(400,160);c=cc.BezierTo.create(2,c);this.f.runAction(b);this.j.runAction(a);this.k.runAction(c)},title:m("cc.BezierBy / cc.BezierTo"),u:2.1,wa:function(){this.scheduleOnce(this.ja,0.66667);this.scheduleOnce(this.Aa,1.33333)},ja:function(){this.P=this.f.getPosition()},
ac:function(){var a=Math.abs(this.P.y-87-u.height/2);return 5>Math.abs(this.P.x-77-u.width/2)&&5>a},Aa:function(){this.ba=this.f.getPosition()},bc:function(){var a=Math.abs(this.ba.y+53-u.height/2);return 5>Math.abs(this.ba.x-222-u.width/2)&&5>a},q:function(){return JSON.stringify([g,g,{x:u.width/2+300,y:u.height/2+100}])},o:function(){var a=[];a.push(this.ac());a.push(this.bc());a.push(this.f.getPosition());return JSON.stringify(a)}}),eb=A.extend({onEnter:function(){this._super();this.A(2);this.j.setPosition(80,
160);var a=[cc.p(100,u.height/2),cc.p(200,-u.height/2),cc.p(240,160)],a=cc.BezierTo.create(2,a);this.k.setPosition(80,160);var b=a.copy();this.j.runAction(a);this.k.runAction(b)},title:m("cc.BezierTo copy test"),e:m("Both sprites should move across the same path")}),fb=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(428,279);var a=[cc.p(428,279),cc.p(100,100),cc.p(100,100)],b=[cc.p(100,100),cc.p(428,279),cc.p(428,279)],a=cc.BezierTo.create(1.5,a),b=cc.BezierTo.create(1.5,b),
c=cc.CallFunc.create(this.wg,this),d=cc.DelayTime.create(0.25);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,b,c,d)))},wg:function(a){a=a.getPosition();cc.log("Position x: "+a.x+" y:"+a.y);(428!=a.x||279!=a.y)&&this.log("Error: Issue 1008 is still open");this.eh=a},title:m("Issue 1008"),e:m("cc.BezierTo + Repeat. See console"),u:3.1,q:function(){return JSON.stringify({x:428,y:279})},o:function(){return JSON.stringify(this.eh)}}),gb=A.extend({R:"a = cc.Blink.create( time, #_of_blinks );",
onEnter:function(){this._super();this.A(2);var a=cc.Blink.create(2,10),b=cc.Blink.create(2,5);this.j.runAction(a);this.k.runAction(b)},title:m("cc.Blink"),u:2.1,wa:function(){this.scheduleOnce(this.ja,0.1)},ja:function(){this.P=this.k.isVisible()},q:function(){return JSON.stringify([j,g,g])},o:function(){var a=[];a.push(this.P);a.push(this.j.isVisible());a.push(this.k.isVisible());return JSON.stringify(a)}}),hb=A.extend({R:"a = cc.FadeIn.create( time );\na = cc.FadeOut.create( time );",onEnter:function(){this._super();
this.A(2);var a=cc.DelayTime.create(0.25);this.j.setOpacity(0);var b=cc.FadeIn.create(1),c=b.reverse(),d=cc.FadeOut.create(1),f=d.reverse();this.j.runAction(cc.Sequence.create(b,a,c));this.k.runAction(cc.Sequence.create(d,a.copy(),f))},title:m("cc.FadeIn / cc.FadeOut"),u:1.1,q:function(){return JSON.stringify([255,0])},o:function(){var a=[];a.push(this.j.getOpacity());a.push(this.k.getOpacity());return JSON.stringify(a)}}),ib=A.extend({R:"a = cc.TintBy.create( time, red, green, blue );\na = cc.TintTo.create( time, red, green, blue );",
onEnter:function(){this._super();this.A(2);var a=cc.TintTo.create(2,255,0,255),b=cc.TintBy.create(2,-127,-255,-127),c=b.reverse();this.j.runAction(a);this.k.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c))},title:m("cc.TintTo / cc.TintBy"),u:2.1,q:function(){return JSON.stringify([{r:255,g:0,b:255},{r:128,g:0,b:128}])},o:function(){var a=[];a.push(this.j.getColor());a.push(this.k.getColor());return JSON.stringify(a)}}),jb=A.extend({onEnter:function(){this._super();this.A(3);for(var a=
cc.Animation.create(),b=1;15>b;b++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>b?"0"+b:b)+".png");a.setDelayPerUnit(2.8/14);a.setRestoreOriginalFrame(g);a=cc.Animate.create(a);this.f.runAction(cc.Sequence.create(a,a.reverse()));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");b=cc.Animate.create(a);this.j.runAction(cc.Sequence.create(b,b.reverse()));a=a.copy();a.setLoops(4);this.k.runAction(cc.Animate.create(a))},title:m("Animation"),
e:m("Center: Manual animation. Border: using file format animation")}),kb=A.extend({R:"a = cc.Sequence.create( a1, a2, a3,..., aN);",onEnter:function(){this._super();this.fb(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(1.5,cc.p(240,0)),cc.RotateBy.create(1.5,540)))},title:m("cc.Sequence: Move + Rotate"),u:3.1,q:function(){return JSON.stringify([{x:300,y:u.height/2},540])},o:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());return JSON.stringify(a)}}),lb=A.extend({onEnter:function(){this._super();
this.A(1);this.f.setVisible(j);this.f.runAction(cc.Sequence.create(cc.Place.create(cc.p(200,200)),cc.Show.create(),cc.MoveBy.create(1,cc.p(100,0)),cc.CallFunc.create(this.Ad,this),cc.CallFunc.create(this.Bd.bind(this)),cc.CallFunc.create(this.Cd,this)));this.ce=this.de=this.ee=j},Ad:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.ce=g},Bd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called",
"Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.de=g},Cd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 3 called","Marker Felt",16);b.setPosition(3*(a.width/4),a.height/2);this.addChild(b);this.ee=g},title:m("Sequence of InstantActions"),u:1.1,q:function(){return JSON.stringify([g,g,g,g,{x:300,y:200}])},o:function(){var a=[];a.push(this.ce);a.push(this.de);a.push(this.ee);a.push(this.f.isVisible());a.push(this.f.getPosition());return JSON.stringify(a)}}),
mb=A.extend({R:"a = cc.CallFunc.create( this.callback );\na = cc.CallFunc.create( this.callback, this, optional_arg );",onEnter:function(){this._super();this.A(3);var a=cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.Ad.bind(this))),b=cc.Sequence.create(cc.ScaleBy.create(2,2),cc.FadeOut.create(2),cc.CallFunc.create(this.Bd,this)),c=cc.Sequence.create(cc.RotateBy.create(3,360),cc.FadeOut.create(2),cc.CallFunc.create(this.Cd,this,"Hi!"));this.f.runAction(a);this.j.runAction(b);
this.k.runAction(c)},Ad:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.P=g},Bd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called","Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.ba=g},Cd:function(a,b){var c=r.getWinSize(),d=cc.LabelTTF.create("callback 3 called:"+b,"Marker Felt",16);d.setPosition(3*(c.width/4),c.height/2);this.addChild(d);
this.La=g},title:m("Callbacks: CallFunc and friends"),u:5.05,wa:function(){this.P=this.ba=this.La=j},q:function(){return JSON.stringify([g,g,g])},o:function(){var a=[];a.push(this.P);a.push(this.ba);a.push(this.La);return JSON.stringify(a)}}),nb=A.extend({onEnter:function(){this._super();this.A(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.removeFromParentAndCleanup,this.f,g)))},removeFromParentAndCleanup:function(a,b){a.removeFromParent(b)},title:m("cc.CallFunc + auto remove"),
e:m("cc.CallFunc + removeFromParentAndCleanup. Grossini dissapears in 2s"),u:2.1,wa:l(),q:function(){return JSON.stringify([h])},o:function(){var a=[];a.push(this.getChildByTag(1));return JSON.stringify(a)}}),ob=A.extend({onEnter:function(){this._super();this.A(1);this.runAction(cc.CallFunc.create(function(a,b){this.P="Value is: "+b;this.log("Object:"+a+". "+this.P)},this,"Hello world"))},title:m("cc.CallFunc + parameters"),e:m("cc.CallFunc + parameters. Take a look at the console"),u:0.1,wa:l(),
q:function(){return JSON.stringify(["Value is: Hello world"])},o:function(){var a=[];a.push(this.P);return JSON.stringify(a)}}),pb=A.extend({R:"a = cc.Spawn.create( a1, a2, ..., aN );",onEnter:function(){this._super();this.fb(1);this.f.runAction(cc.Spawn.create(cc.JumpBy.create(2,cc.p(300,0),50,4),cc.RotateBy.create(2,720)))},title:m("cc.Spawn: Jump + Rotate"),u:2.1,q:function(){return JSON.stringify([{x:360,y:u.height/2},720])},o:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());
return JSON.stringify(a)}}),qb=A.extend({R:"a = cc.RepeatForever.create( action_to_repeat );",onEnter:function(){this._super();this.A(1);this.f.runAction(cc.Sequence.create(cc.DelayTime.create(1),cc.CallFunc.create(this.Gg)))},Gg:function(a){var b=cc.RepeatForever.create(cc.RotateBy.create(1,360));a.runAction(b)},title:m("cc.CallFunc + cc.RepeatForever"),u:3.5,q:function(){return JSON.stringify([g])},o:function(){var a=[],b=this.f.getRotation();a.push(915>b&&885<b);return JSON.stringify(a)}}),rb=
A.extend({R:"a = cc.Repeat.create( action_to_repeat, #_of_times );",onEnter:function(){this._super();this.A(2);var a=cc.RotateTo.create(0.5,90),b=cc.RotateTo.create(0.5,0),b=cc.Sequence.create(a,b),a=cc.RepeatForever.create(b),b=cc.Repeat.create(b.copy(),4);this.j.runAction(a);this.k.runAction(b)},title:m("Repeat/RepeatForever + RotateTo"),u:4.5,q:function(){return JSON.stringify([0,g])},o:function(){var a=[];a.push(this.k.getRotation());var b=this.j.getRotation();a.push(105>b&&75<b);return JSON.stringify(a)}}),
sb=A.extend({onEnter:function(){this._super();this.A(2);var a=cc.Sequence.create(cc.RotateTo.create(0.5,-20),cc.RotateTo.create(0.5,20)),b=cc.Repeat.create(a,10),a=cc.RepeatForever.create(a.copy());this.j.runAction(b);this.k.runAction(a)},title:m("RepeatForever / Repeat + Rotate")}),tb=A.extend({R:"a = action.reverse();",onEnter:function(){this._super();this.fb(1);var a=cc.JumpBy.create(2,cc.p(300,0),50,4),b=cc.DelayTime.create(0.25);this.f.runAction(cc.Sequence.create(a,b,a.reverse()))},title:m("Reverse Jump action"),
u:4.4,wa:function(){this.scheduleOnce(this.ja,2.1)},ja:function(){this.P=this.f.getPosition()},q:function(){return JSON.stringify([{x:360,y:u.height/2},{x:60,y:u.height/2}])},o:function(){var a=[];a.push(this.P);a.push(this.f.getPosition());return JSON.stringify(a)}}),ub=A.extend({R:"a = cc.DelayTime.create( time );",onEnter:function(){this._super();this.fb(1);var a=cc.MoveBy.create(1,cc.p(150,0));this.f.runAction(cc.Sequence.create(a,cc.DelayTime.create(2),a.copy()))},title:m("DelayTime: m + delay + m"),
u:2.9,q:function(){return JSON.stringify([{x:210,y:u.height/2}])},o:function(){var a=[];a.push(this.f.getPosition());return JSON.stringify(a)}}),vb=A.extend({onEnter:function(){this._super();this.fb(1);var a=cc.MoveBy.create(1,cc.p(250,0)),b=cc.MoveBy.create(1,cc.p(0,50)),a=cc.Sequence.create(a,b,a.reverse());this.f.runAction(cc.Sequence.create(a,a.reverse()))},e:m("Reverse a sequence")}),wb=A.extend({onEnter:function(){this._super();this.fb(2);var a=cc.MoveBy.create(3,cc.p(250,0)),b=cc.MoveBy.create(3,
cc.p(0,50)),c=cc.ToggleVisibility.create(),d=cc.ToggleVisibility.create(),a=cc.Sequence.create(a,c,b,d,a.reverse());this.k.runAction(cc.Repeat.create(cc.Sequence.create(a,a.reverse()),3));a=cc.MoveBy.create(1,cc.p(100,0));b=cc.MoveBy.create(1,cc.p(50,0));c=cc.Hide.create();a=cc.Sequence.create(a,c,b);b=a.reverse();this.j.runAction(cc.Sequence.create(a,b))},e:m("Reverse sequence 2")}),xb=A.extend({onEnter:function(){this._super();this.fb(2);var a=cc.MoveBy.create(1,cc.p(150,0)),b=cc.Repeat.create(cc.Sequence.create(cc.Place.create(cc.p(60,
60)),a),3),a=cc.RepeatForever.create(cc.Sequence.create(a.copy(),a.reverse(),cc.DelayTime.create(0.25)));this.k.runAction(b);this.j.runAction(a)},title:m("Repeat / RepeatForever actions"),u:4.3,q:function(){return JSON.stringify([{x:210,y:60},{x:60,y:2*u.height/3}])},o:function(){var a=[];a.push(this.k.getPosition());a.push(this.j.getPosition());return JSON.stringify(a)}}),yb=A.extend({onEnter:function(){this._super();this.A(3);var a=cc.OrbitCamera.create(2,1,0,0,180,0,0),a=cc.Sequence.create(a,a.reverse()),
b=cc.OrbitCamera.create(2,1,0,0,180,-45,0),b=cc.Sequence.create(b,b.reverse()),c=cc.OrbitCamera.create(2,1,0,0,180,90,0),c=cc.Sequence.create(c,c.reverse());this.k.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(b));this.f.runAction(cc.RepeatForever.create(c));a=cc.MoveBy.create(3,cc.p(100,-100));b=a.reverse();a=cc.Sequence.create(a,b);a=cc.RepeatForever.create(a);this.k.runAction(a);this.j.runAction(a.copy());this.f.runAction(a.copy())},e:m("OrbitCamera action")}),
zb=A.extend({onEnter:function(){this._super();this.A(1);var a=r.getWinSize();this.f.setPosition(-(a.width/2),a.height/2);var b=cc.MoveBy.create(2,cc.p(3*a.width,0)),c=b.reverse(),b=cc.Sequence.create(b,c);this.f.runAction(cc.RepeatForever.create(b));this.runAction(cc.Follow.create(this.f,cc.rect(0,0,2*a.width-100,a.height)))},e:m("Follow action")}),Ab=A.extend({jc:h,R:" a = cc.CadinalSplineBy.create( time, array_of_points, tension );\n a = cc.CadinalSplineTo.create( time, array_of_points, tension );",
ctor:function(){this._super();this.jc=[]},onEnter:function(){this._super();this.A(2);var a=cc.DelayTime.create(0.25),b=[cc.p(0,0),cc.p(u.width/2-30,0),cc.p(u.width/2-30,u.height-80),cc.p(0,u.height-80),cc.p(0,0)],c=cc.CardinalSplineBy.create(2,b,0),d=c.reverse(),c=cc.Sequence.create(c,a,d,a.copy());this.j.setPosition(50,50);this.j.runAction(c);c=cc.CardinalSplineBy.create(2,b,1);d=c.reverse();a=cc.Sequence.create(c,a.copy(),d,a.copy());this.k.setPosition(u.width/2,50);this.k.runAction(a);this.jc=
b},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.jc,0,100);a.restore();var c=r.getWinSize();a.save();a.translate(c.width/2-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.jc,1,100);a.restore()},e:m("Cardinal Spline paths. Testing different tensions for one array"),title:m("CardinalSplineBy / CardinalSplineAt"),u:2.1,wa:function(){this.scheduleOnce(this.ja,0.5);this.scheduleOnce(this.Aa,
1);this.scheduleOnce(this.od,1.5)},ja:function(){this.P=this.j.getPosition()},ac:function(){var a=Math.abs(50-this.P.y);return 5>Math.abs(50+u.width/2-30-this.P.x)&&5>a},Aa:function(){this.ba=this.j.getPosition()},bc:function(){var a=Math.abs(50+u.height-80-this.ba.y);return 5>Math.abs(50+u.width/2-30-this.ba.x)&&5>a},od:function(){this.La=this.j.getPosition()},Nd:function(){var a=Math.abs(50+u.height-80-this.La.y);return 5>Math.abs(50-this.La.x)&&5>a},q:function(){return JSON.stringify([g,g,g,{x:50,
y:50}])},o:function(){var a=[];a.push(this.ac());a.push(this.bc());a.push(this.Nd());a.push(this.j.getPosition());return JSON.stringify(a)}}),Bb=A.extend({cd:h,dd:h,R:"a = cc.CatmullRomBy.create( time, array_of_points );\n a = cc.CatmullRomTo.create( time, array_of_points );",ctor:function(){this._super();this.cd=[];this.dd=[]},onEnter:function(){this._super();this.A(2);var a=cc.DelayTime.create(0.25);this.j.setPosition(50,50);var b=[cc.p(0,0),cc.p(80,80),cc.p(u.width-80,80),cc.p(u.width-80,u.height-
80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)],c=cc.CatmullRomBy.create(3,b),d=c.reverse();this.j.runAction(cc.Sequence.create(c,a,d));var c=[cc.p(u.width/2,30),cc.p(u.width-80,30),cc.p(u.width-80,u.height-80),cc.p(u.width/2,u.height-80),cc.p(u.width/2,30)],d=cc.CatmullRomTo.create(3,c),f=d.reverse();this.k.runAction(cc.Sequence.create(d,a.copy(),f));this.cd=b;this.dd=c},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-
b.x,b.y-50);cc.drawingUtil.drawCatmullRom(this.cd,50);a.restore();a.save();a.translate(-b.x,b.y);cc.drawingUtil.drawCatmullRom(this.dd,50);a.restore()},e:m("Catmull Rom spline paths. Testing reverse too"),title:m("CatmullRomBy / CatmullRomTo"),u:3.1,wa:function(){this.scheduleOnce(this.ja,0);this.scheduleOnce(this.Aa,0.75);this.scheduleOnce(this.od,1.5)},ja:function(){this.P=this.k.getPosition()},ac:function(){var a=Math.abs(30-this.P.y);return 5>Math.abs(u.width/2-this.P.x)&&5>a},Aa:function(){this.ba=
this.k.getPosition()},bc:function(){var a=Math.abs(30-this.ba.y);return 5>Math.abs(u.width-80-this.ba.x)&&5>a},od:function(){this.La=this.k.getPosition()},Nd:function(){var a=Math.abs(u.height-80-this.La.y);return 5>Math.abs(u.width-80-this.La.x)&&5>a},q:function(){return JSON.stringify([g,g,g,{x:u.width/2,y:30}])},o:function(){var a=[];a.push(this.ac());a.push(this.bc());a.push(this.Nd());a.push(this.k.getPosition());return JSON.stringify(a)}}),Cb=A.extend({R:"a = cc.TargetedAction.create( target, action );",
onEnter:function(){this._super();this.A(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),c=cc.RotateBy.create(1,360),d=c.copy(),b=cc.TargetedAction.create(this.k,b),d=cc.TargetedAction.create(this.k,d),a=cc.Sequence.create(a,b,c,d);this.j.runAction(cc.RepeatForever.create(a))},title:m("Action that runs on another target. Useful for sequences"),e:m("ActionTargeted")}),Db=A.extend({onEnter:function(){this._super();this.A(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),b=cc.TargetedAction.create(this.k,
b).copy();this.j.runAction(cc.Sequence.create(a,b))},title:m("Action that runs on another target. Useful for sequences"),e:m("Testing copy on TargetedAction")}),Eb=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.2,cc._p(0,50)),b=a.reverse();cc.DelayTime.create(0.25);a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=cc.MoveBy.create(2,cc._p(u.width-80,0));b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},
title:m("Stackable actions: MoveBy + MoveBy"),e:m("Grossini shall move up and down while moving horizontally"),u:0.2,q:function(){return JSON.stringify([g,g])},o:function(){var a=[],b=this.f.getPosition(),c=40+0.2*(u.width-80)/2,d=u.height/2+50,d=b.y<d+10&&b.y>d-10;a.push(b.x<c+10&&b.x>c-10);a.push(d);return JSON.stringify(a)}}),Fb=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);
this.f.runAction(cc.RepeatForever.create(a));a=cc.JumpBy.create(2,cc._p(u.width-80,0),90,5);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + JumpBy"),e:m("Grossini shall shake while he is jumping")}),Gb=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,u.height/
2),cc.p(u.width-80,-u.height/2),cc.p(u.width-80,100)];a=cc.BezierBy.create(3,a);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,a.reverse())))},title:m("Stackable actions: MoveBy + BezierBy"),e:m("Grossini shall shake while he moves along a bezier path")}),Hb=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),
cc.p(u.width-80,80),cc.p(u.width-80,u.height-80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)];a=cc.CatmullRomBy.create(6,a);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + CatmullRomBy"),e:m("Grossini shall shake while he moves along a CatmullRom path")}),Ib=A.extend({onEnter:function(){this._super();this.A(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,
b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(u.width-80,80),cc.p(u.width-80,u.height-80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)];a=cc.CardinalSplineBy.create(6,a,0.9);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + CardinalSplineBy"),e:m("Grossini shall shake while he moves along a CardinalSpline path")}),Jb=A.extend({Xd:[],onEnter:function(){this._super();this.A(2);this.j.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,
360)));this.f.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,-360)));this.k.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.schedule(this.pause,3,j,0);this.schedule(this.resume,5,j,0)},pause:function(){cc.log("Pausing");this.Xd=r.getActionManager().pauseAllRunningActions()},resume:function(){cc.log("Resuming");r.getActionManager().resumeTargets(this.Xd)},title:m("PauseResumeActions"),e:m("All actions pause at 3s and resume at 5s")}),Kb=A.extend({Ct:h,onEnter:function(){this._super();
this.A(0);this.jd=cc.Sprite.create("res/Images/grossini.png");this.jd.runAction(cc.CallFunc.create(this.Uf,this));this.scheduleOnce(this.Kf,2)},onExit:function(){this._super()},Uf:function(){cc.log("This message SHALL ONLY appear when the sprite is added to the scene, NOT BEFORE")},Kf:function(){this.jd.setPosition(250,250);this.addChild(this.jd)},title:m("Issue 1305"),e:m("In two seconds you should see a message on the console. NOT BEFORE.")}),Lb=A.extend({onEnter:function(){this._super();this.A(0);
var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a);var b=cc.MoveBy.create(2,cc.p(0,100)),c=cc.CallFunc.create(this.Vf),d=cc.MoveBy.create(2,cc.p(0,-100)),f=cc.CallFunc.create(this.Wf,this),i=cc.MoveBy.create(2,cc.p(100,-100)),k=cc.CallFunc.create(this.Xf.bind(this)),o=cc.MoveBy.create(2,cc.p(-100,0)),q=cc.CallFunc.create(this.Yf,this),b=cc.Sequence.create(b,c,d,f,i,k,o,q);r.getActionManager().addAction(b,a,j)},Vf:function(){cc.log("1st block")},Wf:function(){cc.log("2nd block")},
Xf:function(){cc.log("3rd block")},Yf:function(){cc.log("4th block")},title:m("Issue 1305 #2"),e:m("See console. You should only see one message for each block")}),Mb=A.extend({onEnter:function(){this._super();this.A(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0)),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.Repeat.create(b,2);a.runAction(b)},title:m("Issue 1288"),e:m("Sprite should end at the position where it started.")}),
Nb=A.extend({onEnter:function(){this._super();this.A(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0));a.runAction(cc.Repeat.create(b,1))},title:m("Issue 1288 #2"),e:m("Sprite should move 100 pixels, and stay there")}),Ob=A.extend({onEnter:function(){this._super();this.A(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.CallFunc.create(this.Qb),c=cc.RotateBy.create(0.25,
45),d=cc.CallFunc.create(this.Qb,this),f=cc.RotateBy.create(0.25,45),i=cc.CallFunc.create(this.Qb.bind(this)),k=cc.RotateBy.create(0.25,45),o=cc.CallFunc.create(this.Qb),q=cc.RotateBy.create(0.25,45),v=cc.CallFunc.create(this.Qb),b=cc.Sequence.create(b,c,d,f,i,k,o,q,v);a.runAction(b)},Qb:function(a){cc.log(a.getRotation())},title:m("Issue 1327"),e:m("See console: You should see: 0, 45, 90, 135, 180")}),Pb=A.extend({onEnter:function(){this._super();this.A(2);for(var a=cc.Animation.create(),b=0;4>b;b++)for(var c=
1;15>c;c++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>c?"0"+c:c)+".png");a.setDelayPerUnit(1/60);a.setRestoreOriginalFrame(g);this.k.runAction(cc.Animate.create(a));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");a.setDelayPerUnit(1/60);a=cc.Animate.create(a);this.j.runAction(cc.Sequence.create(a,a.reverse()))},title:m("Animation"),e:m("Issue 1438. Set FPS to 30 to test this bug.")}),Qb=A.extend({title:m("Sequence + Speed in 'reverse mode'"),
e:m("Issue #1446. 'Hello World' should be visible for only 0.1 seconds"),onEnter:function(){this._super();this.A(0);var a=this.label=cc.LabelTTF.create("Hello World","Marker Felt",64);a.setPosition(u.width/2,u.height/2);a.setOpacity(0);this.addChild(a);this.nd=cc.Speed.create(cc.Sequence.create(cc.DelayTime.create(2),cc.FadeTo.create(1,255),cc.DelayTime.create(2)),1);a.runAction(this.nd);this.scheduleOnce(this.Wg,0.1)},Wg:function(){this.nd.getInnerAction().step(2.5);this.nd.setSpeed(-10)}}),Va=[Wa,
Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,Ab,Bb,gb,hb,ib,kb,lb,pb,tb,ub,xb,qb,rb,sb,mb,nb,ob,vb,wb,yb,zb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,jb,Pb,Qb];function Ta(){z++;z%=Va.length;return new Va[z]}function Ua(){z--;0>z&&(z+=Va.length);return new Va[z]};var B=-1;function C(){x.call(this,cc.c4b(0,0,0,255),cc.c4b(49,49.5,58.5,255));this.d="No title";this.h="No Subtitle";var a=cc.MenuItemFont.create("Physics On/Off",this.sg,this);a.setFontSize(24);a=cc.Menu.create(a);this.addChild(a);a.setPosition(cc._p(u.width-100,u.height-90));this.n=new cp.Space;this.Wa=cc.PhysicsDebugNode.create(this.n);this.Wa.setVisible(j);this.addChild(this.Wa)}cc.inherits(C,x);n=C.prototype;n.sg=function(){this.Wa.setVisible(!this.Wa.isVisible())};
n.onEnter=function(){x.prototype.onEnter.call(this);sys.dumpRoot();sys.garbageCollect()};n.G=function(){this.unscheduleUpdate();var a=new ka;a.addChild(new Rb[B]);r.replaceScene(a)};n.F=function(){this.unscheduleUpdate();var a=new ka;a.addChild(Sb());r.replaceScene(a)};n.D=function(){this.unscheduleUpdate();var a=new ka;a.addChild(Tb());r.replaceScene(a)};n.M=function(){return Rb.length-1-B};n.I=function(){return B};
function Ub(){C.call(this);this.Ka=function(a){this.addChild(this.createPhysicsSprite(a))};this.d="Chipmunk Sprite Test";this.h="Chipmunk + cocos2d sprites tests. Tap screen.";this.gb()}cc.inherits(Ub,C);n=Ub.prototype;
n.gb=function(){for(var a=this.n,b=a.staticBody,b=[new cp.SegmentShape(b,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(b,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(b,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(b,cp.v(u.width,0),cp.v(u.width,u.height),0)],c=0;c<b.length;c++){var d=b[c];d.setElasticity(1);d.setFriction(1);a.addStaticShape(d)}a.gravity=cp.v(0,-100)};
n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.n.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.n.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};n.onEnter=function(){C.prototype.onEnter.call(this);this.scheduleUpdate();for(var a=0;10>a;a++)this.Ka(cp.v(u.width/2,u.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};
n.update=function(a){this.n.step(a)};n.onMouseDown=function(a){this.Ka(a.getLocation())};n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ka(a[c].getLocation())};function Vb(){Ub.call(this);this.Lb=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.Lb);this.Ka=function(a){this.Lb.addChild(this.createPhysicsSprite(a))};this.d="Chipmunk SpriteBatch Test";this.h="Chipmunk + cocos2d sprite batch tests. Tap screen."}cc.inherits(Vb,Ub);
function Wb(){C.call(this);this.d="Chipmunk Collision test";this.h="Using Object Oriented API. ** Use this API **";this.gb=function(){for(var a=this.n.staticBody,a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(a,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.n.addStaticShape(c)}this.n.gravity=
cp.v(0,-100);this.n.iterations=15};this.createPhysicsSprite=function(a,b,c){var d=new cp.Body(1,cp.momentForBox(1,48,108));d.setPos(a);this.n.addBody(d);a=new cp.BoxShape(d,48,108);a.setElasticity(0.5);a.setFriction(0.5);a.setCollisionType(c);this.n.addShape(a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){C.prototype.onEnter.call(this);this.gb();this.scheduleUpdate();var a=this.createPhysicsSprite(cc.p(u.width/2,u.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(u.width/
2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);this.n.addCollisionHandler(1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){this.n.removeCollisionHandler(1,2)};this.update=function(a){this.n.step(a)};this.collisionBegin=function(a){if(!this.Dc){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(u.width/2,
u.height/2);this.Dc=g}cc.log("collision begin");a=a.getShapes();b=a[1].collision_type;cc.log("Collision Type A:"+a[0].collision_type);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Wb,C);
function Xb(){C.call(this);this.Dc=j;this.d="Chipmunk Collision Test";this.h='using "C"-like API. ** DO NOT USE THIS API **';this.gb=function(){this.n=cp.spaceNew();this.Wa.setSpace(this.n);for(var a=cp.spaceGetStaticBody(this.n),a=[cp.segmentShapeNew(a,cp.v(0,0),cp.v(u.width,0),0),cp.segmentShapeNew(a,cp.v(0,u.height),cp.v(u.width,u.height),0),cp.segmentShapeNew(a,cp.v(0,0),cp.v(0,u.height),0),cp.segmentShapeNew(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];cp.shapeSetElasticity(c,
1);cp.shapeSetFriction(c,1);cp.spaceAddStaticShape(this.n,c)}cp.spaceSetGravity(this.n,cp.v(0,-30))};this.createPhysicsSprite=function(a,b,c){var d=cp.bodyNew(1,cp.momentForBox(1,48,108));cp.bodySetPos(d,a);cp.spaceAddBody(this.n,d);a=cp.boxShapeNew(d,48,108);cp.shapeSetElasticity(a,0.5);cp.shapeSetFriction(a,0.5);cp.shapeSetCollisionType(a,c);cp.spaceAddShape(this.n,a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){C.prototype.onEnter.call(this);this.gb();this.scheduleUpdate();
var a=this.createPhysicsSprite(cc.p(u.width/2,u.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(u.width/2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);cp.spaceAddCollisionHandler(this.n,1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){cp.spaceRemoveCollisionHandler(this.n,1,2);cp.spaceFree(this.n)};this.update=function(a){cp.spaceStep(this.n,
a)};this.collisionBegin=function(a){if(!this.Dc){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(u.width/2,u.height/2);this.Dc=g}cc.log("collision begin");cp.arbiterGetBodies(a);b=cp.arbiterGetShapes(a);a=cp.shapeGetCollisionType(b[0]);b=cp.shapeGetCollisionType(b[1]);cc.log("Collision Type A:"+a);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=function(){cc.log("collision post")};
this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Xb,C);
function Yb(){C.call(this);this.d="Chipmunk Memory Leak Test";this.h="Testing possible memory leak on the collision handler. No visual feedback";this.collisionBegin=m(g);this.collisionPre=m(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){C.prototype.onEnter.call(this);for(var a=1;100>a;a++)this.n.addCollisionHandler(a,a+1,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),
this.collisionSeparate.bind(this))};this.onExit=function(){C.prototype.onExit.call(this);for(var a=1;100>a;a++)this.n.removeCollisionHandler(a,a+1)}}cc.inherits(Yb,C);
function Zb(){C.call(this);this.d="AnchorPoint in PhysicsSprite";this.h="Tests AnchorPoint in PhysicsSprite. See animated sprites";this.onEnter=function(){C.prototype.onEnter.call(this);this.Wa.setVisible(g);this.n.gravity=D(0,0);var a=this.createPhysicsSprite(cp.v(1*(u.width/4),u.height/2)),b=this.createPhysicsSprite(cp.v(2*(u.width/4),u.height/2)),c=this.createPhysicsSprite(cp.v(3*(u.width/4),u.height/2));a.setAnchorPoint(cc.p(0,0));b.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(1,1));var d=
cc.ScaleBy.create(0.5,0.5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(d);b.runAction(d.copy());c.runAction(d.copy());this.addChild(a);this.addChild(b);this.addChild(c);this.scheduleUpdate()}}cc.inherits(Zb,C);
Zb.prototype.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.n.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.n.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};Zb.prototype.update=function(a){for(var a=a/1,b=0;1>b;b++)this.n.step(a)};
function $b(){C.call(this);this.d="Chipmunk Release Test";this.h="Space finalizer should be called";this.collisionBegin=m(g);this.collisionPre=m(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){C.prototype.onEnter.call(this);cc.log("OnEnter");sys.dumpRoot();sys.garbageCollect();this.n.addCollisionHandler(10,11,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};
this.onExit=function(){cc.log("OnExit");this.n=h;sys.dumpRoot();sys.garbageCollect();C.prototype.onExit.call(this)}}cc.inherits($b,C);var D=cp.v;function ac(){C.call(this);this.Wa.setVisible(g);this.scheduleUpdate()}cc.inherits(ac,C);ac.prototype.update=function(a){this.n.step(a)};function bc(a){a=a.n;a=a.addShape(new cp.SegmentShape(a.staticBody,D(0,0),D(640,0),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function dc(a){var a=a.n,b=a.addShape(new cp.SegmentShape(a.staticBody,D(0,0),D(0,480),0));b.setElasticity(1);b.setFriction(1);b.setLayers(2147483647);a=a.addShape(new cp.SegmentShape(a.staticBody,D(640,0),D(640,480),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function ec(){ac.call(this);this.h="Chipmunk Demo";this.d="Pyramid Stack";var a=this.n;a.gravity=D(0,-100);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b;bc(this);dc(this);for(var c=0;14>c;c++)for(var d=0;d<=c;d++)b=a.addBody(new cp.Body(1,cp.momentForBox(1,30,30))),b.setPos(D(32*d-16*c+320,540-32*c)),b=a.addShape(new cp.BoxShape(b,30,30)),b.setElasticity(0),b.setFriction(0.8);b=a.addBody(new cp.Body(10,cp.momentForCircle(10,0,15,D(0,0))));b.setPos(D(320,20));b=a.addShape(new cp.CircleShape(b,
15,D(0,0)));b.setElasticity(0);b.setFriction(0.9)}cc.inherits(ec,ac);
function fc(){function a(a,c){var d=cp.momentForBox(1,4,30),d=b.addBody(new cp.Body(1,d));d.setPos(a);d=c?new cp.BoxShape(d,30,4):new cp.BoxShape(d,4,30);b.addShape(d);d.setElasticity(0);d.setFriction(0.6)}ac.call(this);this.h="Chipmunk Demo";this.d="Pyramid Topple";var b=this.n;b.iterations=30;b.gravity=D(0,-300);b.sleepTimeThreshold=0.5;b.collisionSlop=0.5;bc(this);for(var c=0;12>c;c++)for(var d=0;d<12-c;d++){var f=D(320+45*(d-0.5*(11-c)),38*(c+0.5)-4);a(f,j);a(cp.v.add(f,D(0,17)),g);0===d&&a(cp.v.add(f,
D(-13,34)),j);d!=12-c-1?a(cp.v.add(f,D(22.5,21)),g):a(cp.v.add(f,D(13,34)),j)}}cc.inherits(fc,ac);fc.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.n.step(a)};
function gc(){function a(a){labels.push({text:a,ku:q})}function b(){return cp.v.add(q,N)}function c(){return cp.v.add(q,I)}function d(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,D(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,D(0,0)));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}function f(a){var b=D(0,30),c=D(0,-30),d=o.addBody(new cp.Body(2,cp.momentForSegment(2,b,c)));d.setPos(cp.v.add(a,q));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);
a.setFriction(0.7);return d}function i(a){var b=D(0,15),c=D(0,-15),d=o.addBody(new cp.Body(1,cp.momentForSegment(1,b,c)));d.setPos(cp.v.add(a,cp.v.add(q,cp.v(0,-15))));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);a.setFriction(0.7);return d}function k(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,D(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,D(0,0)));a.setElasticity(0);a.setFriction(0.7);return b}ac.call(this);this.h="Chipmunk Demo";this.d="Joints";
var o=this.n,q;o.iterations=10;o.gravity=D(0,-100);o.sleepTimeThreshold=0.5;for(var v=o.staticBody,p,t=480;0<=t;t-=120)p=o.addShape(new cp.SegmentShape(v,D(0,t),D(640,t),0)),p.setElasticity(1),p.setFriction(1),p.Jf=2147483647;for(t=0;640>=t;t+=160)p=o.addShape(new cp.SegmentShape(v,D(t,0),D(t,480),0)),p.setElasticity(1),p.setFriction(1),p.Jf=2147483647;var I=D(50,60),N=D(110,60);labels=[];q=D(0,0);a("Pin Joint");p=k(I);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.PinJoint(p,t,D(15,0),D(15,0)));
q=D(160,0);a("Slide Joint");p=k(I);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.SlideJoint(p,t,D(15,0),D(15,0),20,40));q=D(320,0);a("Pivot Joint");p=k(I);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.PivotJoint(p,t,cp.v.add(q,D(80,60))));q=D(480,0);a("Groove Joint");p=k(I);t=k(N);o.addConstraint(new cp.GrooveJoint(p,t,D(30,30),D(30,-30),D(-30,0)));q=D(0,120);a("Damped Spring");p=k(I);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.DampedSpring(p,t,D(15,0),D(15,0),20,5,0.3));q=D(160,120);
a("Damped Rotary Spring");p=f(I);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.DampedRotarySpring(p,t,0,3E3,60));q=D(320,120);a("Rotary Limit Joint");p=i(I);t=i(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.RotaryLimitJoint(p,t,-Math.PI/2,Math.PI/2));q=D(480,120);a("Ratchet Joint");p=i(I);t=i(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,
v,b()));o.addConstraint(new cp.RatchetJoint(p,t,0,Math.PI/2));q=D(0,240);a("Gear Joint");p=f(I);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.GearJoint(p,t,0,2));q=D(160,240);a("Simple Motor");p=f(I);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.SimpleMotor(p,t,Math.PI));q=D(320,240);v=d(I);p=d(N);t=function(a){var b=o.addBody(new cp.Body(5,cp.momentForBox(5,
80,30)));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.BoxShape(b,80,30));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}(D(80,100));o.addConstraint(new cp.GrooveJoint(t,v,D(-30,-10),D(-30,-40),D(0,0)));o.addConstraint(new cp.GrooveJoint(t,p,D(30,-10),D(30,-40),D(0,0)));o.addConstraint(new cp.DampedSpring(t,v,D(-30,0),D(0,0),50,20,10));o.addConstraint(new cp.DampedSpring(t,p,D(30,0),D(0,0),50,20,10))}cc.inherits(gc,ac);
function hc(){ac.call(this);this.h="Chipmunk Demo";this.d="Balls";var a=this.n;a.iterations=60;a.gravity=D(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;a.sleepTimeThreshold=0.5;bc(this);dc(this);var b=3,c=a.addBody(new cp.Body(b,cp.momentForBox(b,50,60)));c.setPos(D(500,100));c.setAngle(1);shape=a.addShape(new cp.BoxShape(c,50,60));shape.setFriction(0.3);shape.setElasticity(0.3);for(c=1;10>=c;c++)b=3,b=a.addBody(new cp.Body(b,cp.momentForCircle(b,0,20,D(0,0)))),b.setPos(D(200+c,45*c)),b=a.addShape(new cp.CircleShape(b,
20,D(0,0))),b.setElasticity(0.8),b.setFriction(1);a=a.addShape(new cp.SegmentShape(a.staticBody,D(100,100),D(300,200),10));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}cc.inherits(hc,ac);
function ic(){ac.call(this);this.h="Chipmunk Demo";this.d="Buoyancy";var a=this.n;a.iterations=30;a.gravity=cp.v(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b=a.staticBody,c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(0,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(640,0),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(640,0),0));c.setElasticity(1);
c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,480),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);var d=new cp.BB(20,40,420,240),c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.l,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.r,d.b),cp.v(d.r,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.r,
d.b),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.BoxShape2(b,d));c.setSensor(g);c.setCollisionType(1);var b=200,c=50,d=4.2E-5*b*c,f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(270,140));body.setVel(cp.v(0,-100));body.setAngVel(1);c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);b=40;c=2*b;d=4.2E-5*b*c;f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(120,190));body.setVel(cp.v(0,-100));body.setAngVel(1);
c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);a.addCollisionHandler(1,0,h,this.jh,h,h)}cc.inherits(ic,ac);ic.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.n.step(a)};
ic.prototype.jh=function(a,b){for(var c=a.getShapes(),d=c[0],f=c[1],c=f.getBody(),i=d.getBB().t,k=f.getNumVerts(),d=[],o=k-1,q=0;q<k;q++){var o=c.local2World(f.getVert(o)),v=c.local2World(f.getVert(q));o.y<i&&(d.push(o.x),d.push(o.y));var p=o.y-i,t=v.y-i;0>p*t&&(o=cp.v.lerp(o,v,Math.abs(p)/(Math.abs(p)+Math.abs(t))),d.push(o.x),d.push(o.y));o=q}f=cp.areaForPoly(d);k=1.4E-4*f;i=cp.centroidForPoly(d);q=cp.v.sub(i,c.getPos());i=b.getCurrentTimeStep();c.applyImpulse(cp.v.mult(b.gravity,-k*i),q);k=cp.v.add(c.getVel(),
cp.v.mult(cp.v.perp(q),c.w));c.applyImpulse(cp.v.mult(cp.v.sub(cp.v.mult(k,Math.exp(1*-(2.8E-4*f)*i)),k),1),q);d=cp.momentForPoly(2.8E-4*f,d,cp.v.neg(c.p));c.w*=Math.exp(-d*i*(1/c.i));return g};function ka(){w.call(this)}cc.inherits(ka,w);ka.prototype.C=function(){B=-1;this.addChild(Sb());r.replaceScene(this)};var Rb=[ic,ec,fc,gc,hc,Ub,Vb,Wb,Yb,Zb];"browser"!==sys.platform&&(Rb.push(Xb),Rb.push($b));function Sb(){B++;B=B%Rb.length;return new Rb[B]}
function Tb(){B--;B<0&&(B=B+Rb.length);return new Rb[B]};var la=w.extend({C:function(){this.addChild(new jc);r.replaceScene(this)}}),jc=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/grossini.png"),b=cc.LayerColor.create(cc.c4b(255,255,0,100));this.addChild(b,-1);this.addChild(a,0,1);a.setPosition(20,150);a.runAction(cc.JumpTo.create(4,cc.p(300,48),100,4));var a=cc.FadeIn.create(1),
c=cc.FadeOut.create(1),a=cc.RepeatForever.create(cc.Sequence.create(a,c));b.runAction(a)},oe:function(a){var b=this.getChildByTag(1);b.stopAllActions();b.runAction(cc.MoveTo.create(1,a));var c=b.getPosition(),d=a.x-c.x,a=a.y-c.y,c=Math.atan(d/a)*(180/Math.PI);0>a&&(c=0>d?180+Math.abs(c):180-Math.abs(c));b.runAction(cc.RotateTo.create(1,c%360))},onMouseUp:function(a){this.oe(a.getLocation())},onTouchesEnded:function(a){0>=a.length||this.oe(a[0].getLocation())}});var E=cc.AudioEngine.getInstance(),Dc=[{title:"Play Music",T:function(){return new kc}},{title:"Stop Music",T:function(){return new lc}},{title:"Pause Music",T:function(){return new mc}},{title:"Resume Music",T:function(){return new nc}},{title:"Rewind Music",T:function(){return new oc}},{title:"is Music Playing",T:function(){return new pc}},{title:"Increase Music Volume",T:function(){return new qc}},{title:"Decrease Music Volume",T:function(){return new rc}},{title:"Play Sound Effect",T:function(){return new sc}},
{title:"Repeat Sound Effect",T:function(){return new tc}},{title:"Stop Sound Effect",T:function(){return new uc}},{title:"Unload Sound Effect",T:function(){return new vc}},{title:"Increase Sound Effect Volume",T:function(){return new wc}},{title:"Decrease Sound Effect Volume",T:function(){return new xc}},{title:"Pause Sound Effect",T:function(){return new yc}},{title:"Resume Sound Effect",T:function(){return new zc}},{title:"Pause All Sound Effects",T:function(){return new Ac}},{title:"Resume All Sound Effects",
T:function(){return new Bc}},{title:"Stop All Sound Effects",T:function(){return new Cc}}];
CocosDenshionTest=cc.LayerGradient.extend({U:h,ff:cc.p(0,0),ae:0,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(148,80,120,255));this.U=cc.Menu.create();for(var a=r.getWinSize(),b=0;b<Dc.length;b++){var c=cc.LabelTTF.create(Dc[b].title,"Arial",24),c=cc.MenuItemLabel.create(c,this.X,this);this.U.addChild(c,b+1E4);c.setPosition(a.width/2,a.height-(b+1)*fa)}this.ae=b;this.U.setContentSize(cc.size(a.width,(this.ae+1)*fa));this.U.setPosition(0,
0);this.addChild(this.U);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);E.setEffectsVolume(0.5);E.setMusicVolume(0.5)},onExit:function(){this._super();E.end()},X:function(a){a=a.getZOrder()-1E4;Dc[a].T()},onTouchesMoved:function(a){this.Cb(a[0].getDelta());return g},onMouseDragged:function(a){this.Cb(a.getDelta());return g},Cb:function(a){var b=this.U.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(Dc.length+1)*fa-u.height&&(a=(Dc.length+1)*fa-u.height);
this.U.setPosition(b.x,a)}});CocosDenshionTestScene=w.extend({C:function(){E=cc.AudioEngine.getInstance();this.addChild(new CocosDenshionTest);r.replaceScene(this)}});var Ec=h;function kc(){cc.log("play background music");E.playMusic("res/Sound/background.mp3",j)}function lc(){cc.log("stop background music");E.stopMusic()}function mc(){cc.log("pause background music");E.pauseMusic()}function nc(){cc.log("resume background music");E.resumeMusic()}
function oc(){cc.log("rewind background music");E.rewindMusic()}function pc(){E.isMusicPlaying()?cc.log("background music is playing"):cc.log("background music is not playing")}function sc(){cc.log("play effect");Ec=E.playEffect("res/Sound/effect2.mp3")}function tc(){cc.log("play effect repeatly");Ec=E.playEffect("res/Sound/effect2.mp3",g)}function uc(){cc.log("stop effect");E.stopEffect(Ec)}function vc(){cc.log("unload effect");E.unloadEffect("res/Sound/effect2.mp3")}
function qc(){cc.log("add bakcground music volume");E.setMusicVolume(E.getMusicVolume()+0.1)}function rc(){cc.log("sub backgroud music volume");E.setMusicVolume(E.getMusicVolume()-0.1)}function wc(){cc.log("add effects volume");E.setEffectsVolume(E.getEffectsVolume()+0.1)}function xc(){cc.log("sub effects volume");E.setEffectsVolume(E.getEffectsVolume()-0.1)}function yc(){cc.log("pause effect");E.pauseEffect(Ec)}function zc(){cc.log("resume effect");E.resumeEffect(Ec)}
function Ac(){cc.log("pause all effects");E.pauseAllEffects()}function Bc(){cc.log("resume all effects");E.resumeAllEffects()}function Cc(){cc.log("stop all effects");E.stopAllEffects()};var F=1,G=2,Fc=3,H=-1,Jc=x.extend({ctor:function(){this._super()},title:m("No title"),e:m(""),G:function(){var a=new va;a.addChild(new Gc[H]);r.replaceScene(a)},F:function(){var a=new va;a.addChild(Hc());r.replaceScene(a)},D:function(){var a=new va;a.addChild(Ic());r.replaceScene(a)},M:function(){return Gc.length-1-H},I:function(){return H}}),Kc=Jc.extend({onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png"),
c=cc.Sprite.create("res/Images/grossinis_sister1.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));this.addChild(a);this.addChild(b);c.setScale(0.25);d.setScale(0.25);a.addChild(c);b.addChild(d);var d=cc.RotateBy.create(2,360),f=cc.ScaleBy.create(2,2),c=cc.RepeatForever.create(cc.Sequence.create(d,f,f.reverse())),d=cc.RepeatForever.create(cc.Sequence.create(d.copy(),f.copy(),f.reverse()));b.setAnchorPoint(cc.p(0,
0));a.runAction(c);b.runAction(d)},title:m("anchorPoint and children")}),Lc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));this.addChild(a,0,2);this.addChild(b,0,3);this.schedule(this.xf,2);this.schedule(this.ie,4)},xf:function(){var a=this.getChildByTag(2),b=cc.RotateBy.create(1,360);a.runAction(b)},ie:function(){this.unschedule(this.ie);
this.removeChildByTag(3,j)},title:m("tags")}),Mc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));var c=cc.RotateBy.create(2,360),d=c.reverse(),c=cc.RepeatForever.create(cc.Sequence.create(c,d)),d=c.copy();c.setTag(101);d.setTag(102);this.addChild(a,0,F);this.addChild(b,0,G);a.runAction(c);b.runAction(d);this.schedule(this.yd,
2)},yd:function(){var a=this.getChildByTag(F),b=this.getChildByTag(G);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,0,F);this.addChild(b,0,G);a.release();b.release()},title:m("remove and cleanup")}),Nc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");
a.setPosition(cc.p(150,u.height/2));c.setPosition(cc.p(u.width-150,u.height/2));var f=cc.RotateBy.create(2,360),i=f.reverse(),f=cc.RepeatForever.create(cc.Sequence.create(f,i)),i=f.copy(),k=f.copy(),o=f.copy();this.addChild(a,0,F);a.addChild(b);this.addChild(c,0,G);c.addChild(d);a.runAction(f);b.runAction(i);c.runAction(k);d.runAction(o);this.schedule(this.yd,2)},yd:function(){var a=this.getChildByTag(F),b=this.getChildByTag(G);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,
0,F);this.addChild(b,0,G);a.release();b.release()},title:m("remove/cleanup with children")}),Oc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png");this.addChild(a,0,F);this.setContentSize(cc.size(0,0));a.setPosition(cc.p(u.width/2,u.height/2));this.schedule(this.se,1)},se:function(){this.unschedule(this.se);var a=cc.ParticleSun.create();a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));a.setPosition(cc.p(u.width/2,u.height/
2));this.runAction(cc.Sequence.create(cc.RotateBy.create(2,360),cc.CallFunc.create(this.jg,this)));this.addChild(a)},jg:function(a){this.getParent().removeChild(a,g);this.Fc(this)},title:m("stress test #1: no crashes")}),Pc=Jc.extend({ctor:function(){this._super();var a=cc.Layer.create(),b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc.p(80,u.height/2));var c=cc.MoveBy.create(3,cc.p(350,0)),c=cc.EaseInOut.create(c.copy(),2),d=c.reverse(),c=cc.Sequence.create(c,d);b.runAction(cc.RepeatForever.create(c));
a.addChild(b,1);b=cc.ParticleFire.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(cc.p(80,u.height/2-50));c=c.copy();b.runAction(cc.RepeatForever.create(c));a.addChild(b,2);this.schedule(this.Ce,6);this.addChild(a,0,F)},Ce:function(){this.unschedule(this.Ce);this.getChildByTag(F).removeAllChildren()},title:m("stress test #2: no leaks")}),Qc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/background3.png");this.addChild(a,
-10);a.setAnchorPoint(cc.p(0,0));var b=a.getContentSize(),c=cc.MenuItemImage.create("res/Images/btn-play-normal.png","res/Images/btn-play-selected.png",this.Nf),d=cc.Menu.create(c);d.alignItemsVertically();d.setPosition(cc.p(b.width/2,b.height/2));a.addChild(d);b=cc.RotateBy.create(5,360);b=cc.RepeatForever.create(b);c.runAction(b);c=cc.MoveBy.create(3,cc.p(200,0));b=c.reverse();c=cc.Sequence.create(c,b);c=cc.RepeatForever.create(c);a.runAction(c)},Nf:function(){cc.log("On clicked")},title:m("nodeToParent transform")}),
Rc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/background3.png");this.addChild(a,0);a.setPosition(cc.p(u.width/2,u.height/2));a.setOpacity(128);s=a.getContentSize();var b=cc.Sprite.create("res/Images/grossini.png");b.setScale(0.5);a.addChild(b,0);b.setPosition(cc.p(1*(u.width/4),u.height/2));b.getCamera();var c=cc.OrbitCamera.create(2,1,0,0,360,0,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create("res/Images/grossini.png");b.setScale(1);a.addChild(b,0);b.setPosition(cc.p(2*
(u.width/4),u.height/2));c=cc.OrbitCamera.create(2,1,0,0,360,45,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create("res/Images/grossini.png");b.setScale(2);a.addChild(b,0);b.setPosition(cc.p(3*(u.width/4),u.height/2));b.getContentSize();c=cc.OrbitCamera.create(2,1,0,0,360,90,-45);b.runAction(cc.RepeatForever.create(c));c=cc.OrbitCamera.create(10,1,0,0,360,0,90);a.runAction(cc.RepeatForever.create(c));this.setScale(1)},onEnter:function(){this._super();r.setProjection(cc.Eb)},onExit:function(){r.setProjection(cc.Qa);
this._super()},title:m("Camera Orbit test")}),Sc=Jc.extend({Kb:0,ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0);a.setPosition(cc.p(1*(u.width/4),u.height/2));a=a.getCamera();a.Xb&&a.Xb(0,0,415);a.Pg&&a.Pg(0,0,0);a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,40);a.setPosition(cc.p(2*(u.width/4),u.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,20);a.setPosition(cc.p(3*(u.width/4),u.height/2));this.Kb=0;
this.scheduleUpdate()},update:function(a){this.Kb+=100*a;a=this.getChildByTag(20);a=a.getCamera();a.Xb&&a.Xb(0,0,this.Kb);a=this.getChildByTag(40);a=a.getCamera();a.Xb&&a.Xb(0,0,this.Kb)},onEnter:function(){this._super();r.setProjection(cc.Eb)},onExit:function(){r.setProjection(cc.Qa);this._super()},title:m("Camera Zoom test")}),Tc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(1*(u.width/5),1*(u.height/5)));a.setColor(cc.c3b(255,0,0));a.setTextureRect(cc.rect(0,
0,120,50));var b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(1*(u.width/5),4*(u.height/5)));a.setColor(cc.c3b(0,0,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(4*(u.width/5),1*(u.height/5)));a.setColor(cc.c3b(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,
1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(4*(u.width/5),4*(u.height/5)));a.setColor(cc.c3b(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(u.width/2,u.height/2));a.setColor(cc.c3b(255,255,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b))},
title:m("Camera Center test"),e:m("Sprites should rotate at the same speed")}),Uc=Jc.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);for(var a=cc.RotateBy.create(10,360),a=cc.RepeatForever.create(a),b=0;3>b;b++){var c=cc.Sprite.create("res/Images/grossini.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,
10,100+b);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());d=a.copy();c.runAction(d);this.addChild(c,b)}},ze:function(a){for(var b=0;3>b;b++){var c=this.getChildByTag(100+b),d=c.convertToNodeSpaceAR(a),c=c.convertToNodeSpace(a);cc.log("AR: x="+d.x.toFixed(2)+", y="+d.y.toFixed(2)+" -- Not AR: x="+c.x.toFixed(2)+", y="+c.y.toFixed(2))}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++)this.ze(a[b].getLocation())},
onMouseUp:function(a){this.ze(a.getLocation())},title:m("Convert To Node Space"),e:m("testing convertToNodeSpace / AR. Touch and see console")}),Vc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(u.width/2,u.height/2);a=a.getBoundingBox();this.log("BoundingBox:");this.log("origin = [ "+a.x+","+a.y+"]");this.log("size = [ "+a.width+","+a.height+"]")},title:m("Bounding Box Test"),e:m("Testing getBoundingBox(). See console")}),
va=w.extend({C:function(){H=-1;this.addChild(Hc());r.replaceScene(this)}}),Gc=[Kc,Lc,Mc,Nc,Oc,Pc,Qc,Uc,Rc,Sc,Tc,Vc];function Hc(){H++;H%=Gc.length;return new Gc[H]}function Ic(){H--;0>H&&(H+=Gc.length);return new Gc[H]};var J=-1,Zc=x.extend({d:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},G:function(){var a=new ma;a.addChild(new Wc[J]);r.replaceScene(a)},F:function(){var a=new ma;a.addChild(Xc());r.replaceScene(a)},D:function(){var a=new ma;a.addChild(Yc());r.replaceScene(a)},M:function(){return Wc.length-1-J},I:function(){return J}}),$c=Zc.extend({ctor:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){this._super();var a=cc.Director.getInstance().getWinSize();
cc.renderContext.fillStyle="rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)";cc.drawingUtil.drawLine(cc.p(0,0),cc.p(a.width,a.height));cc.renderContext.strokeStyle="rgba(255,0,0,1)";cc.renderContext.lineWidth="5";cc.drawingUtil.drawLine(cc.p(0,a.height),cc.p(a.width,0));cc.renderContext.fillStyle="rgba(0,0,255,0.5)";cc.drawingUtil.drawPoint(cc.p(a.width/2,a.height/2),40);var b=[cc.p(60,60),cc.p(70,70),cc.p(60,70),cc.p(70,60)];cc.renderContext.fillStyle="rgba(0,255,255,1)";cc.drawingUtil.drawPoints(b,
4,4);cc.renderContext.lineWidth="16";cc.renderContext.strokeStyle="rgba(0,255,0,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),100,0,10,j);cc.renderContext.lineWidth="2";cc.renderContext.strokeStyle="rgba(0,255,255,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),50,cc.DEGREES_TO_RADIANS(90),50,g);cc.renderContext.strokeStyle="rgba(255,255,0,1)";cc.renderContext.lineWidth="10";b=[cc.p(0,0),cc.p(50,50),cc.p(100,50),cc.p(100,100),cc.p(50,100)];cc.drawingUtil.drawPoly(b,5,j);cc.renderContext.strokeStyle=
"rgba(255,0,255,1)";cc.renderContext.lineWidth="2";b=[cc.p(30,130),cc.p(30,230),cc.p(50,200)];cc.drawingUtil.drawPoly(b,3,g);cc.drawingUtil.drawQuadBezier(cc.p(0,a.height),cc.p(a.width/2,a.height/2),cc.p(a.width,a.height),50);cc.drawingUtil.drawCubicBezier(cc.p(a.width/2,a.height/2),cc.p(a.width/2+30,a.height/2+50),cc.p(a.width/2+60,a.height/2-50),cc.p(a.width,a.height/2),100);cc.renderContext.lineWidth="1";cc.renderContext.fillStyle="rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)"}}),
ad=Zc.extend({d:"cc.DrawNode",h:"Testing cc.DrawNode API",ctor:function(){this._super();var a=cc.DrawNode.create();this.addChild(a,10);for(var b=0;10>b;b++)a.drawDot(cc.p(u.width/2,u.height/2),10*(10-b),cc.c4f(Math.random(),Math.random(),Math.random(),1));b=[cc.p(u.height/4,0),cc.p(u.width,u.height/5),cc.p(2*(u.width/3),u.height)];a.drawPoly(b,cc.c4f(1,0,0,0.5),4,cc.c4f(0,0,1,1));var b=80,c=20,d=50,b=[cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),
cc.p(b-d,b+c),cc.p(b,b)];a.drawPoly(b,cc.c4f(1,0,0,0.5),1,cc.c4f(0,0,1,1));b=180;c=20;d=50;b=[cc.p(b,b),cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-d,b+c)];a.drawPoly(b,cc.c4f(1,0,0,0.5),1,cc.c4f(0,0,1,1));a.drawSegment(cc.p(20,u.height),cc.p(20,u.height/2),10,cc.c4f(0,1,0,1));a.drawSegment(cc.p(10,u.height/2),cc.p(u.width/2,u.height/2),40,cc.c4f(1,0,1,0.5))}}),ma=w.extend({C:function(){J=-1;this.addChild(Xc());r.replaceScene(this)}}),Wc=
[ad];"browser"===sys.platform&&Wc.push($c);function Xc(){J++;J%=Wc.length;return new Wc[J]}function Yc(){J--;0>J&&(J+=Wc.length);return new Wc[J]};TAG_ACTION1_EASE_ACTIONS=1;TAG_ACTION2_EASE_ACTIONS=2;TAG_SLIDER_EASE_ACTIONS=1;
var K=-1,na=w.extend({C:function(){K=-1;this.addChild(bd());r.replaceScene(this)}}),L=x.extend({f:h,j:h,k:h,d:h,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},title:m("No title"),onEnter:function(){this._super();this.f=cc.Sprite.create("res/Images/grossini.png");this.j=cc.Sprite.create("res/Images/grossinis_sister1.png");this.k=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.f,3);this.addChild(this.k,2);this.addChild(this.j,1);this.f.setPosition(cc.p(60,
u.height/5));this.k.setPosition(cc.p(60,u.height/2));this.j.setPosition(cc.p(60,4*u.height/5));this.Ld=j},G:function(){var a=new na;a.addChild(new cd[K]);r.replaceScene(a)},F:function(){var a=new na;a.addChild(bd());r.replaceScene(a)},D:function(){var a=new na;a.addChild(dd());r.replaceScene(a)},Jc:function(){this.Ld=g;this.f.setPosition(cc.p(60,u.height/5));this.j.setPosition(cc.p(60,4*u.height/5));this.k.setVisible(j)},M:function(){return cd.length-1-K},I:function(){return K},u:2.05,q:function(){var a=
60+u.width-80;return JSON.stringify(this.Ld?[a,a]:[a,a,a])},o:function(){var a;a=this.Ld?[this.f.getPosition().x,this.j.getPosition().x]:[this.f.getPosition().x,this.j.getPosition().x,this.k.getPosition().x];return JSON.stringify(a)}}),ed=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseIn.create(a.copy(),2),d=c.reverse(),f=cc.EaseOut.create(a.copy(),2),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,
k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a)).setTag(1);this.j.runAction(cc.RepeatForever.create(c)).setTag(1);this.k.runAction(cc.RepeatForever.create(f)).setTag(1);this.scheduleOnce(this.$g,4.1)},title:m("EaseIn - EaseOut - Stop"),$g:function(){this.j.stopActionByTag(1);this.k.stopActionByTag(1);this.f.stopActionByTag(1)},u:4.2,q:function(){return JSON.stringify([60,60,60])},o:function(){var a=[this.f.getPosition().x,this.j.getPosition().x,
this.k.getPosition().x];return JSON.stringify(a)}}),fd=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=cc.EaseInOut.create(a.copy(),2),c=b.reverse(),d=cc.EaseInOut.create(a.copy(),3),f=d.reverse(),a=cc.EaseInOut.create(a.copy(),4),i=a.reverse(),k=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,k,c,k.copy()),d=cc.Sequence.create(d,k.copy(),f,k.copy()),f=cc.Sequence.create(a,k.copy(),i,k.copy());this.j.runAction(cc.RepeatForever.create(b));this.k.runAction(cc.RepeatForever.create(d));
this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseInOut and rates")}),gd=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseExponentialIn.create(a.copy()),d=c.reverse(),f=cc.EaseExponentialOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));
this.k.runAction(cc.RepeatForever.create(f))},title:m("ExpIn - ExpOut actions")}),hd=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseExponentialInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Jc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseExponentialInOut action")}),id=L.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseSineIn.create(a.copy()),d=c.reverse(),f=cc.EaseSineOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k,d,k.copy()),f=cc.Sequence.create(f,k,i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("EaseSineIn - EaseSineOut")}),jd=L.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseSineInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Jc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseSineInOut action")}),kd=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseElasticIn.create(a.copy()),d=c.reverse(),
f=cc.EaseElasticOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Elastic In - Out actions")}),ld=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=cc.EaseElasticInOut.create(a.copy(),
0.3),c=b.reverse(),d=cc.EaseElasticInOut.create(a.copy(),0.45),f=d.reverse(),a=cc.EaseElasticInOut.create(a.copy(),0.6),i=a.reverse(),k=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,k,c,k.copy()),d=cc.Sequence.create(d,k.copy(),f,k.copy()),f=cc.Sequence.create(a,k.copy(),i,k.copy());this.j.runAction(cc.RepeatForever.create(b));this.k.runAction(cc.RepeatForever.create(d));this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseElasticInOut action")}),md=L.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBounceIn.create(a.copy()),d=c.reverse(),f=cc.EaseBounceOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Bounce In - Out actions")}),nd=L.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBounceInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Jc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseBounceInOut action")}),od=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBackIn.create(a.copy()),d=c.reverse(),
f=cc.EaseBackOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Back In - Out actions")}),pd=L.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBackInOut.create(a.copy()),
d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Jc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseBackInOut action")}),qd=L.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-u.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.Speed.create(cc.RepeatForever.create(c),
1);c.setTag(TAG_ACTION1_EASE_ACTIONS);d=c.copy();a=c.copy();d.setTag(TAG_ACTION1_EASE_ACTIONS);a.setTag(TAG_ACTION1_EASE_ACTIONS);this.f.runAction(d);this.j.runAction(a);this.k.runAction(c);this.schedule(this.mf,1)},title:m("Speed action"),mf:function(){var a=this.f.getActionByTag(TAG_ACTION1_EASE_ACTIONS),b=this.j.getActionByTag(TAG_ACTION1_EASE_ACTIONS),c=this.k.getActionByTag(TAG_ACTION1_EASE_ACTIONS);a.setSpeed(2*Math.random());b.setSpeed(2*Math.random());c.setSpeed(2*Math.random())},u:0.1,q:function(){e("Not Implemented")},
o:function(){e("Not Implemented")}}),rd=L.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-u.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.RepeatForever.create(c),d=c.copy(),a=c.copy();this.f.runAction(cc.Speed.create(c,0.5));this.j.runAction(cc.Speed.create(d,1.5));this.k.runAction(cc.Speed.create(a,1));c=new cc.ParticleFireworks;c.initWithTotalParticles(250);c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.addChild(c)},title:m("Scheduler scaleTime Test"),u:0.1,q:function(){e("Not Implemented")},o:function(){e("Not Implemented")}}),cd=[ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd];function bd(){K++;K%=cd.length;return new cd[K]}function dd(){K--;0>K&&(K+=cd.length);return new cd[K]};var M=-1,O=x.extend({code:m(""),G:function(){var a=new qa;a.addChild(new sd[M]);r.replaceScene(a)},F:function(){var a=new qa;a.addChild(td());r.replaceScene(a)},D:function(){var a=new qa;a.addChild(ud());r.replaceScene(a)},onEnter:function(){this._super();var a=cc.Node.create();a.runAction(this.N(3));this.addChild(a);var b=cc.LayerGradient.create(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));a.addChild(b);b=cc.Sprite.create("res/Images/background3.png");b.setPosition(cc._p(u.width/2,u.height/2));a.addChild(b);
b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc._p(u.width/3,u.height/2));a.addChild(b,1);var c=cc.Sprite.create("res/Images/grossinis_sister2.png");c.setPosition(cc._p(2*u.width/3,u.height/2));a.addChild(c,1);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a);b.runAction(a);c.runAction(a.copy())},N:function(){return cc.MoveBy.create(2,cc._p(10,10))},M:function(){return sd.length-1-M},I:function(){return M}}),vd=O.extend({title:m("Shaky 3D"),
code:m("a = cc.Shaky3D.create(duration, gridSize, range, shakeZ)"),N:function(a){return cc.Shaky3D.create(a,cc.size(15,10),5,j)}}),wd=O.extend({title:m("Waves 3D"),code:m("a = cc.Waves3D.create(duration, gridSize, range, shakeZ)"),N:function(a){return cc.Waves3D.create(a,cc.size(15,10),5,40)}}),xd=O.extend({title:m("FlipX3D"),code:m("a = cc.FlipX3D.create(duration )"),N:function(a){var a=cc.FlipX3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),yd=O.extend({title:m("FlipY3D"),
code:m("a = cc.FlipY3D.create(duration )"),N:function(a){var a=cc.FlipY3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),zd=O.extend({title:m("Lens3D"),code:m("a = cc.Lens3D.create(duration, gridSize, position, radius)"),N:function(a){return cc.Lens3D.create(a,cc.size(15,10),cc._p(u.width/2,u.height/2),240)}}),Ad=O.extend({title:m("Ripple3D"),code:m("a = cc.Ripple3D.create(duration, gridSize, position, radius, waves, amplitude)"),N:function(a){return cc.Ripple3D.create(a,
cc.size(32,24),cc._p(u.width/2,u.height/2),240,4,160)}}),Bd=O.extend({title:m("Liquid"),code:m("a = cc.Liquid.create(duration, gridSize, waves, amplitude)"),N:function(a){return cc.Liquid.create(a,cc.size(16,12),4,20)}}),Cd=O.extend({title:m("Waves"),code:m("a = cc.Waves.create(duration, gridSize, waves, amplitude, horizontal, vertical)"),N:function(a){return cc.Waves.create(a,cc.size(16,12),4,20,g,g)}}),Dd=O.extend({title:m("Twirl"),code:m("a = cc.Twirl.create(duration, gridSize, position, twirls, amplitude)"),
N:function(a){return cc.Twirl.create(a,cc.size(12,8),cc.p(u.width/2,u.height/2),1,2.5)}}),Ed=O.extend({title:m("ShakyTiles3D"),code:m("a = cc.ShakyTiles3D.create(duration, gridSize, range, shakeZ)"),N:function(a){return cc.ShakyTiles3D.create(a,cc.size(16,12),5,j)}}),Fd=O.extend({title:m("ShatteredTiles3D"),code:m("a = cc.ShatteredTiles3D.create(duration, gridSize, range, shatterZ)"),N:function(a){return cc.ShatteredTiles3D.create(a,cc.size(16,12),5,j)}}),Gd=O.extend({title:m("ShuffleTiles"),code:m("a = cc.ShuffleTiles.create(duration, gridSize, seed)"),
N:function(a){var a=cc.ShuffleTiles.create(a,cc.size(16,12),25),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Hd=O.extend({title:m("FadeOutTRTilesTest"),code:m("a = cc.FadeOutTRTiles.create(duration, gridSize)"),N:function(a){var a=cc.FadeOutTRTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Id=O.extend({title:m("FadeOutBLTilesTest"),code:m("a = cc.FadeOutBLTiles.create(duration, gridSize)"),N:function(a){var a=
cc.FadeOutBLTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Jd=O.extend({title:m("FadeOutUpTilesTest"),code:m("a = cc.FadeOutUpTiles.create(duration, gridSize)"),N:function(a){var a=cc.FadeOutUpTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Kd=O.extend({title:m("FadeOutDownTilesTest"),code:m("a = cc.FadeOutDownTiles.create(duration, gridSize)"),N:function(a){var a=cc.FadeOutDownTiles.create(a,
cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Ld=O.extend({title:m("TurnOffTiles"),code:m("a = cc.TurnOffTiles.create(duration, gridSize, seed)"),N:function(a){var a=cc.TurnOffTiles.create(a,cc.size(16,12),20),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Md=O.extend({title:m("WavesTiles3D"),code:m("a = cc.WavesTiles3D.create(duration, gridSize, waves, amplitude)"),N:function(a){return cc.WavesTiles3D.create(a,cc.size(16,
12),4,120)}}),Nd=O.extend({title:m("JumpTiles3D"),code:m("a = cc.JumpTiles3D.create(duration, gridSize, jumps, amplitude)"),N:function(a){return cc.JumpTiles3D.create(a,cc.size(16,12),2,30)}}),Od=O.extend({title:m("SplitRows"),code:m("a = cc.SplitRows.create(duration, rows)"),N:function(a){var a=cc.SplitRows.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Pd=O.extend({title:m("SplitCols"),code:m("a = cc.SplitCols.create(duration, cols)"),N:function(a){var a=
cc.SplitCols.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Qd=O.extend({title:m("PageTurn3D"),code:m("a = cc.PageTurn3D.create(duration, gridSize)"),N:function(a){return cc.PageTurn3D.create(a,cc.size(15,10))}}),qa=w.extend({C:function(){M=-1;this.addChild(td());r.replaceScene(this)}}),sd=[vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd];function td(){M++;M%=sd.length;return new sd[M]}
function ud(){M--;0>M&&(M+=sd.length);return new sd[M]};var P=-1,Ud=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},Tb:function(){var a=new oa;a.addChild(new Rd[P]);r.replaceScene(a)},Fc:function(){var a=new oa;a.addChild(Sd());r.replaceScene(a)},md:function(){var a=new oa;a.addChild(Td());r.replaceScene(a)},title:m("Event Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",24);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height-50));if((b=this.e())&&
""!==b)b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80));var b=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.md,this),c=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.Tb,this),d=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Fc,this),f=cc.Menu.create(b,c,d);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/2-100,30));c.setPosition(cc.p(a.width/2,30));d.setPosition(cc.p(a.width/2+
100,30));this.addChild(f,1)}}),Vd=Ud.extend({init:function(){this._super();this.Ba={};this.lb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Ye),this.setTouchEnabled(g)):cc.log("TOUCH-ONE-BY-ONE test is not supported on desktop");for(var a=0;5>a;a++){var b=this.kb=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.lb.push(b)}},e:m("Touches One by One. Touch the left / right and see console"),
xd:function(a,b){var c=this.lb.pop();this.Ba[a]=c;c.setPosition(b)},Vc:function(a,b){this.Ba[a].setPosition(b)},Kc:function(a){var b=this.Ba[a];this.Ba[a]=h;this.lb.push(b);b.setPosition(0,0)},onTouchBegan:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchBegan at: "+b.x+" "+b.y+" Id:"+a);return b.x<u.width/2?(this.xd(a,b),g):j},onTouchMoved:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchMoved at: "+b.x+" "+b.y+" Id:"+a);this.Vc(a,b)},onTouchEnded:function(a){var b=a.getLocation(),
a=a.getId();cc.log("onTouchEnded at: "+b.x+" "+b.y+" Id:"+a);this.Kc(a,b)},onTouchCancelled:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchCancelled at: "+b.x+" "+b.y+" Id:"+a);this.Vc(a,b)}}),Wd=Ud.extend({init:function(){this._super();this.Ba={};this.lb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Xe),this.setTouchEnabled(g)):cc.log("TOUCHES not supported");for(var a=0;5>a;a++){var b=this.kb=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);
b.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.lb.push(b)}},e:m("Touches All At Once. Touch and see console"),xd:function(a,b){var c=this.lb.pop();this.Ba[a]=c;c.setPosition(b)},Vc:function(a,b){this.Ba[a].setPosition(b)},Kc:function(a){var b=this.Ba[a];this.Ba[a]=h;this.lb.push(b);b.setPosition(0,0)},onTouchesBegan:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesBegan at: "+d.x+" "+d.y+" Id:"+
c);this.xd(c,d)}},onTouchesMoved:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesMoved at: "+d.x+" "+d.y+" Id:"+c);this.Vc(c,d)}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesEnded at: "+d.x+" "+d.y+" Id:"+c);this.Kc(c)}},onTouchesCancelled:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesCancelled at: "+
d.x+" "+d.y+" Id:"+c);this.Kc(c)}}}),Xd=Ud.extend({init:function(){this._super();if("accelerometer"in sys.capabilities){this.setAccelerometerInterval(1/30);this.setAccelerometerEnabled(g);var a=this.kb=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(u.width/2,u.height/2);this.ye=this.xe=0}else cc.log("ACCELEROMETER not supported")},e:m("Accelerometer test. Move device and see console"),onAccelerometer:function(a){cc.log("Accel x: "+a.x+" y:"+a.y+" z:"+a.Gu+" time:"+a.timestamp);
var b=u.width,c=u.height,b=b*a.x+b/2,a=c*a.y+c/2,b=0.2*b+0.8*this.xe,a=0.2*a+0.8*this.ye;this.xe=b;this.ye=a;this.kb.setPosition(b,a)}}),Yd=Ud.extend({init:function(){this._super();var a=this.kb=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(0,0);a.setScale(1);a.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));"mouse"in sys.capabilities?this.setMouseEnabled(g):cc.log("MOUSE Not supported")},e:m("Mouse test. Move mouse and see console"),onMouseDown:function(a){a=
a.getLocation();cc.log("onMouseDown at: "+a.x+" "+a.y);this.kb.setPosition(a)},onMouseDragged:function(a){a=a.getLocation();cc.log("onMouseDragged at: "+a.x+" "+a.y);this.kb.setPosition(a)},onMouseUp:function(a){a=a.getLocation();this.kb.setPosition(a);cc.log("onMouseUp at: "+a.x+" "+a.y)}}),Zd=Ud.extend({init:function(){this._super();"keyboard"in sys.capabilities?this.setKeyboardEnabled(g):cc.log("KEYBOARD Not supported")},e:m("Keyboard test. Press keyboard and see console"),onKeyUp:function(a){cc.log("Key up:"+
a)},onKeyDown:function(a){cc.log("Key down:"+a)},ju:function(a){cc.log("Key flags changed:"+a)}}),oa=w.extend({C:function(){P=-1;this.addChild(Sd());r.replaceScene(this)}}),Rd=[Vd,Wd,Xd,Yd,Zd];function Sd(){P++;P%=Rd.length;return new Rd[P]}function Td(){P--;0>P&&(P+=Rd.length);return new Rd[P]};var Q=-1,ce=x.extend({d:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},G:function(){var a=new ra;a.addChild(new $d[Q]);r.replaceScene(a)},F:function(){var a=new ra;a.addChild(ae());r.replaceScene(a)},D:function(){var a=new ra;a.addChild(be());r.replaceScene(a)},M:function(){return $d.length-1-Q},I:function(){return Q}}).extend({d:"Testing FilenameLookup ",h:"You should see a grossini on the screen",ctor:function(){this._super();var a=sys.platform;"mobile"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-mobile.plist"):
"desktop"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-desktop.plist"):cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-html5.plist");var b=cc.Sprite.create("grossini.bmp");this.addChild(b);b.setPosition(u.width/2,u.height/2);ca&&(this.Cf="mobile"==a?"grossini_pvr_rgba4444.pvr":"desktop"==a?"grossini_pvr_rgba8888.pvr":"grossini.png")},q:aa("Cf"),o:function(){return cc.FileUtils.getInstance().fullPathForFilename("grossini.bmp").replace(/^.*(\\|\/|\:)/,"")}}),ra=
w.extend({C:function(){Q=-1;this.addChild(ae());r.replaceScene(this)}}),$d=[ce];function ae(){Q++;Q%=$d.length;return new $d[Q]}function be(){Q--;0>Q&&(Q+=$d.length);return new $d[Q]};var R=0,de="Verdana;Lucida Sans Unicode;Bookman Old Style;Symbol;Georgia;Trebuchet MS;Comic Sans MS;Arial Black;Tahoma;Impact;American Typewriter;Marker Felt;A Damn Mess;Abberancy;Abduction;Paint Boy;Schwarzwald;Scissor Cuts".split(";");function ee(){R++;R%=de.length;return de[R]}function fe(){R--;0>R&&(R+=de.length);return de[R]}FontTestScene=w.extend({C:function(){this.addChild(FontTest.create());r.replaceScene(this)}});
FontTest=x.extend({ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.Nc(de[R])},Nc:function(a){this.removeChildByTag(550,g);this.removeChildByTag(551,g);this.removeChildByTag(552,g);this.removeChildByTag(553,g);var b=r.getWinSize(),c=cc.LabelTTF.create(a,a,24),d=cc.LabelTTF.create("alignment left",a,32,cc.size(b.width,50),cc.oa),f=cc.LabelTTF.create("alignment center",a,32,cc.size(b.width,50),cc.xa),a=cc.LabelTTF.create("alignment right",a,32,cc.size(b.width,50),cc.Ua);c.setPosition(b.width/
2,3*b.height/4);d.setPosition(b.width/2,b.height/2);f.setPosition(b.width/2,3*b.height/8);a.setPosition(b.width/2,b.height/4);this.addChild(d,0,550);this.addChild(a,0,551);this.addChild(f,0,552);this.addChild(c,0,553)},D:function(){this.Nc(fe())},G:function(){this.Nc(de[R])},F:function(){this.Nc(ee())},e:m("Font test"),title:function(){return""+de[R]},M:function(){return de.length-1-R},I:function(){return R}});FontTest.create=function(){return new FontTest};IntervalLayer=cc.LayerGradient.extend({xc:h,yc:h,zc:h,Ac:h,Bc:h,Qc:h,Rc:h,Sc:h,Tc:h,Uc:h,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.Qc=this.Rc=this.Sc=this.Tc=this.Uc=0;var a=r.getWinSize(),b=cc.ParticleSun.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(a.width-32,a.height-32);b.setTotalParticles(130);b.setLife(0.6);this.addChild(b);this.xc=cc.LabelTTF.create("0",
"Arial",24);this.yc=cc.LabelTTF.create("0","Arial",24);this.zc=cc.LabelTTF.create("0","Arial",24);this.Ac=cc.LabelTTF.create("0","Arial",24);this.Bc=cc.LabelTTF.create("0","Arial",24);this.scheduleUpdate();this.schedule(this.Sg);this.schedule(this.Tg,0);this.schedule(this.Ug,1);this.schedule(this.Vg,2);this.xc.setPosition(1*a.width/6,a.height/2);this.yc.setPosition(2*a.width/6,a.height/2);this.zc.setPosition(3*a.width/6,a.height/2);this.Ac.setPosition(4*a.width/6,a.height/2);this.Bc.setPosition(5*
a.width/6,a.height/2);this.addChild(this.xc);this.addChild(this.yc);this.addChild(this.zc);this.addChild(this.Ac);this.addChild(this.Bc);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(40,50);var c=cc.JumpBy.create(3,cc.p(a.width-80,0),50,4);this.addChild(b);b.runAction(cc.RepeatForever.create(cc.Sequence.create(c,c.reverse())));b=cc.MenuItemFont.create("Pause",this.Ed,this);b=cc.Menu.create(b);b.setPosition(a.width/2,a.height-50);this.addChild(b)},Ed:function(){r.isPaused()?r.resume():
r.pause()},onExit:function(){r.isPaused()&&r.resume();this._super()},Sg:function(a){this.Rc+=a;this.yc.setString(this.Rc.toFixed(1))},Tg:function(a){this.Sc+=a;this.zc.setString(this.Sc.toFixed(1))},Ug:function(a){this.Tc+=a;this.Ac.setString(this.Tc.toFixed(1))},Vg:function(a){this.Uc+=a;this.Bc.setString(this.Uc.toFixed(1))},update:function(a){this.Qc+=a;this.xc.setString(this.Qc.toFixed(1))}});IntervalTestScene=w.extend({C:function(){this.addChild(new IntervalLayer);r.replaceScene(this)}});var S=-1,sa=w.extend({C:function(){S=-1;this.addChild(ge());r.replaceScene(this)}}),T=x.extend({title:m("No title"),e:m(""),G:function(){var a=new sa;a.addChild(new he[S]);r.replaceScene(a)},F:function(){var a=new sa;a.addChild(ge());r.replaceScene(a)},D:function(){var a=new sa;a.addChild(ie());r.replaceScene(a)},M:function(){return he.length-1-S},I:function(){return S}}),je=T.extend({time:h,ctor:function(){this._super();this.time=0;var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.plist");
this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.plist");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setOpacity(32);this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity"),e:m("Updating label should be fast"),q:function(){return JSON.stringify([200,
32])},o:function(){var a=[],b=[660,661],c;for(c in b)a.push(this.getChildByTag(b[c]).getOpacity());return JSON.stringify(a)}}),ke=T.extend({time:h,ctor:function(){this._super();var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setColor(cc.c3b(255,0,
0));var b=cc.FadeOut.create(1),c=b.reverse(),d=cc.DelayTime.create(0.25),b=cc.Sequence.create(b,d,c,d.copy()),b=cc.RepeatForever.create(b);a.runAction(b);this.time=0;this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity Color"),e:m("Opacity + Color should work at the same time"),u:1,q:function(){return JSON.stringify([200,{r:255,g:255,
b:255},0,{r:255,g:0,b:0}])},o:function(){var a=[],b=[660,661],c;for(c in b){var d=b[c];a.push(this.getChildByTag(d).getOpacity());a.push(this.getChildByTag(d).getColor())}return JSON.stringify(a)}}),le=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelAtlas.create("TESTING RETINA DISPLAY","res/fonts/larabie-16.plist");b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("LabelAtlas with Retina Display"),e:m("loading larabie-16 / larabie-16-hd")}),
me=T.extend({time:0,ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(128,128,128,255)),-10);var a=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");a.setAnchorPoint(cc.p(0,0));this.addChild(a,0,1);var b=cc.FadeOut.create(1),c=b.reverse(),b=cc.Sequence.create(b,c),c=cc.RepeatForever.create(b);a.runAction(c);b=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.$c);this.addChild(b,0,2);b.runAction(c.copy());c=
cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest.fnt");c.setAnchorPoint(cc.p(1,1));this.addChild(c,0,3);var d=r.getWinSize();a.setPosition(cc.p(0,0));b.setPosition(cc.p(d.width/2,d.height/2));c.setPosition(cc.p(d.width,d.height));this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+"Test j";this.getChildByTag(1).setString(a);this.getChildByTag(2).setString(a);this.getChildByTag(3).setString(a)},title:m("cc.LabelBMFont"),e:m("Testing alignment. Testing opacity + tint")}),
ne=T.extend({time:h,ctor:function(){this._super();this.time=0;var a=cc.LabelBMFont.create("Bitmap Font Atlas","res/fonts/bitmapFontTest.fnt");this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5));var c=a.getChildByTag(0),d=a.getChildByTag(7),a=a.getChildByTag(12),f=cc.RotateBy.create(2,360),f=cc.RepeatForever.create(f),i=cc.ScaleBy.create(2,1.5),k=i.reverse(),i=cc.Sequence.create(i,k),i=cc.RepeatForever.create(i),k=cc.JumpBy.create(0.5,cc.p(0,
0),60,1),k=cc.RepeatForever.create(k),o=cc.FadeOut.create(1),q=cc.FadeIn.create(1),o=cc.Sequence.create(o,q),o=cc.RepeatForever.create(o);c.runAction(f);c.runAction(i);d.runAction(k);a.runAction(o);c=cc.LabelBMFont.create("00.0","res/fonts/bitmapFontTest.fnt");this.addChild(c,0,2);c.setPosition(cc.p(b.width/2,80));c.getChildByTag(3).runAction(f.copy());this.schedule(this.step,0.1)},step:function(a){this.time+=a;a=this.time.toFixed(1);this.getChildByTag(2).setString(10>a?"0"+a:a)},draw:function(){var a=
r.getWinSize(),b=cc.c3b(255,0,0);cc.renderContext.strokeStyle="rgba("+b.r+","+b.g+","+b.b+",1)";cc.drawingUtil.drawLine(cc.p(0,a.height/2),cc.p(a.width,a.height/2));cc.drawingUtil.drawLine(cc.p(a.width/2,0),cc.p(a.width/2,a.height))},title:m("cc.LabelBMFont"),e:m("Using fonts as cc.Sprite objects. Some characters should rotate.")}),oe=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("abcdefg","res/fonts/bitmapFontTest4.fnt");this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/
2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),e:m("Testing padding")}),pe=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=cc.LabelBMFont.create("FaFeFiFoFu","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2+50));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("fafefifofu","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("aeiou",
"res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2-50));b.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),e:m("Rendering should be OK. Testing offset")}),qe=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=cc.LabelBMFont.create("Blue","res/fonts/bitmapFontTest5.fnt");b.setColor(cc.c3b(0,0,255));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("Red","res/fonts/bitmapFontTest5.fnt");
this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.c3b(255,0,0));b=cc.LabelBMFont.create("G","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,3*a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.c3b(0,255,0));b.setString("Green")},title:m("cc.LabelBMFont"),e:m("Testing color")}),re=T.extend({ctor:function(){this._super();for(var a=0;100>a;a++){var b=cc.LabelBMFont.create("-"+a+"-","res/fonts/bitmapFontTest.fnt");
this.addChild(b);var c=r.getWinSize(),c=cc.p(Math.random()*c.width,Math.random()*c.height);b.setPosition(c);b.setAnchorPoint(cc.p(0.5,0.5))}},title:m("cc.LabelBMFont"),e:m("Creating several cc.LabelBMFont with the same .fnt file should be fast")}),se=T.extend({ctor:function(){this._super();var a,b=cc.LabelBMFont.create("Multi line\nLeft","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Multi line\nCenter",
"res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\nRight\nThree lines Three","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),
e:m("Multiline + anchor point")}),te=T.extend({ctor:function(){this._super();var a,b=cc.LabelBMFont.create("Multi line\n\nAligned to the left","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));b.setAlignment(cc.oa);b.setWidth(400);this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Error\n\nSome error message","res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));c.setAlignment(cc.xa);c.setWidth(290);this.addChild(c,
0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\n\nAligned to the right","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));d.setAlignment(cc.Ua);d.setWidth(400);this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),e:m("Multiline with 2 new lines. All characters should appear")}),
ue=T.extend({Mc:h,ctor:function(){this._super();var a=cc.LabelBMFont.create("","res/fonts/bitmapFontTest3.fnt");this.addChild(a,0,1);a.setPosition(u.width/2,u.height-100);a=cc.LabelTTF.create("","Arial",24);this.addChild(a,0,2);a.setPosition(u.width/2,u.height/2);a=cc.LabelAtlas.create("","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,3);a.setPosition(u.width/2,100);this.schedule(this.xg,1);this.Mc=j},xg:function(){var a=this.getChildByTag(1),b=this.getChildByTag(2),c=this.getChildByTag(3);
this.Mc?(a.setString(""),b.setString(""),c.setString(""),this.Mc=j):(a.setString("not empty"),b.setString("not empty"),c.setString("hi"),this.Mc=g)},title:m("Testing empty labels"),e:m("3 empty labels: LabelAtlas, LabelTTF and LabelBMFont")}),ve=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("TESTING RETINA DISPLAY","res/fonts/konqa32.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Retina Display BMFont"),e:m("loading arista16 or arista16-hd")}),
we=T.extend({ctor:function(){this._super();var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.c4b(128,128,128,255)),-10);var b=cc.LabelBMFont.create("Testing Glyph Designer","res/fonts/futura-48.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Glyph Designer"),e:m("You should see a font with shawdows and outline")}),xe=T.extend({Ya:h,sb:h,Ab:h,ctor:function(){this._super();var a=cc.size(200,160),b=r.getWinSize(),c=cc.LayerColor.create(cc.c4b(100,100,100,255),
a.width,a.height);c.setAnchorPoint(cc.p(0,0));c.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(c);cc.MenuItemFont.setFontSize(30);a=cc.Menu.create(cc.MenuItemFont.create("Left",this.Kg,this),cc.MenuItemFont.create("Center",this.Jg,this),cc.MenuItemFont.create("Right",this.Mg,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(50,b.height/2-20));this.addChild(a);a=cc.Menu.create(cc.MenuItemFont.create("Top",this.Ng,this),cc.MenuItemFont.create("Middle",this.Lg,
this),cc.MenuItemFont.create("Bottom",this.Ig,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(b.width-50,b.height/2-20));this.addChild(a);this.Ya=h;this.sb=cc.oa;this.Ab=cc.Gb;this.mb()},mb:function(){var a=cc.size(200,160),b=r.getWinSize();this.Ya&&this.Ya.removeFromParent();this.Ya=cc.LabelTTF.create(this.Df(),"Arial",32,a,this.sb,this.Ab);this.Ya.setAnchorPoint(cc.p(0,0));this.Ya.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(this.Ya)},Kg:function(){this.sb=
cc.oa;this.mb()},Jg:function(){this.sb=cc.xa;this.mb()},Mg:function(){this.sb=cc.Ua;this.mb()},Ng:function(){this.Ab=cc.Gb;this.mb()},Lg:function(){this.Ab=cc.bd;this.mb()},Ig:function(){this.Ab=cc.ad;this.mb()},Df:function(){var a=h,b=h;switch(this.Ab){case cc.Gb:a="Top";break;case cc.bd:a="Middle";break;case cc.ad:a="Bottom"}switch(this.sb){case cc.oa:b="Left";break;case cc.xa:b="Center";break;case cc.Ua:b="Right"}return"Alignment "+a+" "+b},title:m("Testing cc.LabelTTF"),e:m("Select the buttons on the sides to change alignment")}),
ye=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("word wrap \"testing\" (bla0) bla1 'bla2' [bla3] (bla4) {bla5} {bla6} [bla7] (bla8) [bla9] 'bla0' \"bla1\"","Arial",32,cc.size(a.width/2,200),cc.xa,cc.Gb);b.setPosition(cc.p(a.width/2,150));this.addChild(b)},title:m("Testing cc.LabelTTF Word Wrap"),e:m("Word wrap using cc.LabelTTF")}),ze=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("\u4e2d\u56fd","Microsoft Yahei",30);b.setPosition(cc.p(a.width/
2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelTTF with Chinese character")}),Ae=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("\u4e2d\u56fd","res/fonts/bitmapFontChinese.fnt");b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelBMFont with Chinese character")}),Be=T.extend({ea:h,ia:h,na:h,ud:h,td:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
var a=r.getWinSize();this.ea=cc.LabelBMFont.create("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","res/fonts/markerFelt.fnt",a.width/2,cc.xa,cc.p(0,0));this.ia=cc.Sprite.create("res/Images/arrowsBar.png");this.na=cc.Sprite.create("res/Images/arrows.png");cc.MenuItemFont.setFontSize(20);var b=cc.MenuItemFont.create("Long Flowing Sentences",this.Fd,this),c=cc.MenuItemFont.create("Short Sentences With Intentional Line Breaks",
this.Fd,this),d=cc.MenuItemFont.create("Long Sentences Mixed With Intentional Line Breaks",this.Fd.bind(this)),f=cc.Menu.create(b,c,d);f.alignItemsVertically();b.setColor(cc.c3b(255,0,0));this.ud=b;b.setTag(0);c.setTag(1);d.setTag(2);cc.MenuItemFont.setFontSize(30);var b=cc.MenuItemFont.create("Left",this.zd,this),c=cc.MenuItemFont.create("Center",this.zd,this),d=cc.MenuItemFont.create("Right",this.zd.bind(this)),i=cc.Menu.create(b,c,d);i.alignItemsHorizontallyWithPadding(50);c.setColor(cc.c3b(255,
0,0));this.td=c;b.setTag(0);c.setTag(1);d.setTag(2);this.ea.setPosition(cc.p(a.width/2,a.height/2));this.ia.setVisible(j);this.ia.setScaleX(0.25*a.width/this.ia.getContentSize().width);this.ia.setAnchorPoint(cc.p(0,0.5));this.ia.setPosition(cc.p(0.7*a.width,this.ea.getPosition().y));this.na.setPosition(this.ia.getPosition());f.setPosition(cc.p(a.width/2,a.height-50));i.setPosition(cc.p(a.width/2,65));this.addChild(this.ea);this.addChild(this.ia);this.addChild(this.na);this.addChild(f);this.addChild(i)},
title:m(""),e:m(""),Fd:function(a){a.setColor(cc.c3b(255,0,0));this.ud.setColor(cc.c3b(255,255,255));this.ud=a;switch(a.getTag()){case 0:this.ea.setString("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.");break;case 1:this.ea.setString("Lorem ipsum dolor\nsit amet\nconsectetur adipisicing elit\nblah\nblah");break;case 2:this.ea.setString("ABC\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt\nDEF")}this.De()},
zd:function(a){a.setColor(cc.c3b(255,0,0));this.td.setColor(cc.c3b(255,255,255));this.td=a;switch(a.getTag()){case 0:this.ea.setAlignment(cc.oa);break;case 1:this.ea.setAlignment(cc.xa);break;case 2:this.ea.setAlignment(cc.Ua)}this.De()},onTouchesBegan:function(a){a=a[0].getLocation();cc.rectContainsPoint(this.na.getBoundingBox(),a)&&this.ia.setVisible(g)},onTouchesEnded:function(){this.ia.setVisible(j)},onTouchesMoved:function(a){var a=a[0].getLocation(),b=r.getWinSize();this.na.setPosition(cc.p(Math.max(Math.min(a.x,
0.95*b.width),0.7*b.width),this.na.getPosition().y));this.ea.setWidth(2*Math.abs(this.na.getPosition().x-this.ea.getPosition().x))},onMouseDown:function(a){a=a.getLocation();cc.rectContainsPoint(this.na.getBoundingBox(),a)&&this.ia.setVisible(g)},onMouseDragged:function(a){var a=a.getLocation(),b=r.getWinSize();this.na.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.na.getPosition().y));this.ea.setWidth(2*Math.abs(this.na.getPosition().x-this.ea.getPosition().x))},onMouseUp:function(){this.ia.setVisible(j)},
De:function(){var a=r.getWinSize();this.na.setPosition(cc.p(0.7*a.width,this.ia.getPosition().y))}}),Ce=T.extend({ctor:function(){this._super();var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.c4b(128,128,128,255)),-10);var b=cc.LabelTTF.create("Testing A8 Format","Arial",48);this.addChild(b);b.setColor(cc.c3b(255,0,0));b.setPosition(cc.p(a.width/2,a.height/2));var a=cc.FadeOut.create(2),c=cc.FadeIn.create(2),a=cc.Sequence.create(a,c),a=cc.RepeatForever.create(a);b.runAction(a)},title:m("Testing A8 Format"),
e:m("RED label, fading In and Out in the center of the screen")}),De=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("This is Helvetica","res/fonts/helvetica-32.fnt",cc.Le,cc.oa,cc.p(0,0));this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/3));b=cc.LabelBMFont.create("And this is Geneva","res/fonts/geneva-32.fnt",cc.Le,cc.oa,cc.p(0,128));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/3))},title:m("cc.LabelBMFont with one texture"),e:m("Using 2 .fnt definitions that share the same texture atlas.")}),
Ee=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("Buen d\u00eda","res/fonts/arial-unicode-26.fnt",200,cc.oa);this.addChild(a);a.setPosition(u.width/2,u.height/4);a=cc.LabelBMFont.create("\u7f8e\u597d\u7684\u4e00\u5929","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(u.width/2,u.height/2.2);a=cc.LabelBMFont.create("\u826f\u3044\u4e00\u65e5\u3092","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(u.width/2,u.height/1.5)},title:m("cc.LabelBMFont with Unicode support"),
e:m("You should see 3 different labels: In Spanish, Chinese and Korean")}),Fe=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create();a.setFntFile("res/fonts/helvetica-32.fnt");a.setString("It is working!");this.addChild(a);a.setPosition(u.width/2,u.height/2)},title:m("cc.LabelBMFont init"),e:m("Test for support of init method without parameters.")}),Ge=T.extend({ctor:function(){this._super();var a=cc.LabelTTF.create();a.setFontName("Courier New");a.setFontSize(48);a.setString("It is working!");
this.addChild(a);a.setPosition(u.width/2,u.height/2)},title:m("cc.LabelTTF init"),e:m("Test for support of init method without parameters.")}),He=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Alignment 0\nnew line","Arial",12,cc.size(256,32),cc.oa);b.setPosition(cc.p(a.width/2,2*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 1\nnew line","Arial",12,cc.size(256,32),cc.xa);b.setPosition(cc.p(a.width/2,3*(a.height/
6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 2\nnew line","Arial",12,cc.size(256,32),cc.Ua);b.setPosition(cc.p(a.width/2,4*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b)},title:m("cc.LabelTTF alignment"),e:m("Tests alignment values"),q:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},o:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).Ef();a.push(c)}return JSON.stringify(a)}}),
Ie=T.extend({ctor:function(){this._super();this.label=cc.LabelBMFont.create("YRGB","res/fonts/konqa32.fnt");this.addChild(this.label);this.label.setPosition(u.width/2,u.height/2);this.label.setColor(cc.df);var a=this.label.getChildByTag(1);a.setColor(cc.$c);a=this.label.getChildByTag(2);a.setColor(cc.Ke);a=this.label.getChildByTag(3);a.setColor(cc.Je);this.scheduleUpdate();this.kd=0},update:function(a){this.kd+=a;this.label.setString("YRGB "+parseInt(this.kd,10).toString())},title:m("cc.LabelBMFont color parent / child"),
e:m("Yellow Red Green Blue and numbers in Yellow"),q:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},o:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).Ef();a.push(c)}return JSON.stringify(a)}}),he=[je,ke,le,me,ne,oe,pe,qe,re,se,te,Be,De,Ee,Fe,Ie,ve,we,Ae,xe,ye,ze,Ce,Ge,He,ue];function ge(){S++;S%=he.length;return new he[S]}function ie(){S--;0>S&&(S+=he.length);return new he[S]};cc.TAG_LAYER=1;
var U=-1,ta=w.extend({C:function(){U=-1;this.addChild(Je());r.replaceScene(this)}}),Me=x.extend({d:h,title:m("No title"),e:m(""),G:function(){var a=new ta;a.addChild(new Ke[U]);r.replaceScene(a)},F:function(){var a=new ta;a.addChild(Je());r.replaceScene(a)},D:function(){var a=new ta;a.addChild(Le());r.replaceScene(a)},M:function(){return Ke.length-1-U},I:function(){return U}}),Ne=Me.extend({onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&
this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,0,0,128),200,200);b.ignoreAnchorPointForPosition(j);b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b,1,cc.TAG_LAYER)},title:m("ColorLayer resize (tap & move)"),Ie:function(a){a=cc.size(2*Math.abs(a.x-u.width/2),2*Math.abs(a.y-u.height/2));this.getChildByTag(cc.TAG_LAYER).setContentSize(a)},onMouseDragged:function(a){this.Ie(a.getLocation());return g},onTouchesMoved:function(a){this.Ie(a[0].getLocation())}}),Oe=
Me.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #1"),e:m("red:true  green:true")}),Pe=Me.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,
100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #2"),e:m("red:true  green:false")}),Qe=Me.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.c4b(100,
255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #3"),e:m("red:false  green:false")}),Re=Me.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/
2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #4"),e:m("red:false  green:true")}),Se=Me.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,255,0,80),100,300);b.setPosition(cc.p(a.width/3,a.height/2));b.ignoreAnchorPointForPosition(j);this.addChild(b,1);var c=cc.LayerColor.create(cc.c4b(0,0,255,255),100,300);c.setPosition(cc.p(2*(a.width/3),a.height/2));c.ignoreAnchorPointForPosition(j);this.addChild(c,1);var a=cc.TintBy.create(2,-255,
-127,0),d=a.reverse(),a=cc.Sequence.create(a,d);b.runAction(a);b=cc.FadeOut.create(2);a=b.reverse();b=cc.Sequence.create(b,a);c.runAction(b)},title:m("ColorLayer: fade and tint")}),Te=Me.extend({kc:g,ctor:function(){this._super();var a=cc.LayerColor.create(cc.c4b(255,255,255,80)),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(b);this.addChild(c);this.addChild(a,100,cc.TAG_LAYER);b.setPosition(cc.p(160,u.height/2));c.setPosition(cc.p(320,
u.height/2));this.schedule(this.gg,1);this.kc=g},gg:function(){var a=this.getChildByTag(cc.TAG_LAYER),b,c;this.kc?(b=gl.SRC_ALPHA,c=gl.ONE_MINUS_SRC_ALPHA):(b=gl.ONE_MINUS_DST_COLOR,c=gl.ZERO);a.setBlendFunc(b,c);this.kc=!this.kc},title:m("ColorLayer: blend")}),Ue=Me.extend({Fa:j,ctor:function(){this._super();this.addChild(cc.LayerGradient.create(cc.c4b(255,0,0,255),cc.c4b(0,255,0,255),cc.p(0.9,0.9)),0,cc.TAG_LAYER);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&
this.setMouseEnabled(g);var a=cc.LabelTTF.create("Compressed Interpolation: Enabled","Marker Felt",26),b=cc.LabelTTF.create("Compressed Interpolation: Disabled","Marker Felt",26),a=cc.MenuItemLabel.create(a),b=cc.MenuItemLabel.create(b),b=cc.MenuItemToggle.create(a,b,this.tg,this),b=cc.Menu.create(b);this.addChild(b);b.setPosition(cc.p(u.width/2,100))},Md:function(a){a=cc.pSub(cc.p(u.width/2,u.height/2),a);a=cc.pNormalize(a);this.getChildByTag(1).setVector(a)},onTouchesBegan:function(a){this.Fa=g;
this.Md(a[0].getLocation())},onTouchesMoved:function(a){this.Fa&&this.Md(a[0].getLocation())},onTouchesEnded:function(){this.Fa=j},onMouseDragged:function(a){this.Md(a.getLocation());return g},tg:function(){var a=this.getChildByTag(cc.TAG_LAYER);a.setCompressedInterpolation(!a.isCompressedInterpolation())},title:m("LayerGradient"),e:m("Touch the screen and move your finger")}),Ke=[Ne,Se,Te,Ue,Oe,Pe,Qe,Re];function Je(){U++;U%=Ke.length;return new Ke[U]}
function Le(){U--;0>U&&(U+=Ke.length);return new Ke[U]};var Ve=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName("Courier New");"touches"in sys.capabilities||"browser"==sys.platform?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),b=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),c=cc.Sprite.create("res/Images/menuitemsprite.png",
cc.rect(0,0,115,23)),b=cc.MenuItemSprite.create(a,b,c,this.X,this),c=cc.MenuItemImage.create("res/Images/SendScoreButton.png","res/Images/SendScoreButtonPressed.png",this.Dd,this),a=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",16,24,"."),a=cc.MenuItemLabel.create(a,this.cg,this);a.setDisabledColor(cc.c3b(32,32,64));a.setColor(cc.c3b(200,200,255));var d=cc.MenuItemFont.create("I toggle enable items",this.dg,this);d.setFontSize(20);cc.MenuItemFont.setFontName("Marker Felt");var f=cc.LabelBMFont.create("configuration",
"res/fonts/bitmapFontTest3.fnt"),f=cc.MenuItemLabel.create(f,this.bg,this);f.setScale(0.8);var i=cc.MenuItemFont.create("Priority Test",this.fg,this),k=cc.MenuItemFont.create("Quit",this.qe,this);k.setColor(cc.c3b(255,255,255));var o=cc.TintBy.create(0.5,0,-255,-255),q=o.reverse(),o=cc.Sequence.create(o,q);k.runAction(cc.RepeatForever.create(o));b=cc.Menu.create(b,c,a,d,f,i,k);b.alignItemsVertically();c=r.getWinSize();f=b.getChildren();for(i=0;i<f.length&&f[i]!==h;i++)d=f[i],k=d.getPosition(),o=c.width/
2+50,0===i%2&&(o=-o),d.setPosition(cc.p(k.x+o,k.y)),d.runAction(cc.EaseElasticOut.create(cc.MoveBy.create(2,cc.p(k.x-o,0)),0.35));this.ya=a;this.ya.setEnabled(j);this.addChild(b)},registerWithTouchDispatcher:function(){r.getTouchDispatcher().addTargetedDelegate(this,cc.ob+1,g)},onTouchBegan:m(g),X:function(){this.getParent().switchTo(1)},bg:function(){this.getParent().switchTo(3)},Lf:function(){r.getTouchDispatcher().setPriority(cc.ob+1,this);this.unscheduleAllCallbacks();cc.log("TOUCHES ALLOWED AGAIN")},
cg:function(){r.getTouchDispatcher().setPriority(cc.ob-1,this);this.schedule(this.Lf,5);cc.log("TOUCHES DISABLED FOR 5 SECONDS")},dg:function(){this.ya.setEnabled(!this.ya.isEnabled())},Dd:function(){this.getParent().switchTo(2)},fg:function(){this.getParent().switchTo(4)},qe:function(){cc.log("Quit called")}}),We=cc.Layer.extend({ed:h,ic:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();for(var a=0;2>a;a++){var b=cc.MenuItemImage.create("res/Images/btn-play-normal.png",
"res/Images/btn-play-selected.png",this.X,this),c=cc.MenuItemImage.create("res/Images/btn-highscores-normal.png","res/Images/btn-highscores-selected.png",this.eg,this),d=cc.MenuItemImage.create("res/Images/btn-about-normal.png","res/Images/btn-about-selected.png",this.ag,this);b.setScaleX(1.5);c.setScaleX(0.5);d.setScaleX(0.5);b=cc.Menu.create(b,c,d);b.setTag(77771);b.setPosition(cc.p(r.getWinSize().width/2,r.getWinSize().height/2));this.addChild(b,0,100+a);this.ed=b.getPosition()}this.ic=g;this.be()},
be:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.ed);0===b?(c.alignItemsHorizontally(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(0,30)))):(c.alignItemsHorizontallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(0,30))))}},lf:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.ed);0===b?(c.alignItemsVertically(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(100,0)))):(c.alignItemsVerticallyWithPadding(40),
a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(100,0))))}},X:function(){this.getParent().switchTo(0)},eg:function(a){a=a.getParent();128==a.getOpacity()?a.setOpacity(255):a.setOpacity(128)},ag:function(){(this.ic=!this.ic)?this.be():this.lf()}}),Xe=cc.Layer.extend({ya:h,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(28);var a=cc.LabelBMFont.create("Enable AtlasItem","res/fonts/bitmapFontTest3.fnt"),
a=cc.MenuItemLabel.create(a,this.Dd,this),b=cc.MenuItemFont.create("--- Go Back ---",this.X,this),c=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),d=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),f=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,0,115,23));this.ya=c=cc.MenuItemSprite.create(c,d,f,this.$f,this);this.ya.setEnabled(j);d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));f=r.getWinSize();a.setPosition(cc.p(f.width/2-150,f.height/
2));b.setPosition(cc.p(f.width/2-200,f.height/2));c.setPosition(cc.p(f.width/2,f.height/2-100));f=cc.JumpBy.create(3,cc.p(400,0),50,4);b.runAction(cc.RepeatForever.create(cc.Sequence.create(f,f.reverse())));var f=cc.RotateBy.create(3,360),i=f.copy(),k=f.copy();a.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(i));c.runAction(cc.RepeatForever.create(k));this.addChild(d);d.setPosition(cc.p(0,0))},X:function(){this.getParent().switchTo(0)},Dd:function(){this.ya.setEnabled(!this.ya.isEnabled());
this.ya.stopAllActions()},$f:l()}),Ye=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Sound");a.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var b=cc.MenuItemToggle.create(cc.MenuItemFont.create("On"),cc.MenuItemFont.create("Off"));b.setCallback(this.X,this);cc.MenuItemFont.setFontName("American Typewriter");
cc.MenuItemFont.setFontSize(18);var c=cc.MenuItemFont.create("Music");c.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var d=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("On"),this.X.bind(this));cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var f=cc.MenuItemFont.create("Quality");f.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var i=cc.MenuItemToggle.create(cc.MenuItemFont.create("High"),
cc.MenuItemFont.create("Low"),this.X,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var k=cc.MenuItemFont.create("Orientation");k.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var o=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("33%"),cc.MenuItemFont.create("66%"),cc.MenuItemFont.create("100%"),this.X,this);o.setSelectedIndex(2);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);
var q=cc.LabelBMFont.create("go back","res/fonts/bitmapFontTest3.fnt"),q=cc.MenuItemLabel.create(q,this.D,this),a=cc.Menu.create(a,c,b,d,f,k,i,o,q);a.alignItemsInColumns(2,2,2,2,1);this.addChild(a);b=r.getWinSize();a.setPosition(b.width/2,b.height/2)},X:function(){cc.log("Callback called")},D:function(){this.getParent().switchTo(0)}}),Ze=cc.Layer.extend({Ha:h,Ib:h,nc:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init();this.Ha=cc.Menu.create();this.Ib=cc.Menu.create();cc.MenuItemFont.setFontName("Marker Felt");
cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Return to Main Menu",this.X,this),b=cc.MenuItemFont.create("Disable menu for 5 seconds",this.Qf,this);this.Ha.addChild(a);this.Ha.addChild(b);this.Ha.alignItemsVerticallyWithPadding(2);this.addChild(this.Ha);this.nc=g;cc.MenuItemFont.setFontSize(48);a=cc.MenuItemFont.create("Toggle priority",this.vg,this);a.setColor(cc.c3b(0,0,255));this.Ib.addChild(a);this.addChild(this.Ib)},X:function(){this.getParent().switchTo(0)},Qf:function(){this.Ha.setEnabled(j);
var a=cc.DelayTime.create(5),b=cc.CallFunc.create(this.Rf,this);this.Ha.runAction(cc.Sequence.create(a,b))},Rf:function(){this.Ha.setEnabled(g)},vg:function(){this.nc?(this.Ib.setHandlerPriority(cc.ob+20),this.nc=j):(this.Ib.setHandlerPriority(cc.ob-20),this.nc=g)}}),ua=w.extend({C:function(){var a=new Ve,b=new We,c=new Xe,d=new Ye,f=new Ze;this.addChild(cc.LayerMultiplex.create(a,b,c,d,f),0);r.replaceScene(this)}});var Ja=9960,$e=-1;ParallaxDemo=x.extend({ef:h,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(160,32,32,255))},title:m("No title"),D:function(){var a=new ParallaxTestScene;a.addChild(af());r.replaceScene(a)},G:function(){var a=new ParallaxTestScene;a.addChild(new bf[$e]);r.replaceScene(a)},F:function(){var a=new ParallaxTestScene;a.addChild(cf());r.replaceScene(a)},M:function(){return bf.length-1-$e},I:function(){return $e}});
Parallax1=ParallaxDemo.extend({zb:h,z:h,Et:h,yt:h,ctor:function(){this._super();_cocosimage=cc.Sprite.create("res/Images/powered.png");_cocosimage.setScale(1.5);_cocosimage.setAnchorPoint(cc.p(0,0));_tilemap=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");_tilemap.setAnchorPoint(cc.p(0,0));_background=cc.Sprite.create("res/Images/background.png");_background.setAnchorPoint(cc.p(0,0));_parent=cc.ParallaxNode.create();_parent.addChild(_background,-1,cc.p(0.4,0.5),cc.p(0,0));_parent.addChild(_tilemap,
1,cc.p(2.2,1),cc.p(0,0));_parent.addChild(_cocosimage,2,cc.p(3,2.5),cc.p(0,0));var a=cc.MoveBy.create(2,cc.p(0,100)),b=cc.MoveBy.create(2,cc.p(200,0)),c=cc.DelayTime.create(2),d=a.reverse(),f=b.reverse(),a=cc.Sequence.create(a,b,c,d,f);_parent.runAction(cc.RepeatForever.create(a));this.addChild(_parent)},title:m("Parallax: parent and 3 children"),u:5,q:function(){var a={};a.Bg=cc.p(200,100);a.yg=cc.p(-120,-50);a.zg=cc.p(240,0);a.Ag=cc.p(400,150);return JSON.stringify(a)},o:function(){var a={};a.Bg=
cc.p(Math.round(_parent.getPosition().x),Math.round(_parent.getPosition().y));a.yg=cc.p(Math.round(_background.getPosition().x),Math.round(_background.getPosition().y));a.zg=cc.p(Math.round(_tilemap.getPosition().x),Math.round(_tilemap.getPosition().y));a.Ag=cc.p(Math.round(_cocosimage.getPosition().x),Math.round(_cocosimage.getPosition().y));return JSON.stringify(a)}});
Parallax2=ParallaxDemo.extend({zt:h,va:h,Dt:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/powered.png");a.setScale(1.5);a.setAnchorPoint(cc.p(0,0));var b=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.create("res/Images/background.png");c.setAnchorPoint(cc.p(0,0));var d=cc.ParallaxNode.create();d.addChild(c,-1,cc.p(0.4,
0.5),cc.p(0,0));d.addChild(b,1,cc.p(1,1),cc.p(0,0));d.addChild(a,2,cc.p(3,2.5),cc.p(0,0));this.addChild(d,0,Ja)},onTouchesMoved:function(a){var a=a[0],b=this.getChildByTag(Ja),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},onMouseDragged:function(a){var b=this.getChildByTag(Ja),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},title:m("Parallax: drag screen")});ParallaxTestScene=w.extend({C:function(){$e=-1;this.addChild(cf());r.replaceScene(this)}});var bf=[Parallax1,Parallax2];
function cf(){$e++;$e%=bf.length;return new bf[$e]}function af(){$e--;0>$e&&($e+=bf.length);return new bf[$e]};var df=1,ef=-1,wa=w.extend({C:function(){ef=-1;this.addChild(ff());r.replaceScene(this)}}),Df=[function(){return new gf},function(){return new hf},function(){return new jf},function(){return new kf},function(){return new lf},function(){return new mf},function(){return new nf},function(){return new of},function(){return new pf},function(){return new qf},function(){return new rf},function(){return new sf},function(){return new tf},function(){return new uf},function(){return new vf},function(){return new wf("BoilingFoam")},
function(){return new wf("BurstPipe")},function(){return new wf("Comet")},function(){return new wf("debian")},function(){return new wf("ExplodingRing")},function(){return new wf("LavaFlow")},function(){return new wf("SpookyPeas")},function(){return new wf("Upsidedown")},function(){return new wf("Flower")},function(){return new wf("Spiral")},function(){return new wf("Galaxy")},function(){return new xf},function(){return new yf},function(){return new zf},function(){return new Af},function(){return new wf("Phoenix")},
function(){return new Bf},function(){return new Cf}];function ff(){ef++;ef%=Df.length;return Df[ef]()}function Ef(){ef--;0>ef&&(ef+=Df.length);return Df[ef]()}
var V=x.extend({c:h,z:h,$a:h,cb:h,Fa:j,setColor:l(),ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.Fa=j;this.c=h;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.Sprite.create("res/Images/movement.png",cc.rect(0,46,123,23)),c=cc.Sprite.create("res/Images/movement.png",cc.rect(0,23,123,23)),d=cc.Sprite.create("res/Images/movement.png",cc.rect(0,0,123,23)),f=cc.Sprite.create("res/Images/movement.png",
cc.rect(123,46,138,23)),i=cc.Sprite.create("res/Images/movement.png",cc.rect(123,23,138,23)),k=cc.Sprite.create("res/Images/movement.png",cc.rect(123,0,138,23)),o=cc.Sprite.create("res/Images/movement.png",cc.rect(261,46,136,23)),q=cc.Sprite.create("res/Images/movement.png",cc.rect(261,23,136,23)),v=cc.Sprite.create("res/Images/movement.png",cc.rect(261,0,136,23)),p=this;this.rb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setPositionType(cc.Zc);p.Za.setVisible(g);p.rb.setVisible(j);p.Xa.setVisible(j)});
this.rb.setPosition(10,150);this.rb.setAnchorPoint(cc.p(0,0));this.Za=cc.MenuItemSprite.create(f,i,k,function(){p.c.setPositionType(cc.Yc);p.Za.setVisible(j);p.rb.setVisible(j);p.Xa.setVisible(g)});this.Za.setVisible(j);this.Za.setPosition(10,150);this.Za.setAnchorPoint(cc.p(0,0));this.Xa=cc.MenuItemSprite.create(o,q,v,function(){p.c.setPositionType(cc.Xc);p.Za.setVisible(j);p.rb.setVisible(g);p.Xa.setVisible(j)});this.Xa.setVisible(j);this.Xa.setPosition(10,150);this.Xa.setAnchorPoint(cc.p(0,0));
b=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,46,115,23));c=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,0,115,23));this.$a=cc.MenuItemSprite.create(b,c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.Pe);p.cb.setVisible(g);p.$a.setVisible(j)});this.$a.setPosition(10,100);this.$a.setAnchorPoint(cc.p(0,0));"browser"!=sys.platform&&this.$a.setEnabled(j);b=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,46,
115,23));c=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,0,115,23));this.cb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.vp);p.cb.setVisible(j);p.$a.setVisible(g)});this.cb.setVisible(j);this.cb.setPosition(10,100);this.cb.setAnchorPoint(cc.p(0,0));b=cc.Menu.create(this.$a,this.cb,this.rb,this.Za,this.Xa);b.setPosition(0,0);this.addChild(b,100);b=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",
16,24,".");this.addChild(b,100,df);b.setPosition(a.width-66,50);this.z=cc.Sprite.create("res/Images/background3.png");this.addChild(this.z,5);this.z.setPosition(a.width/2,a.height-180);a=cc.MoveBy.create(4,cc.p(300,0));b=a.reverse();a=cc.Sequence.create(a,b);this.z.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},onEnter:function(){this._super();this.getChildByTag(11).setString(this.title())},title:m("No title"),e:m("(Tap the Screen)"),G:function(){this.c.resetSystem()},F:function(){var a=
new wa;a.addChild(ff());r.replaceScene(a)},D:function(){var a=new wa;a.addChild(Ef());r.replaceScene(a)},Fu:function(){this.c.getPositionType()==cc.Yc?this.c.setPositionType(cc.Xc):this.c.getPositionType()==cc.Xc?this.c.setPositionType(cc.Zc):this.c.getPositionType()==cc.Zc&&this.c.setPositionType(cc.Yc)},onTouchesBegan:function(a){this.Fa=g;this.Vd(a)},onTouchesMoved:function(a){this.Fa&&this.Vd(a)},Vd:function(a){if(0<a.length){var a=a[0].getLocation(),b=cc.p(0,0);this.z&&(b=this.z.convertToWorldSpace(cc.p(0,
0)));this.c.setPosition(cc.pSub(a,b))}},onTouchesEnded:function(){this.Fa=j},onMouseDragged:function(a){var a=a.getLocation(),b=cc.p(0,0);this.z&&(b=this.z.convertToWorldSpace(cc.p(0,0)));this.c.setPosition(cc.pSub(a,b));return g},update:function(){this.c&&this.getChildByTag(df).setString(this.c.getParticleCount().toFixed(0))},V:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(200,70)},M:function(){return Df.length-1-ef},I:function(){return ef}}),jf=V.extend({onEnter:function(){this._super();
this.c=cc.ParticleFireworks.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.V()},title:m("ParticleFireworks")}),nf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleFire.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.V()},title:m("ParticleFire")}),
lf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSun.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.V()},title:m("ParticleSun")}),hf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleGalaxy.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.Ra);
this.V()},title:m("ParticleGalaxy")}),gf=V.extend({d:"ParticleFlower",onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.V()},title:aa("d")}),sf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(80);this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSizeVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,
0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(80);this.c.setStartSizeVar(40);this.c.setEndSize(cc.pb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(g);this.V()},title:m("ParticleBigFlower")}),tf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(150);this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars2.png"));
this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(3);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(2E3);this.c.setStartColor(cc.c4f(0.5,
0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(30);this.c.setStartSizeVar(0);this.c.setEndSize(cc.pb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);this.V()},title:m("ParticleRotFlower")}),mf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleMeteor.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.V()},title:m("ParticleMeteor")}),kf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSpiral.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.V()},title:m("ParticleSpiral")}),pf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleExplosion.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.c.setAutoRemoveOnFinish(g);this.V()},title:m("ParticleExplosion")}),of=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSmoke.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.V()},title:m("ParticleSmoke")}),qf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSnow.create();this.z.addChild(this.c,10);this.c.setLife(3);this.c.setLifeVar(1);this.c.setGravity(cc.p(0,
-10));this.c.setSpeed(130);this.c.setSpeedVar(30);var a=this.c.getStartColor();a.r=0.9;a.g=0.9;a.b=0.9;this.c.setStartColor(a);a=this.c.getStartColorVar();a.b=0.1;this.c.setStartColorVar(a);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/snow.png"));this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.V()},title:m("ParticleSnow")}),rf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleRain.create();
this.z.addChild(this.c,10);this.c.setLife(4);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.V()},title:m("ParticleRain")}),uf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(200);this.z.addChild(this.c,10);r.getWinSize();this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(0);this.c.setAngleVar(360);this.c.setRadialAccel(70);this.c.setRadialAccelVar(10);
this.c.setTangentialAccel(80);this.c.setTangentialAccelVar(0);this.c.setSpeed(50);this.c.setSpeedVar(10);this.c.setLife(2);this.c.setLifeVar(0.3);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(1);this.c.setStartSizeVar(1);this.c.setEndSize(32);this.c.setEndSizeVar(8);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.c.setShapeType&&this.c.setShapeType(cc.Ra);this.c.setBlendAdditive(j);this.V()},title:m("Varying size")}),vf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.z.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.c.setLifeVar(0);this.c.setLife(10);this.c.setSpeed(100);this.c.setSpeedVar(0);this.c.setEmissionRate(1E4);this.V()},title:m("Ring Demo")});
V.extend({onEnter:function(){this._super();this.z.getParent().removeChild(this.z,g);this.z=h;var a=cc.ParallaxNode.create();this.addChild(a,5);var b=cc.Sprite.create("res/Images/background3.png"),c=cc.Sprite.create("res/Images/background3.png");a.addChild(b,1,cc.p(0.5,1),cc.p(0,250));a.addChild(c,2,cc.p(1.5,1),cc.p(0,50));this.c=cc.ParticleFlower.create();this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.addChild(this.c,10);this.c.setPosition(250,200);b=cc.ParticleSun.create();
c.addChild(b,10);b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));c=cc.MoveBy.create(4,cc.p(300,0));b=c.reverse();c=cc.Sequence.create(c,b,h);a.runAction(cc.RepeatForever.create(c))},title:m("Parallax + Particles")});
var wf=V.extend({d:"",ctor:function(a){this._super();this.d=a},onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.z,g);this.z=h;this.c=cc.ParticleSystem.create("res/Particles/"+this.d+".plist");this.addChild(this.c,10);"Flower"==this.d&&this.c.setShapeType&&this.c.setShapeType(cc.Sa);this.V()},V:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50)},title:aa("d")}),xf=V.extend({onEnter:function(){this._super();
this.setColor(cc.c3b(0,0,0));this.removeChild(this.z,g);this.z=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.c.setDuration(cc.dc);this.c.setEmitterMode(cc.ec);this.c.setStartRadius(0);this.c.setStartRadiusVar(0);this.c.setEndRadius(160);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(180);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);
var a=r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.pb);this.c.setEmissionRate(this.c.getTotalParticles()/
this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Spiral")}),yf=V.extend({onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.z,g);this.z=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.c.setDuration(cc.dc);this.c.setEmitterMode(cc.ec);this.c.setStartRadius(100);this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.Wc);this.c.setEndRadiusVar(0);
this.c.setRotatePerSecond(45);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,
0.2));this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.pb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Semi Circle")}),zf=V.extend({onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.z,g);this.z=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&
this.c.setShapeType(cc.Ra);this.c.setDuration(cc.dc);this.c.setEmitterMode(cc.ec);this.c.setStartRadius(50);this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.Wc);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(0);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);
this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(16);this.c.setStartSizeVar(0);this.c.setEndSize(cc.pb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);a=cc.RotateBy.create(16,360);this.c.runAction(cc.RepeatForever.create(a))},title:m("Issue 704. Free + Rot"),e:m("Emitted particles should not rotate")}),
Af=V.extend({tb:0,onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.z,g);this.z=h;var a=cc.ParticleSystem.create("res/Particles/SpinningPeas.plist");a.setTextureWithRect(cc.TextureCache.getInstance().addImage("res/Images/particles.png"),cc.rect(0,0,32,32));this.addChild(a,10);this.c=a;this.c.setDrawMode&&this.c.setDrawMode(cc.Pe);this.c.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50);this.tb=0;this.schedule(this.ih,2)},title:m("Issue 870. SubRect"),
e:m("Every 2 seconds the particle should change"),ih:function(){this.tb=(this.tb+1)%4;var a=cc.rect(32*this.tb,0,32,32);this.c.setTextureWithRect(this.c.getTexture(),a)}}),Bf=V.extend({tb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setStartColor(cc.c4f(1,0,0,1));var b=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");b.setStartColor(cc.c4f(0,1,0,1));var c=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");c.setStartColor(cc.c4f(0,
0,1,1));a.setPosition(u.width/1.25,u.height/1.25);b.setPosition(u.width/2,u.height/2);c.setPosition(u.width/4,u.height/4);var d=cc.ParticleBatchNode.createWithTexture(a.getTexture());d.addChild(a);d.addChild(b);d.addChild(c);this.addChild(d,10);this.removeChild(this.z,g);this.z=h;this.c=a},title:m("Particle Batch Test"),e:m("You should 3 particles. They are batched")}),Cf=V.extend({tb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setPosition(u.width/
2,u.height/2);this.addChild(a);this.schedule(this.pg,2);this.removeChild(this.z,g);this.z=h;this.c=a},pg:function(){this.c.setTotalParticles(50);this.scheduleOnce(this.og,1)},og:function(){this.c.setTotalParticles(400)},title:m("Particle Resize Test"),e:m("In 2 seconds, the emitter should have only 15 particles. Shall not crash.")});var Ff=1E3,Gf=0,Hf="PerformanceNodeChildrenTest;PerformanceParticleTest;PerformanceSpriteTest;PerformanceTextureTest;PerformanceTouchesTest;PerformanceAnimationTest;Automated Sprite Performance Test".split(";"),Uf=cc.LayerGradient.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");
cc.MenuItemFont.setFontSize(24);for(var c=0;c<Hf.length;c++){var d=cc.MenuItemFont.create(Hf[c],this.wd,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*fa));b.addChild(d,Ff+c)}this.addChild(b)},wd:function(a){switch(a.getZOrder()-Ff){case 0:a=new If;a.vc(Jf);cc.Director.getInstance().replaceScene(a);break;case 1:a=new Kf;a.hb(1,Lf);cc.Director.getInstance().replaceScene(a);break;case 2:Math.seedrandom("perftest");a=new Mf;a.hb(1,50);cc.Director.getInstance().replaceScene(a);break;case 3:Nf=0;a=
Of.Wb();cc.Director.getInstance().replaceScene(a);break;case 4:Pf=0;var a=cc.Scene.create(),b=new Qf(g,2,Pf);a.addChild(b);cc.Director.getInstance().replaceScene(a);break;case 5:Rf=0;a=Sf.Wb();cc.Director.getInstance().replaceScene(a);break;case 6:(new Tf).C()}}}),Vf=cc.Layer.extend({gf:g,ub:1,K:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();this.K=Gf},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontName("Arial");
cc.MenuItemFont.setFontSize(24);var b=cc.MenuItemFont.create("Back",this.dh,this);b.setPosition(cc.p(a.width-50,25));b=cc.Menu.create(b);b.setPosition(cc.p(0,0));if(this.gf){var c=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.md,this),d=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.Tb,this),f=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Fc,this);c.setPosition(cc.p(a.width/2-100,30));d.setPosition(cc.p(a.width/2,30));f.setPosition(cc.p(a.width/
2+100,30));b.addChild(c,Ff);b.addChild(d,Ff);b.addChild(f,Ff)}this.addChild(b)},Tb:function(){this.Ca()},Fc:function(){this.K++;Gf=this.K%=this.ub;this.Ca()},md:function(){this.K--;0>this.K&&(this.K+=this.ub);Gf=this.K;this.Ca()},Ca:l(),dh:function(){(new xa).C()}}),xa=w.extend({C:function(){this.addChild(new Uf);cc.Director.getInstance().replaceScene(this)}});var Jf=50,Wf=0,$f=Vf.extend({ub:4,Ca:function(){var a=this.getParent().L,b=h;switch(this.K){case 0:b=new If;break;case 1:b=new Xf;break;case 2:b=new Yf;break;case 3:b=new Zf}Wf=this.K;b&&(b.vc(a),cc.Director.getInstance().replaceScene(b))}}),bg=cc.Scene.extend({ra:h,L:h,W:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},vc:function(a){var b=cc.Director.getInstance().getWinSize(),c=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(c,1);c.setPosition(cc.p(b.width/
2,b.height-32));c.setColor(cc.c3b(255,255,40));c=this.e();c.length&&(c=cc.LabelTTF.create(c,"Thonburi",16),this.addChild(c,1),c.setPosition(cc.p(b.width/2,b.height-80)));this.W=this.ra=0;this.L=a;cc.MenuItemFont.setFontSize(65);a=cc.MenuItemFont.create(" - ",this.ib,this);a.setColor(cc.c3b(0,200,20));c=cc.MenuItemFont.create(" + ",this.Ma,this);c.setColor(cc.c3b(0,200,20));a=cc.Menu.create(a,c);a.alignItemsHorizontally();a.setPosition(cc.p(b.width/2,b.height/2+15));this.addChild(a,1);a=cc.LabelTTF.create("0 nodes",
"Marker Felt",30);a.setColor(cc.c3b(0,200,20));a.setPosition(cc.p(b.width/2,b.height/2-15));this.addChild(a,1,ag);a=new $f(g,4,Wf);this.addChild(a);this.nb();this.$b()},title:m("No title"),e:m(""),$b:l(),ib:function(){this.L-=Jf;0>this.L&&(this.L=0);this.nb();this.$b()},Ma:function(){this.L+=Jf;1500<this.L&&(this.L=1500);this.nb();this.$b()},nb:function(){if(this.L!=this.ra){var a=this.L+" nodes";this.getChildByTag(ag).setString(a);this.ra=this.L}},bu:aa("L")}),cg=bg.extend({m:h,aa:h,ctor:function(){this._super();
cc.Z&&(this.aa=new cc.Re)},$b:function(){var a=cc.Director.getInstance().getWinSize();if(this.W<this.L)for(var b=0;b<this.L-this.W;b++){var c=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(0,0,32,32));this.m.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height))}else if(this.W>this.L)for(b=0;b<this.W-this.L;b++)this.m.removeChildAtIndex(this.W-b-1,g);this.W=this.L},vc:function(a){this.m=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.m);
this._super(a);cc.Z&&(this.aa=cc.Qe.ah(this.Pa(),this));this.scheduleUpdate()},update:l(),Pa:m("none")});cg.extend({update:function(){var a=this.m.getChildren();cc.Z&&cc.fc(this.aa);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.Z&&cc.gc(this.aa)},title:m("A - Iterate SpriteSheet"),e:m("Iterate children using Fast Enum API. See console"),Pa:m("iter fast enum")});
var If=cg.extend({update:function(){var a=this.m.getChildren();cc.Z&&cc.fc(this.aa);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.Z&&cc.gc(this.aa)},title:m("B - Iterate SpriteSheet"),e:m("Iterate children using Array API. See console"),Pa:m("iter c-array")}),dg=bg.extend({m:h,ctor:function(){this._super();cc.Z&&(this.aa=new cc.Re)},$b:function(){var a=cc.Director.getInstance().getWinSize();if(this.W<this.L)for(var b=0;b<this.L-this.W;b++){var c=cc.Sprite.createWithTexture(this.m.getTexture(),
cc.rect(0,0,32,32));this.m.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height));c.setVisible(j)}else if(this.W>this.L)for(b=0;b<this.W-this.L;b++)this.m.removeChildAtIndex(this.W-b-1,g);this.W=this.L},vc:function(a){this.m=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.m);this._super(a);cc.Z&&(this.aa=cc.Qe.ah(this.Pa(),this));this.scheduleUpdate()},update:l(),Pa:m("none")}),Xf=dg.extend({update:function(){var a=0.15*this.W;if(0<a){for(var b=[],
c=[],d=0;d<a;d++){var f=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(0,0,32,32));b.push(f);c[d]=50*(2*Math.random()-1)}cc.Z&&cc.fc(this.aa)}for(d=0;d<a;d++)this.m.addChild(b[d],c[d],2E3+d);cc.Z&&cc.gc(this.aa);for(d=0;d<a;d++)this.m.removeChildByTag(2E3+d,g);delete c},title:m("C - Add to spritesheet"),e:m("Adds %10 of total sprites with random z. See console"),Pa:m("add sprites")}),Yf=dg.extend({update:function(){var a=0.15*this.W;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.m.getTexture(),
cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.m.addChild(b[c],50*(2*Math.random()-1),2E3+c);cc.Z&&cc.fc(this.aa);for(c=0;c<a;c++)this.m.removeChildByTag(2E3+c,g);cc.Z&&cc.gc(this.aa)}},title:m("D - Del from spritesheet"),e:m("Remove %10 of total sprites placed randomly. See console"),Pa:m("remove sprites")}),Zf=dg.extend({update:function(){var a=0.15*this.W;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.m.addChild(b[c],
50*(2*Math.random()-1),2E3+c);cc.Z&&cc.fc(this.aa);for(c=0;c<a;c++)this.m.reorderChild(this.m.getChildren()[c],50*(2*Math.random()-1));cc.Z&&cc.gc(this.aa)}for(c=0;c<a;c++)this.m.removeChildByTag(2E3+c,g)},title:m("E - Reorder from spritesheet"),e:m("Reorder %10 of total sprites placed randomly. See console"),Pa:m("reorder sprites")});var df=4,Lf=50,eg=0,ig=Vf.extend({ub:4,Ca:function(){var a=this.getParent(),b=a.H,a=a.Y,c=h;switch(this.K){case 0:c=new Kf;break;case 1:c=new fg;break;case 2:c=new gg;break;case 3:c=new hg}eg=this.K;c&&(c.hb(b,a),cc.Director.getInstance().replaceScene(c))}}),jg=cc.Scene.extend({ra:h,Y:h,H:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},hb:function(a,b){this.H=a;var c=cc.Director.getInstance().getWinSize();this.ra=0;this.Y=b;cc.MenuItemFont.setFontSize(65);var d=
cc.MenuItemFont.create(" - ",this.ib,this);d.setColor(cc.c3b(0,200,20));var f=cc.MenuItemFont.create(" + ",this.Ma,this);f.setColor(cc.c3b(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height/2+15));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.c3b(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,ag);d=cc.LabelAtlas.create("0000","res/Images/fps_images.png",16,24,".");this.addChild(d,0,df);d.setPosition(cc.p(c.width-
66,50));d=new ig(g,4,eg);this.addChild(d,1,1E3);cc.MenuItemFont.setFontSize(40);d=cc.Menu.create();for(f=1;3>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.Kd,this);i.setTag(f);d.addChild(i,10);1>=f?i.setColor(cc.c3b(200,20,20)):i.setColor(cc.c3b(0,200,20))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));this.addChild(d,2);d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.c3b(255,255,40));this.nb();this.pd();
this.schedule(this.step)},title:m("No title"),step:function(){var a=this.getChildByTag(df),b=this.getChildByTag(3).getParticleCount();a.setString(b)},pd:function(){var a=h;this.removeChildByTag(3,g);a=cc.TextureCache.getInstance().addImage("res/Images/fire.png");cc.TextureCache.getInstance().removeTexture(a);a=cc.ParticleSystem.createWithTotalParticles(this.Y);switch(this.H){case 1:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
break;case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Fb);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Se);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;default:a=h,cc.log("Shall not happen!")}this.addChild(a,0,3);this.ca();"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da)},ib:function(){this.Y-=
Lf;0>this.Y&&(this.Y=0);this.nb();this.pd()},Ma:function(){this.Y+=Lf;1E3<this.Y&&(this.Y=1E3);this.nb();this.pd()},Kd:function(a){this.H=a.getTag();this.getChildByTag(1E3).Tb(a)},nb:function(){if(this.Y!=this.ra){var a=this.Y+" particles";this.getChildByTag(ag).setString(a);this.ra=this.Y}},Gf:aa("H"),au:aa("Y"),ca:l()}),Kf=jg.extend({title:function(){return"A "+this.H+" size=4"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,
-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(4);b.setStartSize(4);b.setEndSizeVar(0);b.setStartSizeVar(0);
b.setBlendAdditive(j)}}),fg=jg.extend({title:function(){return"B "+this.H+" size=8"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);
a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(8);b.setStartSize(8);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),gg=jg.extend({title:function(){return"C "+this.H+" size=32"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);
b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(32);b.setStartSize(32);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),hg=jg.extend({title:function(){return"D "+this.H+" size=64"},
ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);
a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(64);b.setStartSize(64);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}});var ag=1,kg=0,lg=cc.Class.extend({H:h,m:h,zb:h,Cg:function(a){switch(this.H){case 1:case 4:case 7:this.zb.removeChildByTag(a+100,g);break;case 2:case 3:case 5:case 6:case 8:case 9:this.m.removeChildAtIndex(a,g)}},wf:function(a){"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);var b=h;switch(this.H){case 1:b=cc.Sprite.create("res/Images/grossinis_sister1.png");this.zb.addChild(b,0,a+100);break;case 2:case 3:b=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(0,0,52,
139));this.m.addChild(b,0,a+100);break;case 4:var c=parseInt(14*Math.random())+1,c=10>c?"0"+c:c.toString(),b=cc.Sprite.create("res/Images/grossini_dance_"+c+".png");this.zb.addChild(b,0,a+100);break;case 5:case 6:c=0|14*Math.random();b=85*(c%5);c=121*(0|c/5);b=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(b,c,85,121));this.m.addChild(b,0,a+100);break;case 7:b=0|64*Math.random();c=parseInt(b/8);b=parseInt(b%8);b=cc.Sprite.create("res/Images/sprites_test/sprite-"+b+"-"+c+".png");this.zb.addChild(b,
0,a+100);break;case 8:case 9:b=0|64*Math.random(),c=32*(0|b/8),b=32*(b%8),b=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(b,c,32,32)),this.m.addChild(b,0,a+100)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Td);return b},hb:function(a,b){this.H=a;this.zb=b;this.m=h;var c=cc.TextureCache.getInstance();c.removeTexture(c.addImage("res/Images/grossinis_sister1.png"));c.removeTexture(c.addImage("res/Images/grossini_dance_atlas.png"));c.removeTexture(c.addImage("res/Images/spritesheet1.png"));
switch(this.H){case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);this.m=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.m,0);break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Fb);this.m=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.m,0);break;case 5:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);this.m=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",
100);b.addChild(this.m,0);break;case 6:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Fb);this.m=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",100);b.addChild(this.m,0);break;case 8:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);this.m=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",100);b.addChild(this.m,0);break;case 9:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Fb),this.m=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",
100),b.addChild(this.m,0)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Td)}}),sg=Vf.extend({ub:7,Ca:function(){var a=h,b=this.getParent(),c=b.H,b=b.ha;Math.seedrandom("perftest");switch(this.K){case 0:a=new Mf;break;case 1:a=new mg;break;case 2:a=new ng;break;case 3:a=new og;break;case 4:a=new pg;break;case 5:a=new qg;break;case 6:a=new rg}kg=this.K;a&&(a.hb(c,b),cc.Director.getInstance().replaceScene(a))}}),tg=cc.Scene.extend({ra:h,ha:h,oc:h,H:1,ctor:function(){this._super();
cc.associateWithNative(this,cc.Scene);this.init()},title:m("No title"),hb:function(a,b){this.H=a;this.oc=new lg;this.oc.hb(a,this);var c=cc.Director.getInstance().getWinSize();this.ha=this.ra=0;var d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.c3b(255,255,40));cc.MenuItemFont.setFontSize(65);d=cc.MenuItemFont.create(" - ",this.ib,this);d.setColor(cc.c3b(0,200,20));var f=cc.MenuItemFont.create(" + ",this.Ma,this);f.setColor(cc.c3b(0,
200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height-65));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.c3b(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,ag);d=new sg(g,7,kg);this.addChild(d,1,2E3);cc.MenuItemFont.setFontSize(32);d=cc.Menu.create();for(f=1;9>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.Kd,this);i.setTag(f);d.addChild(i,10);3>=f?i.setColor(cc.c3b(200,20,20)):6>=f?i.setColor(cc.c3b(0,
200,20)):i.setColor(cc.c3b(0,20,200))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));for(this.addChild(d,2);this.ha<b;)this.Ma(this)},Zb:function(){if(this.ha!=this.ra){var a=this.ha+" nodes";this.getChildByTag(ag).setString(a);this.ra=this.ha}},Kd:function(a){this.H=a.getTag();this.getChildByTag(2E3).Tb(a)},Ma:function(){if(!(1E3<=this.ha)){for(var a=0;50>a;a++)this.ca(this.oc.wf(this.ha)),this.ha++;this.Zb()}},ib:function(){if(!(0>=this.ha)){for(var a=0;50>a;a++)this.ha--,this.oc.Cg(this.ha);
this.Zb()}},ca:l(),Gf:aa("H"),$t:aa("ha")}),Mf=tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)))},title:function(){return"A ("+this.H+") position"}}),mg=tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setScale(100*Math.random()/50)},title:function(){return"B ("+this.H+") scale"}}),ng=
tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setRotation(360*Math.random());a.setScale(2*Math.random())},title:function(){return"C ("+this.H+") scale + rot"}}),og=tg.extend({ca:function(a){a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"D ("+this.H+") 100% out"}}),pg=tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*
b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"E ("+this.H+") 80% out"}}),qg=tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,
b.reverse()));a.runAction(b)},title:function(){return"F ("+this.H+") actions"}}),rg=tg.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,
b.reverse()));a.runAction(b)},title:function(){return"G ("+this.H+") actions 80% out"}});function ug(a){this.name=a;this.totalTime=this.numberOfCalls=0;this.Ec=1E4;this.Cc=0;this.nf=function(){var a=1E3*r.getSecondsPerFrame();this.totalTime+=a;this.numberOfCalls++;this.Ec=Math.min(this.Ec,a);this.Cc=Math.max(this.Cc,a)};this.reset=function(){this.totalTime=0;this.Ec=1E5;this.numberOfCalls=this.Cc=0};this.dump=function(){cc.log("Profiling info for: "+this.name+"\nNumber of calls: "+this.numberOfCalls+"\nAverage Time: "+this.totalTime/this.numberOfCalls/1E3+"\nMin Time: "+this.Ec/1E3+"\nMax Time: "+
this.Cc/1E3+"\nTotal Time: "+this.totalTime/1E3+"\n")}}
var vg=-1,wg=[cc.Layer.extend({d:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.d,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(u.width/2,u.height-50));""!==this.h&&(a=cc.LabelTTF.create(this.h,"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(u.width/2,u.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.D,this),b=cc.MenuItemImage.create("res/Images/r1.png",
"res/Images/r2.png",this.G,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.F,this),d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(u.width/2-2*f.width,f.height/2);b.setPosition(u.width/2,f.height/2);c.setPosition(u.width/2+2*f.width,f.height/2);this.addChild(d,1)},G:function(){var a=new Tf;a.addChild(new wg[vg]);r.replaceScene(a)},F:function(){var a=new Tf;a.addChild(xg());r.replaceScene(a)},D:function(){var a=new Tf;a.addChild(yg());
r.replaceScene(a)}}).extend({d:"Performance Test 1",h:"Let it run until you see the 'done' message. See console for results.",ctor:function(){this._super();this.Ge=[this.Yg,this.Zg];this.Af=[this.yf,this.zf];this.He=[100,500,1E3,2E3,5E3,1E4];this.uc=0;this.Yb=-1;this.Ub();this.scheduleUpdate();this.schedule(this.ke,5);this.qd=g},Ub:function(){-1!=this.Yb&&this.Af[this.uc].bind(this)();this.Yb++;if(this.Yb>=this.He.length&&(this.Yb=0,this.uc++,this.uc>=this.Ge.length))return cc.log("No more tests"),
j;var a=this.He[this.Yb];this.Ge[this.uc].bind(this)(a);return g},Yg:function(a){this.Id=new ug("Test A - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.Node.create();this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*u.width,Math.random()*u.height)}},yf:function(){this.removeChildByTag(10,g)},Zg:function(a){this.Id=new ug("Test B - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.SpriteBatchNode.create("res/Images/grossini.png",
a);this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*u.width,Math.random()*u.height)}},zf:function(){this.removeChildByTag(10,g)},update:function(){this.qd?this.qd=j:this.Id.nf()},ke:function(){this.Id.dump();this.qd=g;this.Ub()||this.unschedule(this.ke)}})],Tf=w.extend({C:function(){vg=-1;this.addChild(xg());r.replaceScene(this)}});function xg(){vg++;vg%=wg.length;return new wg[vg]}
function yg(){vg--;0>vg&&(vg+=wg.length);return new wg[vg]};var Nf=0,Of=Vf.extend({Ca:function(){var a=h;switch(this.K){case 0:a=Of.Wb()}Nf=this.K;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.c3b(255,255,40));b=this.e();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)));this.Hc()},title:m("no title"),
e:m("no subtitle"),Hc:l()}).extend({Hc:function(){cc.log("--------");cc.log("--- PNG 128x128 ---");this.Ic("res/Images/test_image.png");cc.log("--- PNG 512x512 ---");this.Ic("res/Images/texture512x512.png");cc.log("EMPTY IMAGE");cc.log("--- PNG 1024x1024 ---");this.Ic("res/Images/texture1024x1024.png");cc.log("LANDSCAPE IMAGE");cc.log("--- PNG 1024x1024 ---");this.Ic("res/Images/landscape-1024x1024.png")},title:m("Texture Performance Test"),e:m("See console for results"),Ic:function(a){var b=Date.now(),
c,d=cc.TextureCache.getInstance();if("opengl"in sys.capabilities)var f=cc.Texture2D.getDefaultAlphaPixelFormat();cc.log("RGBA 8888");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Da);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGBA 4444");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Fb);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);
cc.log("RGBA 5551");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ve);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGB 565");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ue);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(f)}});
Of.Wb=function(){var a=cc.Scene.create(),b=new Of(j,1,Nf);a.addChild(b);return a};var Pf=0,Ag=Vf.extend({ub:2,mc:h,vb:0,yb:0,xb:0,wb:0,za:h,Ca:function(){var a=h;switch(this.K){case 0:a=new Qf(g,2,this.K);break;case 1:a=new zg(g,2,this.K)}Pf=this.K;if(a){var b=cc.Scene.create();b.addChild(a);cc.Director.getInstance().replaceScene(b)}},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",32);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-50));this.scheduleUpdate();this.mc=cc.LabelTTF.create("00.0","Arial",
16);this.mc.setPosition(cc.p(a.width/2,a.height/2));this.addChild(this.mc);this.vb=this.yb=this.xb=this.wb=this.za=0},title:m("No title"),update:function(a){this.za+=a;if(1<this.za){var a=(this.vb/this.za).toFixed(1),b=(this.yb/this.za).toFixed(1),c=(this.xb/this.za).toFixed(1),d=(this.wb/this.za).toFixed(1);this.vb=this.yb=this.xb=this.wb=this.za=0;this.mc.setString(a+" "+b+" "+c+" "+d)}}}),Qf=Ag.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Targeted touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addTargetedDelegate(this,
0,g)},onTouchBegan:function(){this.vb++;return g},onTouchMoved:function(){this.yb++},onTouchEnded:function(){this.xb++},onTouchCancelled:function(){this.wb++}}),zg=Ag.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Standard touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addStandardDelegate(this,0)},onTouchesBegan:function(a){this.vb+=a.length},onTouchesMoved:function(a){this.yb+=a.length},onTouchesEnded:function(a){this.xb+=
a.length},onTouchesCancelled:function(a){this.wb+=a.length}});var Rf=0,Sf=Vf.extend({Ca:function(){var a=h;switch(this.K){case 0:a=Sf.Wb()}Rf=this.K;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.c3b(255,255,40));b=this.e();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)))},title:m("no title"),e:m("no subtitle"),
Hc:l()}).extend({sa:h,ne:h,Nb:h,init:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontSize(65);var b=cc.MenuItemFont.create(" - ",this.ib,this);b.setColor(cc.c3b(0,200,20));var c=cc.MenuItemFont.create(" + ",this.Ma,this);c.setColor(cc.c3b(0,200,20));b=cc.Menu.create(b,c);b.alignItemsHorizontally();b.setPosition(cc.p(a.width/2,a.height/2+100));this.addChild(b,1);b=cc.LabelTTF.create("0 nodes","Marker Felt",24);b.setColor(cc.c3b(0,200,20));b.setPosition(cc.p(a.width/
2,a.height-90));this.addChild(b,1,ag);this.sa=0;this.he()},Hc:function(){this.init()},title:m("Animation Performance Test"),e:m(""),he:function(){this.Nb=cc.Node.create();this.addChild(this.Nb);for(var a=cc.Director.getInstance().getWinSize(),b=0;10>b;b++){var c=new Bg;c.init();c.setPosition(cc.p(a.width/2-15*b-200,a.height/2-15*b));this.sa++;cc.log("create"+this.sa);this.Nb.addChild(c,0,this.sa)}a=cc.MoveBy.create(1,cc.p(20,0));this.Nb.runAction(cc.RepeatForever.create(a));this.Zb()},Ma:function(){this.he()},
ib:function(){if(0<this.sa)for(var a=0;10>a;a++)cc.log("remove"+this.sa),this.Nb.removeChildByTag(this.sa,g),this.sa--;this.Zb()},Zb:function(){if(this.sa!=this.ne){var a=this.sa+" nodes";this.getChildByTag(ag).setString(a);this.ne=this.sa}}}),Bg=cc.Node.extend({fu:h,gu:h,lu:h,mu:h,hu:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Node)},init:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/crystals.plist");var a=0;rightData=Array(10);for(a=
0;10>a;a++){var b=cc.Sprite.createWithSpriteFrameName("crystals/4.png");b.setPosition(cc.p(50,10*a-40));b.setRotation(-90);b.setScale(1);this.addChild(b);rightData[a]=b;0==a&&(rightItem=b)}for(a=0;10>a;a++){b=cc.Sprite.createWithSpriteFrameName("crystals/1.png");b.setPosition(cc.p(5*a,50));this.addChild(b);b.setScale(1.5);b.setRotation(350);var c=cc.RotateBy.create(0.01,5);b.runAction(cc.RepeatForever.create(c))}leftData=Array(10);for(a=0;10>a;a++)b=cc.Sprite.createWithSpriteFrameName("crystals/2.png"),
b.setPosition(cc.p(10,5*a-20)),b.setRotation(90),this.addChild(b),leftData[a]=b,0==a&&(leftItem=b)},wu:function(){leftX=leftItem.getPositionX()}});Sf.Wb=function(){var a=cc.Scene.create(),b=new Sf(j,1,Rf);a.addChild(b);return a};(function(a,b,c,d,f,i,k){function o(a){var b,d,f=this,i=a.length,k=0,o=f.i=f.me=f.iu=0;f.Ta=[];f.Gt=[];for(i||(a=[i++]);k<c;)f.Ta[k]=k++;for(k=0;k<c;k++)b=f.Ta[k],o=o+b+a[k%i]&c-1,d=f.Ta[o],f.Ta[k]=d,f.Ta[o]=b;f.g=function(a){var b=f.Ta,d=f.i+1&c-1,i=b[d],k=f.me+i&c-1,o=b[k];b[d]=o;b[k]=i;for(var p=b[i+o&c-1];--a;)d=d+1&c-1,i=b[d],k=k+i&c-1,o=b[k],b[d]=o,b[k]=i,p=p*c+b[i+o&c-1];f.i=d;f.me=k;return p};f.g(c)}function q(a,b){var c,d,f;c=[];f=typeof a;if(b&&"object"==f)for(d in a)if(5>d.indexOf("S"))try{c.push(q(a[d],
b-1))}catch(i){}return c.length?c:a+("string"!=f?"\x00":"")}function v(a,b){var d,f,a=a+"";for(f=d=0;f<a.length;f++){var i=b,k=f&c-1,o=(d^=19*b[f&c-1])+a.charCodeAt(f);i[k]=o&c-1}a="";for(f in b)a+=String.fromCharCode(b[f]);return a}b.seedrandom=function(p,t){var I=[],N,p=v(q(t?[p,a]:arguments.length?p:[(new Date).getTime(),a,window],3),I);N=new o(I);v(N.Ta,a);b.random=function(){for(var a=N.g(d),b=k,o=0;a<f;)a=(a+o)*c,b*=c,o=N.g(1);for(;a>=i;)a/=2,b/=2,o>>>=1;return(a+o)/b};return p};k=b.pow(c,d);
f=b.pow(2,f);i=2*f;v(b.random(),a)})([],Math,256,6,52);var Cg=-1,Dg=cc.p(0,0);function W(){x.call(this,cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.d="No title";this.h="No Subtitle";this.da=j}cc.inherits(W,x);n=W.prototype;
n.onEnter=function(){x.prototype.onEnter.call(this);var a=36,b=this.d.length,a=1.6*(u.width/b);0.09<a/u.width&&(a=0.09*u.width);this.label=cc.LabelTTF.create(this.d,"Gill Sans",a);this.addChild(this.label,100);var c=this.da;c===g?this.label.setPosition(Dg):this.label.setPosition(u.width/2,11*u.height/12);var d=this.h;""!==d?(b=this.h.length,b=1.3*(u.width/b),b>0.4*a&&(b=0.4*a),this.Oc=cc.LabelTTF.create(d,"Thonburi",b),this.addChild(this.Oc,90),c?this.Oc.setPosition(cc.p(u.width/2,3*u.height/8)):
this.Oc.setPosition(cc.p(u.width/2,4*u.height/5))):this.Oc=h;d=this.getChildByTag(10);a=d.getChildByTag(1);c=d.getChildByTag(2);d=d.getChildByTag(3);[a,c,d].forEach(function(a){a.getNormalImage().setOpacity(45);a.getSelectedImage().setOpacity(45)});this.removeChildByTag(11);this.removeChildByTag(12)};n.Bb=function(){for(var a="",b=0;b<arguments.length;b++)0!==b&&(a+="\n"),a+="- "+arguments[b];a=cc.LabelTTF.create(a,"Gill Sans",0.07*u.height);a.setPosition(Dg);this.addChild(a,80)};
function Eg(a,b){var c=cc.Sprite.create(b);c.setPosition(Dg);a.addChild(c,70)}n.G=function(){var a=new Ia;a.addChild(new Fg[Cg]);r.replaceScene(a)};n.F=function(){var a=new Ia;a.addChild(Gg());r.replaceScene(a)};n.D=function(){var a=new Ia;a.addChild(Hg());r.replaceScene(a)};n.M=function(){return Fg.length-1-Cg};n.I=function(){return Cg};function Ig(){W.call(this);this.d="cocos2d JS";this.h="Game Development Kit";this.da=g}cc.inherits(Ig,W);
function Jg(){W.call(this);this.d="Goals";this.h="";this.da=j;this.Bb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code","Good performance")}cc.inherits(Jg,W);function Kg(){W.call(this);this.d="Options";this.h="HTML5 engines";this.da=j;this.Bb("cocos2d HTML5","Impact JS","LimeJS","Construct 2","etc...")}cc.inherits(Kg,W);
function Lg(){W.call(this);this.d="HTML5 Features";this.h="";this.da=j;this.Bb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code ???","Good Performance ???")}cc.inherits(Lg,W);function Mg(){W.call(this);this.d="HTML5 Mobile performance";this.h="Bad performance, even with accel frameworks";this.da=j;Eg(this,"res/Presentation/comparison.png")}cc.inherits(Mg,W);
function Ng(){W.call(this);this.d="Performance";this.h="But what we want is...";this.da=j;this.Bb("Hundreds of sprites... at 60 FPS","Physics... at 60 FPS","Particles... at 60 FPS")}cc.inherits(Ng,W);function Og(){W.call(this);this.Lb=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.Lb);this.Ka=function(a){this.Lb.addChild(this.createPhysicsSprite(a))};this.d="Performance";this.h="Physics and Sprites";this.gb();Pg(this)}cc.inherits(Og,W);n=Og.prototype;n.ug=function(){this.tc.setVisible(!this.tc.isVisible())};
function Pg(a){cc.MenuItemFont.setFontSize(16);var b=cc.MenuItemFont.create("Toggle Physics Debug",a.ug,a),b=cc.Menu.create(b);a.addChild(b,99);b.setPosition(cc.p(u.width-80,u.height-100))}
n.gb=function(){this.n=new cp.Space;for(var a=this.n.Ff(),a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(a,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.n.addStaticShape(c)}this.n.gravity=cp.v(0,-100);this.tc=cc.PhysicsDebugNode.create(this.n.handle);this.tc.setVisible(j);this.addChild(this.tc,
100)};n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.n.addBody(b);a=cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.n.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b.handle);return a};
n.onEnter=function(){W.prototype.onEnter.call(this);for(var a=0;20>a;a++)this.Ka(cp.v(40+Math.random()*(u.width-80),u.height/2+80*Math.random()));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};n.onExitTransitionDidStart=function(){r.setDisplayStats(j)};n.onEnterTransitionDidFinish=function(){r.setDisplayStats(g);this.scheduleUpdate()};n.update=function(a){this.n.step(a)};n.onMouseDown=function(a){for(var b=0;10>b;b++)this.Ka(a.getLocation())};
n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ka(a[c].getLocation())};
function Qg(){W.call(this);this.d="Performance";this.h="Particles";var a=cc.ParticleFireworks.create();this.addChild(a);a.setPosition(Dg);var b=cc.ParticleSun.create();this.addChild(b);b.setPosition(cc.p(u.width/4,u.height/2));b=cc.ParticleMeteor.create();this.addChild(b);b.setPosition(cc.p(3*u.width/4,u.height/2));b=cc.ParticleSystem.create("res/Particles/Flower.plist");this.addChild(b);b.setPosition(Dg);this.we=a;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.onMouseDown=function(a){this.we.setPosition(a.getLocation())};this.onMouseDragged=function(a){return this.onMouseDown(a)};this.onTouchesEnded=function(a){for(var b=a.length,f=0;f<b;f++)this.we.setPosition(a[f].getLocation())};this.onTouchesMoved=function(a,b){return this.onTouchesEnded(a,b)};this.onExitTransitionDidStart=function(){r.setDisplayStats(j)};this.onEnterTransitionDidFinish=function(){r.setDisplayStats(g)}}cc.inherits(Qg,W);
function Rg(){W.call(this);this.d="Improving the performance";this.h='Redefining "fast" for mobile';this.da=g}cc.inherits(Rg,W);function Sg(){W.call(this);this.d="HTML5 Mobile Accelerators";this.h="";this.da=j;Eg(this,"res/Presentation/html5accelerator.png")}cc.inherits(Sg,W);function Tg(){W.call(this);this.d="cocos2d Acceleration";this.h="";this.da=j;Eg(this,"res/Presentation/gdkaccelerator.png")}cc.inherits(Tg,W);
function Ug(){W.call(this);this.d="Components";this.h="";this.da=j;this.Bb("Game engine: cocos2d","Physics engine: Chipmunk","World Editor: CocosBuilder")}cc.inherits(Ug,W);function Vg(){W.call(this);this.d="Who is using it";this.h="";this.da=j;this.Bb("Zynga","...and you ?")}cc.inherits(Vg,W);function Wg(){W.call(this);this.d="Demo";this.h="";this.da=g}cc.inherits(Wg,W);function Xg(){W.call(this);this.d="Thanks";this.h="";this.da=g}cc.inherits(Xg,W);function Ia(){w.call(this)}cc.inherits(Ia,w);
Ia.prototype.C=function(){Cg=-1;Dg=cc.p(u.width/2,u.height/2);this.addChild(Gg());r.replaceScene(this)};var Fg=[Ig,Jg,Kg,Lg,Mg,Ng,Og,Qg,Rg,Sg,Tg,Ug,Wg,Vg,Xg];function Gg(){Cg++;Cg%=Fg.length;return new Fg[Cg]}function Hg(){Cg--;0>Cg&&(Cg+=Fg.length);return new Fg[Cg]};var Yg=-1,bh=x.extend({title:m("ProgressActionsTest"),title:m(""),D:function(){var a=new ya;a.addChild(Zg());r.replaceScene(a)},G:function(){var a=new ya;a.addChild(new $g[Yg]);r.replaceScene(a)},F:function(){var a=new ya;a.addChild(ah());r.replaceScene(a)},M:function(){return $g.length-1-Yg},I:function(){return Yg}}),ch=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.qb);this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));a.setType(cc.qb);a.setReverseDirection(g);this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Radial")}),dh=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.ga);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(1,0));this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.ga);a.setMidpoint(cc.p(1,0));a.setBarChangeRate(cc.p(1,0));this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Horizontal")}),eh=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,
100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));c.setType(cc.ga);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(0,1));this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.ga);a.setMidpoint(cc.p(0,1));a.setBarChangeRate(cc.p(0,1));this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},
title:m("ProgressTo Vertical")}),fh=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.qb);this.addChild(b);b.setMidpoint(cc.p(0.25,0.75));b.setPosition(200,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.qb);b.setMidpoint(cc.p(0.75,0.25));this.addChild(b);b.setPosition(u.width-200,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},
title:m("Radial w/ Different Midpoints")}),gh=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));b.setType(cc.ga);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,0));this.addChild(b);b.setPosition(150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.ga);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
1));this.addChild(b);b.setPosition(u.width/2,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.ga);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,1));this.addChild(b);b.setPosition(u.width-150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("ProgressTo Bar Mid")}),hh=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100),b=cc.Sequence.create(cc.TintTo.create(1,
255,0,0),cc.TintTo.create(1,0,255,0),cc.TintTo.create(1,0,0,255)),c=cc.Sequence.create(cc.FadeTo.create(1,0),cc.FadeTo.create(1,255)),d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));d.setType(cc.ga);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,0));this.addChild(d);d.setPosition(150,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(b.copy()));d.addChild(cc.LabelTTF.create("Tint","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));
d.setType(cc.ga);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,1));this.addChild(d);d.setPosition(u.width/2,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Fade","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));d.setType(cc.ga);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(0,1));this.addChild(d);d.setPosition(u.width-150,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));
d.runAction(cc.RepeatForever.create(b.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Tint and Fade","Marker Felt",20))},title:m("ProgressTo Bar Mid")}),ih=bh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100);cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png"));b.setType(cc.ga);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
0));this.addChild(b);b.setPosition(150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_02.png"));b.setType(cc.ga);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,1));this.addChild(b);b.setPosition(u.width/2,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_03.png"));b.setType(cc.qb);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,
1));this.addChild(b);b.setPosition(u.width-150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("Progress With Sprite Frame")}),ya=w.extend({C:function(){Yg=-1;this.addChild(ah());r.replaceScene(this)}}),$g=[ch,dh,eh,fh,gh,hh,ih];function ah(){Yg++;Yg%=$g.length;return new $g[Yg]}function Zg(){Yg--;0>Yg&&(Yg+=$g.length);return new $g[Yg]};var jh=-1,nh=x.extend({ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},title:m("Render Texture"),e:m(""),code:m(""),G:function(){var a=new za;a.addChild(new kh[jh]);r.replaceScene(a)},F:function(){var a=new za;a.addChild(lh());r.replaceScene(a)},D:function(){var a=new za;a.addChild(mh());r.replaceScene(a)},M:function(){return kh.length-1-jh},I:function(){return jh}}),oh=nh.extend({qa:h,va:h,Ga:h,Ea:0,onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):
"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.qa=cc.Sprite.create("res/Images/fire.png");this.qa.retain();this.qa.setColor(cc.$c);this.qa.setOpacity(20);var a=cc.MenuItemFont.create("Save",this.Hg,this),b=cc.MenuItemFont.create("Clear",this.of.bind(this)),a=cc.Menu.create(a,b);a.alignItemsVertically();a.setPosition(u.width-70,u.height-80);this.addChild(a,10);a=cc.RenderTexture.create(u.width,u.height);a.setPosition(u.width/2,u.height/2);this.addChild(a,1);this.va=a;this.Ga=cc.p(u.width/
2,u.height/2)},onExit:function(){this.qa.release()},Hg:function(){var a="image-"+this.Ea+".png";this.va.saveToFile("image-"+this.Ea+".jpg",cc.Pd);this.va.saveToFile(a,cc.Qd);cc.log("images saved!");this.Ea++},of:function(){this.va.clear(Math.random(),Math.random(),Math.random(),1)},je:function(a){var b=cc.pDistance(a,this.Ga);if(1<b){this.va.begin();for(var c=0;c<b;c++){var d=c/b;this.qa.setPosition(a.x+(this.Ga.x-a.x)*d,a.y+(this.Ga.y-a.y)*d);this.qa.setRotation(360*Math.random());this.qa.setScale(2*
Math.random());this.qa.setColor(cc._c3b(255*Math.random(),255,255));this.qa.visit()}this.va.end()}this.Ga=a},onTouchesBegan:function(a){this.Ga=a[0].getLocation();return g},onTouchesMoved:function(a){this.je(a[0].getLocation());return g},onMouseDown:function(a){this.Ga=a.getLocation();return g},onMouseDragged:function(a){this.je(a.getLocation());return g},e:m("Testing 'save'")}),ph=nh.extend({qa:h,va:h,Ga:h,Ea:0,ctor:function(){this._super();var a=cc.Sprite.create("res/animations/grossini.png"),b=
cc.RenderTexture.create(u.width/2,u.height/2);b.setPosition(u.width/2,u.height/2);this.addChild(b,1);a.setPosition(u.width/4,u.height/4);b.begin();a.visit();b.end();var a=cc.FadeOut.create(2),c=a.reverse(),d=cc.DelayTime.create(0.25),a=cc.Sequence.create(a,d,c,d.copy()),a=cc.RepeatForever.create(a);b.getSprite().runAction(a)},title:m("Issue 1464"),e:m("Sprites should fade in / out correctly"),u:2.1,q:function(){return JSON.stringify({"0":0,1:0,2:0,3:255,4:0,5:0,6:0,7:255,8:0,9:0,10:0,11:255,12:0,
13:0,14:0,15:255,16:0,17:0,18:0,19:255,20:0,21:0,22:0,23:255,24:0,25:0,26:0,27:255,28:0,29:0,30:0,31:255,32:0,33:0,34:0,35:255,36:0,37:0,38:0,39:255,40:0,41:0,42:0,43:255,44:0,45:0,46:0,47:255,48:0,49:0,50:0,51:255,52:0,53:0,54:0,55:255,56:0,57:0,58:0,59:255,60:0,61:0,62:0,63:255})},o:function(){var a=this.readPixels(u.width/2-2,u.height/2-2,4,4);return JSON.stringify(a)}}),za=w.extend({C:function(){jh=-1;this.addChild(lh());r.replaceScene(this)}}),kh=[oh,ph];
function lh(){jh++;jh%=kh.length;return new kh[jh]}function mh(){jh--;0>jh&&(jh+=kh.length);return new kh[jh]};var Aa=w.extend({C:function(){this.addChild(qh.create());this.runAction(cc.RotateBy.create(4,-360));r.replaceScene(this)}}),rh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create("res/Images/grossini.png"),c=cc.Sprite.create("res/Images/grossinis_sister1.png"),f=cc.Sprite.create("res/Images/grossinis_sister2.png");d.setScale(1.5);c.setScale(1.5);f.setScale(1.5);
d.setPosition(a/2,b/2);c.setPosition(40,b/2);f.setPosition(a-40,b/2);a=cc.RotateBy.create(16,-3600);this.addChild(d);this.addChild(c);this.addChild(f);d.runAction(a);a=cc.JumpBy.create(4,cc.p(-400,0),100,4);d=a.reverse();b=cc.RotateBy.create(4,720);var i=b.reverse();c.runAction(cc.Repeat.create(cc.Sequence.create(d,a),5));f.runAction(cc.Repeat.create(cc.Sequence.create(a.copy(),d.copy()),5));c.runAction(cc.Repeat.create(cc.Sequence.create(b,i),5));f.runAction(cc.Repeat.create(cc.Sequence.create(i.copy(),
b.copy()),5))}});rh.create=function(){return new rh};var sh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b;b=r.getWinSize();a=b.width;b=b.height;var c=cc.LabelTTF.create("cocos2d","Tahoma",64);c.setPosition(a/2,b/2);this.addChild(c)}});sh.create=function(){return new sh};
var qh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var c=cc.LayerColor.create(cc.c4b(0,0,255,255)),d=cc.LayerColor.create(cc.c4b(255,0,0,255)),f=cc.LayerColor.create(cc.c4b(0,255,0,255)),i=cc.LayerColor.create(cc.c4b(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);c.addChild(rh.create());d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/
4,b/4);f.addChild(sh.create());i.setScale(0.5);i.setPosition(a/4,b/4);this.addChild(c,-1);this.addChild(i);this.addChild(f);this.addChild(d);a=cc.RotateBy.create(8,720);c.runAction(a);d.runAction(a.copy());f.runAction(a.copy());i.runAction(a.copy())}});qh.create=function(){return new qh};SceneTestLayer1=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("Test pushScene",this.hg,this),c=cc.MenuItemFont.create("Test pushScene w/transition",this.ig,this),d=cc.MenuItemFont.create("Quit",function(){cc.log("quit!")},this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,
360);a=cc.RepeatForever.create(a);b.runAction(a);this._super()},onEnter:function(){cc.log("SceneTestLayer1#onEnter");this._super()},onEnterTransitionDidFinish:function(){cc.log("SceneTestLayer1#onEnterTransitionDidFinish");this._super()},Fe:l(),hg:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);r.pushScene(a)},ig:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);r.pushScene(cc.TransitionSlideInT.create(1,a))},qe:l()});
SceneTestLayer2=cc.Layer.extend({Eu:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("replaceScene",this.mg,this),c=cc.MenuItemFont.create("replaceScene w/transition",this.ng,this),d=cc.MenuItemFont.create("Go Back",this.Tf,this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,
360);a=cc.RepeatForever.create(a);b.runAction(a)},Fe:l(),Tf:function(){r.popScene()},mg:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);r.replaceScene(a)},ng:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);r.replaceScene(cc.TransitionSlideInT.create(2,a))}});
SceneTestLayer3=cc.LayerColor.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerColor);this.init(cc.c4b(0,128,255,255));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Touch to popScene","Arial",28);this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(cc.p(b.width-40,b.height/2));b=cc.RotateBy.create(2,
360);b=cc.RepeatForever.create(b);a.runAction(b)},Fe:l(),onTouchesEnded:function(){r.popScene()},onMouseUp:function(){r.popScene()}});SceneTestScene=w.extend({C:function(){this.addChild(new SceneTestLayer1);r.replaceScene(this)}});var th=-1,wh=x.extend({title:m("No title"),e:m(""),D:function(){var a=new Ba,b;th--;0>th&&(th+=uh.length);b=new uh[th];a.addChild(b);r.replaceScene(a)},F:function(){var a=new Ba,b=vh();a.addChild(b);r.replaceScene(a)},G:function(){var a=new Ba,b=new uh[th];a.addChild(b);r.replaceScene(a)},M:function(){return uh.length-1-th},I:function(){return th}}),xh=wh.extend({pa:0,onEnter:function(){this._super();this.schedule(this.pe,0.5);this.schedule(this.Gd,0.5);this.pa=0},title:m("Self-remove an scheduler"),
e:m("1 scheduler will be autoremoved in 3 seconds. See console"),pe:function(a){this.pa+=a;cc.log("Time: "+this.pa);3<this.pa&&(this.unschedule(this.pe),cc.log("scheduler removed"))},Gd:function(){cc.log("This scheduler should not be removed")}}),yh=wh.extend({onEnter:function(){this._super();this.schedule(this.Na,0.5);this.schedule(this.Oa,0.5);this.schedule(this.Ed,3)},title:m("Pause / Resume"),e:m("Scheduler should be paused after 3 seconds. See console"),Na:function(){cc.log("tick1")},Oa:function(){cc.log("tick2")},
Ed:function(){r.getScheduler().pauseTarget(this)}}),zh=wh.extend({onEnter:function(){this._super();this.schedule(this.Na,0.5);this.schedule(this.Oa,1);this.schedule(this.Rb,1.5);this.schedule(this.Sb,1.5);this.schedule(this.Hd,4)},title:m("Unschedule All callbacks"),e:m("All scheduled callbacks will be unscheduled in 4 seconds. See console"),Na:function(){cc.log("tick1")},Oa:function(){cc.log("tick2")},Rb:function(){cc.log("tick3")},Sb:function(){cc.log("tick4")},Hd:function(){this.unscheduleAllCallbacks()}}),
Ah=wh.extend({onEnter:function(){this._super();this.schedule(this.Na,0.5);this.schedule(this.Oa,1);this.schedule(this.Rb,1.5);this.schedule(this.Sb,1.5);this.schedule(this.Hd,4)},title:m("Unschedule All callbacks #2"),e:m("Unschedules all callbacks after 4s. Uses CCScheduler. See console"),Na:function(){cc.log("tick1")},Oa:function(){cc.log("tick2")},Rb:function(){cc.log("tick3")},Sb:function(){cc.log("tick4")},Hd:function(){r.getScheduler().unscheduleAllCallbacks()}}),Bh=wh.extend({onEnter:function(){this._super();
this.schedule(this.Na,0.5);this.schedule(this.Oa,1);this.schedule(this.re,4)},title:m("Schedule from Schedule"),e:m("Will unschedule and schedule callbacks in 4s. See console"),Na:function(){cc.log("tick1")},Oa:function(){cc.log("tick2")},Rb:function(){cc.log("tick3")},Sb:function(){cc.log("tick4")},re:function(){this.unschedule(this.Na);this.unschedule(this.Oa);this.unschedule(this.re);this.schedule(this.Rb,1);this.schedule(this.Sb,1)}}),Ch=cc.Node.extend({Wd:"",ctor:function(a,b){cc.associateWithNative(this,
cc.Layer);this.init();this._super();this.Wd=a;this.scheduleUpdateWithPriority(b)},update:function(){cc.log(this.Wd)}}),Dh=wh.extend({onEnter:function(){this._super();this.addChild(new Ch("---",50));this.addChild(new Ch("3rd",0));this.addChild(new Ch("1st",-10));this.addChild(new Ch("4th",10));this.addChild(new Ch("5th",20));this.addChild(new Ch("2nd",-5));this.schedule(this.lg,4)},title:m("Schedule update with priority"),e:m("3 scheduled updates. Priority should work. Stops in 4s. See console"),lg:function(){for(var a=
this.getChildren(),b=0;b<a.length;b++){var c=a[b];c&&c.unscheduleAllCallbacks()}}}),Eh=wh.extend({onEnter:function(){this._super();this.scheduleUpdate();this.schedule(this.Gd);this.schedule(this.qg,4)},title:m("Schedule Update + custom callback"),e:m("Update + custom callback at the same time. Stops in 4s. See console"),update:function(a){cc.log("update called:"+a)},Gd:function(a){cc.log("custom callback called:"+a)},qg:function(){this.unscheduleAllCallbacks()}}),Fh=wh.extend({onEnter:function(){this._super();
this.schedule(this.jb,2)},title:m("Schedule Update in 2 sec"),e:m("Update schedules in 2 secs. Stops 2 sec later. See console"),update:function(a){cc.log("update called:"+a)},jb:function(){this.unschedule(this.jb);this.scheduleUpdate();this.schedule(this.ue,2)},ue:function(){this.unscheduleUpdate();this.unschedule(this.ue)}}),Gh=wh.extend({Hb:1,pc:0,onEnter:function(){this._super();this.Hb=1;this.pc=0;this.schedule(this.jb,this.Hb)},title:m("Reschedule Callback"),e:m("Interval is 1 second, then 2, then 3..."),
jb:function(a){this.pc++;cc.log("schedUpdate: "+a.toFixed(2));3<this.pc&&(this.Hb+=1,this.schedule(this.jb,this.Hb),this.pc=0)}}),Hh=wh.extend({pa:0,onEnter:function(){this._super();this.pa=0;var a=r.getScheduler();a.scheduleUpdateForTarget(this,0,j);var b=cc.Rd;a.scheduleCallbackForTarget(this,this.jb,0.25,b,2,j)},title:m("Schedule / Unschedule using Scheduler"),e:m("After 5 seconds all callbacks should be removed"),update:function(a){cc.log("update: "+a)},jb:function(a){cc.log("onSchedUpdate delta: "+
a);this.pa+=a;3<this.pa&&r.getScheduler().unscheduleAllCallbacksForTarget(this);cc.log("onSchedUpdate accum: "+this.pa)}}),Ba=w.extend({C:function(){th=-1;this.addChild(vh());r.replaceScene(this)}}),uh=[xh,yh,zh,Ah,Bh,Dh,Eh,Fh,Gh,Hh];function vh(){th++;th%=uh.length;return new uh[th]};var X=1,Ja=2,F=0,G=1,Fc=2,Ih=-1,Y=cc.SpriteFrameCache.getInstance(),Z=x.extend({d:"",h:"",ctor:function(){0===arguments.length?this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255)):this._super.apply(this,arguments)},G:function(){var a=new Ca;a.addChild(new Jh[Ih]);r.replaceScene(a)},F:function(){var a=new Ca;a.addChild(Kh());r.replaceScene(a)},D:function(){var a=new Ca;a.addChild(Lh());r.replaceScene(a)},M:function(){return Jh.length-1-Ih},I:function(){return Ih}}),Mh=Z.extend({d:"Non Batched Sprite ",
h:"Tap screen to add more sprites",ctor:function(){this._super();this.eb(cc.p(u.width/2,u.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},eb:function(a){var b=0|14*Math.random(),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*(b%5),121*(0|b/5),85,121));this.addChild(b);b.setPosition(cc.p(a.x,a.y));var a=Math.random(),a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>
a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2),c=a.reverse(),a=cc.Sequence.create(a,c);b.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.eb(c.getLocation())}},onMouseDown:function(a){this.eb(a.getLocation());return g}}),Nh=Z.extend({d:"Batched Sprite ",h:"Tap screen to add more sprites",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.addChild(cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50),0,1);this.eb(cc.p(u.width/2,u.height/2))},eb:function(a){var b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2);b=a.reverse();
a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.eb(c.getLocation())}},onMouseDown:function(a){this.eb(a.getLocation());return g}}),Oh=Z.extend({d:"Sprite: Color & Opacity",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(170,121,85,121)),d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121)),f=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),i=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),k=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(170,121,85,121)),o=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121));a.setPosition(cc.p(u.width/5,u.height/3));b.setPosition(cc.p(2*(u.width/
5),u.height/3));c.setPosition(cc.p(3*(u.width/5),u.height/3));d.setPosition(cc.p(4*(u.width/5),u.height/3));f.setPosition(cc.p(u.width/5,2*(u.height/3)));i.setPosition(cc.p(2*(u.width/5),2*(u.height/3)));k.setPosition(cc.p(3*(u.width/5),2*(u.height/3)));o.setPosition(cc.p(4*(u.width/5),2*(u.height/3)));var q=cc.FadeIn.create(2),v=q.reverse(),q=cc.RepeatForever.create(cc.Sequence.create(q,v)),v=cc.TintBy.create(2,0,-255,-255),p=v.reverse(),v=cc.RepeatForever.create(cc.Sequence.create(v,p)),p=cc.TintBy.create(2,
-255,0,-255),t=p.reverse(),p=cc.RepeatForever.create(cc.Sequence.create(p,t)),t=cc.TintBy.create(2,-255,-255,0),I=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,I));f.runAction(v);i.runAction(p);k.runAction(t);o.runAction(q);this.addChild(a,0,F);this.addChild(b,0,G);this.addChild(c,0,Fc);this.addChild(d,0,3);this.addChild(f,0,4);this.addChild(i,0,5);this.addChild(k,0,6);this.addChild(o,0,7);this.schedule(this.Jd,2)},Jd:function(){var a=this.getChildByTag(4);this.removeChild(a,j);this.addChild(a,
0,4)}}),Ph=Z.extend({d:"SpriteBatchNode: Color & Opacity",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),f=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121)),i=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,121,85,121)),k=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),o=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),q=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121));b.setPosition(cc.p(1*(u.width/5),1*(u.height/3)));c.setPosition(cc.p(2*(u.width/5),1*(u.height/3)));d.setPosition(cc.p(3*(u.width/5),1*(u.height/3)));f.setPosition(cc.p(4*(u.width/5),1*(u.height/3)));i.setPosition(cc.p(1*(u.width/5),2*(u.height/3)));k.setPosition(cc.p(2*
(u.width/5),2*(u.height/3)));o.setPosition(cc.p(3*(u.width/5),2*(u.height/3)));q.setPosition(cc.p(4*(u.width/5),2*(u.height/3)));var v=cc.FadeIn.create(2),p=v.reverse(),v=cc.RepeatForever.create(cc.Sequence.create(v,p)),p=cc.TintBy.create(2,0,-255,-255),p=cc.RepeatForever.create(cc.Sequence.create(p,p.reverse())),t=cc.TintBy.create(2,-255,0,-255),I=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,I)),I=cc.TintBy.create(2,-255,-255,0),N=I.reverse(),I=cc.RepeatForever.create(cc.Sequence.create(I,
N));i.runAction(p);k.runAction(t);o.runAction(I);q.runAction(v);a.addChild(b,0,F);a.addChild(c,0,G);a.addChild(d,0,Fc);a.addChild(f,0,3);a.addChild(i,0,4);a.addChild(k,0,5);a.addChild(o,0,6);a.addChild(q,0,7);this.schedule(this.Jd,2)},Jd:function(){var a=this.getChildByTag(1),b=a.getChildByTag(4);a.removeChild(b,j);a.addChild(b,0,4)}}),Qh=Z.extend({la:0,d:"Sprite: Z order",ctor:function(){this._super();this.la=1;for(var a,b=u.width/11,c=0;5>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(0,121,85,121)),a.setPosition(cc.p((c+1)*b,u.height/2)),this.addChild(a,c);for(c=5;10>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),a.setPosition(cc.p((c+1)*b,u.height/2)),this.addChild(a,14-c);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,0,85,121));this.addChild(a,-1,F);a.setPosition(cc.p(u.width/2,u.height/2-20));a.setScaleX(10);a.setColor(cc.c3b(255,0,0));this.schedule(this.ka,1)},ka:function(){var a=this.getChildByTag(F),b=
a.getZOrder();-1>b&&(this.la=1);10<b&&(this.la=-1);b+=3*this.la;this.reorderChild(a,b)}}),Rh=Z.extend({la:0,d:"SpriteBatch: Z order",ctor:function(){this._super();this.la=1;var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);for(var b,c=u.width/11,d=0;5>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),b.setPosition(cc.p((d+1)*c,u.height/2)),a.addChild(b,d);for(d=5;10>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,0,
85,121)),b.setPosition(cc.p((d+1)*c,u.height/2)),a.addChild(b,14-d);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,0,85,121));a.addChild(b,-1,F);b.setPosition(cc.p(u.width/2,u.height/2-20));b.setScaleX(10);b.setColor(cc.c3b(255,0,0));this.schedule(this.ka,1)},ka:function(){var a=this.getChildByTag(1),b=a.getChildByTag(F),c=b.getZOrder();-1>c&&(this.la=1);10<c&&(this.la=-1);c+=3*this.la;a.reorderChild(b,c)}}),Sh=Z.extend({d:"SpriteBatchNode: reorder #1",h:"Should not crash",ctor:function(){this._super();
for(var a=[],b=cc.SpriteBatchNode.create("res/animations/ghosts.png"),c=0;10>c;c++){var d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(0,0,50,50));a.push(d);b.addChild(d,10)}for(c=0;10>c;c++)5!=c&&b.reorderChild(a[c],9);d=b.getChildren();for(c=0;c<d.length;c++){a=d[c];if(!a)break;a.getAtlasIndex()}b=b.getDescendants();for(c=0;c<b.length;c++){a=b[c];if(!a)break;a.getAtlasIndex()}}}),Th=Z.extend({d:"SpriteBatchNode: reorder issue #744",h:"Should not crash",ctor:function(){this._super();var a=
cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,85,121));b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b,3);a.reorderChild(b,1)}}),Uh=Z.extend({m:h,O:h,S:h,ta:h,d:"SpriteBatchNode: reorder issue #766",h:"In 2 seconds 1 sprite will be reordered",ctor:function(){this._super();this.m=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.m,1,0);this.O=this.vd(2);this.O.setPosition(cc.p(200,
160));this.S=this.vd(3);this.S.setPosition(cc.p(264,160));this.ta=this.vd(4);this.ta.setPosition(cc.p(328,160));this.schedule(this.ka,2)},ka:function(){this.unschedule(this.ka);this.m.reorderChild(this.O,4)},vd:function(a){var b=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.m.addChild(b,a+1,0);var c=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(0,0,64,64));c.setOpacity(128);b.addChild(c,a,3);c=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(64,0,64,64));
b.addChild(c,a+2,3);return b}}),Vh=Z.extend({d:"SpriteBatchNode: reorder issue #767",h:"Should not crash",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist","res/animations/ghosts.png");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.addChild(a,0,F);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b,0,G);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));
d.setPosition(cc.p(-25+c.width/2,0+c.height/2));b.addChild(d,-1,2);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));a.setPosition(cc.p(25+c.width/2,0+c.height/2));b.addChild(a,1,3);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,-1);c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/
2,50+f.height/2));d.addChild(c,1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d,-1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d,1);this.schedule(this.Dg,1)},Dg:function(){var a=this.getChildByTag(F).getChildByTag(G),b=a.getChildByTag(2),c=a.getChildByTag(3),d=1;1==b.getZOrder()&&(d=-1);a.reorderChild(b,
d);a.reorderChild(c,-d)}}),Wh=Z.extend({la:0,kf:0,d:"Sprite: openGL Z vertex",h:"Scene should rotate",ctor:function(){this._super(cc.c4b(255,0,0,80),cc.c4b(255,98,117,20));if("opengl"in sys.capabilities){gl.enable(gl.DEPTH_TEST);var a=cc.ShaderCache.getInstance().getProgram(cc.Sd),b=a.getProgram(),c=gl.getUniformLocation(b,cc.UNIFORM_ALPHA_TEST_VALUE_S);gl.useProgram(b);a.setUniformLocationF32(c,0.5);this.la=1;b=u.width/12;c=cc.Node.create();c.setContentSize(cc.size(u.width,u.height));c.setAnchorPoint(cc.p(0.5,
0.5));c.setPosition(cc.p(u.width/2,u.height/2));this.addChild(c,0);for(var d,f=0;5>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),d.setPosition(cc.p((f+1)*b,u.height/2)),d.setVertexZ(10+40*f),d.setShaderProgram(a),c.addChild(d,0);for(f=5;11>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),d.setPosition(cc.p((f+1)*b,u.height/2)),d.setVertexZ(10+40*(10-f)),d.setShaderProgram(a),c.addChild(d,0);this.runAction(cc.OrbitCamera.create(10,
1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.capabilities&&(r.setProjection(cc.Eb),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.capabilities&&(r.setProjection(cc.Qa),gl.disable(gl.DEPTH_TEST));this._super()}}),Xh=Z.extend({la:0,kf:0,d:"SpriteBatchNode: openGL Z vertex",h:"Scene should rotate",ctor:function(){this._super(cc.c4b(255,
0,0,80),cc.c4b(255,98,117,20));if("opengl"in sys.capabilities){var a=cc.ShaderCache.getInstance().getProgram(cc.Sd),b=a.getProgram(),c=gl.getUniformLocation(b,cc.UNIFORM_ALPHA_TEST_VALUE_S);gl.useProgram(b);a.setUniformLocationF32(c,0.5);b=u.width/12;c=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);c.setContentSize(cc.size(u.width,u.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(u.width/2,u.height/2));c.setShaderProgram(a);this.addChild(c,0,1);for(var d=0;5>d;d++)a=
cc.Sprite.createWithTexture(c.getTexture(),cc.rect(0,121,85,121)),a.setPosition(cc.p((d+1)*b,u.height/2)),a.setVertexZ(10+40*d),c.addChild(a,0);for(d=5;11>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(85,0,85,121)),a.setPosition(cc.p((d+1)*b,u.height/2)),a.setVertexZ(10+40*(10-d)),c.addChild(a,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.capabilities&&(r.setProjection(cc.Eb),
gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.capabilities&&(r.setProjection(cc.Qa),gl.disable(gl.DEPTH_TEST));this._super()}}),Yh=Z.extend({d:"Sprite: anchor point",ctor:function(){this._super();for(var a=0;3>a;a++){var b=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(b),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*a,121,85,121));c.setPosition(cc.p(u.width/
4*(a+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,10);switch(a){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());c.runAction(b);this.addChild(c,a)}}}),Zh=Z.extend({d:"SpriteBatchNode: anchor point",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,
1);for(var b=0;3>b;b++){var c=cc.RotateBy.create(10,360),c=cc.RepeatForever.create(c),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*b,121,85,121));d.setPosition(cc.p(u.width/4*(b+1),u.height/2));var f=cc.Sprite.create("res/Images/r1.png");f.setScale(0.25);f.setPosition(d.getPosition());this.addChild(f,1);switch(b){case 0:d.setAnchorPoint(cc.p(0,0));break;case 1:d.setAnchorPoint(cc.p(0.5,0.5));break;case 2:d.setAnchorPoint(cc.p(1,1))}f.setPosition(d.getPosition());d.runAction(c);a.addChild(d,
b)}}}),$h=Z.extend({d:"SpriteBatchNode transformation",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);a.ignoreAnchorPointForPosition(g);a.setAnchorPoint(cc.p(0.5,0.5));a.setContentSize(cc.size(u.width,u.height));for(var b=cc.RotateBy.create(5,360),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.RepeatForever.create(b),c=cc.ScaleBy.create(5,1.5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=u.width/4,
f=0;3>f;f++){var i=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*f,121,85,121));i.setPosition(cc.p((f+1)*d,u.height/2));var k=cc.RotateBy.create(5,360),k=cc.RepeatForever.create(k);i.runAction(k.copy());a.addChild(i,f)}a.runAction(c);a.runAction(b)}}),ai=Z.extend({d:"Sprite Flip X & Y",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(u.width/2-100,u.height/2));this.addChild(a,0,F);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(85,121,85,121));a.setPosition(cc.p(u.width/2+100,u.height/2));this.addChild(a,0,G);this.schedule(this.Pb,1)},Pb:function(){var a=this.getChildByTag(F),b=this.getChildByTag(G);a.setFlipX(!a.isFlippedX());b.setFlipY(!b.isFlippedY())}}),bi=Z.extend({d:"SpriteBatchNode Flip X & Y",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/
2-100,u.height/2));a.addChild(b,0,F);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2+100,u.height/2));a.addChild(b,0,G);this.schedule(this.Pb,1)},Pb:function(){var a=this.getChildByTag(1),b=a.getChildByTag(F),a=a.getChildByTag(G);b.setFlipX(!b.isFlippedX());a.setFlipY(!a.isFlippedY())}}),ci=Z.extend({d:"Sprite Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,
121,85,121));a.setPosition(cc.p(u.width/2-100,u.height/2));this.addChild(a,0,F);var b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2+100,u.height/2));this.addChild(b,0,G);var c=cc.ScaleBy.create(2,5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(c);b.runAction(d)},onEnter:function(){this._super();if("browser"==
sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(u.width/2,u.height/2))}else this.getChildByTag(F).getTexture().setAliasTexParameters()},onExit:function(){"browser"!=sys.platform&&this.getChildByTag(F).getTexture().setAntiAliasTexParameters();this._super()}}),di=Z.extend({d:"SpriteBatchNode Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",
10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2-100,u.height/2));a.addChild(b,0,F);var c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));c.setPosition(cc.p(u.width/2+100,u.height/2));a.addChild(c,0,G);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);b.runAction(a);
c.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(u.width/2,u.height/2))}else this.getChildByTag(1).getTexture().setAliasTexParameters()},onExit:function(){"browser"!=sys.platform&&this.getChildByTag(1).getTexture().setAntiAliasTexParameters();this._super()}}),ei=Z.extend({rc:j,ab:h,Jb:h,d:"Sprite New texture (tap)",ctor:function(){this._super();"touches"in
sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.addChild(cc.Node.create(),0,1);this.ab=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas.png");this.Jb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");this.rc=g;for(var a=0;30>a;a++)this.ld()},ld:function(){var a=cc.p(Math.random()*u.width,Math.random()*u.height),b=0|14*Math.random(),c=85*(b%5),d=121*(0|b/5),b=this.getChildByTag(1),c=cc.Sprite.createWithTexture(this.ab,
cc.rect(c,d,85,121));b.addChild(c);c.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);c.runAction(cc.RepeatForever.create(a))},Ob:function(){var a=this.getChildByTag(1).getChildren(),b,c;if(this.rc){for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.Jb)}this.rc=j}else{for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.ab)}this.rc=g}},
onTouchesEnded:function(){this.Ob()},onMouseDown:function(){this.Ob();return g}}),fi=Z.extend({ab:h,Jb:h,d:"SpriteBatchNode new texture (tap)",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50);this.addChild(a,0,1);this.ab=a.getTexture();this.Jb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");for(a=0;30>a;a++)this.ld()},
ld:function(){var a=cc.p(Math.random()*u.width,Math.random()*u.height),b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},Ob:function(){var a=this.getChildByTag(1);a.getTexture()==
this.ab?a.setTexture(this.Jb):a.setTexture(this.ab)},onTouchesEnded:function(){this.Ob()},onMouseDown:function(){this.Ob();return g}}),gi=Z.extend({O:h,S:h,Ea:0,d:"Sprite vs. SpriteBatchNode animation",h:"Testing issue #792",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");Y.addSpriteFrames("res/animations/grossini_blue.plist","res/animations/grossini_blue.png");this.O=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
this.O.setPosition(cc.p(u.width/2-80,u.height/2));var a=cc.SpriteBatchNode.create("res/animations/grossini.png");a.addChild(this.O);this.addChild(a);for(var a=[],b="",c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);c=cc.Animation.create(a,0.3);this.O.runAction(cc.RepeatForever.create(cc.Animate.create(c)));this.O.setFlipX(j);this.O.setFlipY(j);this.S=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.S.setPosition(cc.p(u.width/2+80,u.height/2));
this.addChild(this.S);for(var d=[],c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),d.push(b);for(c=1;5>c;c++)b="grossini_blue_0"+c+".png",b=Y.getSpriteFrame(b),d.push(b);d=d.concat(a);a=cc.Animation.create(d,0.3);this.S.runAction(cc.RepeatForever.create(cc.Animate.create(a)));this.S.setFlipX(j);this.S.setFlipY(j);this.schedule(this.te,0.5);this.Ea=0},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist");
Y.removeSpriteFramesFromFile("res/animations/grossini_blue.plist")},te:function(){this.unschedule(this.te);this.schedule(this.Pb,1)},Pb:function(){this.Ea++;var a=j,b=j;switch(this.Ea%4){case 0:b=a=j;break;case 1:a=g;b=j;break;case 2:a=j;b=g;break;case 3:b=a=g}this.O.setFlipX(a);this.O.setFlipY(b);this.S.setFlipX(a);this.S.setFlipY(b)}}),hi=Z.extend({d:"SpriteFrame Alias Name",h:"SpriteFrames are obtained using the alias name",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini-aliases.plist",
"res/animations/grossini-aliases.png");var a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(cc.p(u.width/2,u.height/2));var b=cc.SpriteBatchNode.create("res/animations/grossini-aliases.png");b.addChild(a);this.addChild(b);for(var b=[],c="",d=1;15>d;d++)c="dance_"+(10>d?"0"+d:d),c=Y.getSpriteFrame(c),b.push(c);b=cc.Animation.create(b,0.3);a.runAction(cc.RepeatForever.create(cc.Animate.create(b)))},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini-aliases.plist")}}),
ii=Z.extend({d:"Sprite offset + anchor + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,
0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;15>f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));b.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),
ji=Z.extend({d:"SpriteBatchNode offset + anchor + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");
d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;15>i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));c.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));a.addChild(c,
b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),ki=Z.extend({d:"Sprite offset + anchor + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/
4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));c=cc.ScaleBy.create(2,
2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),li=Z.extend({d:"SpriteBatchNode offset + anchor + scale",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist",
"res/animations/grossini_gray.png");for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+
(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.ScaleBy.create(2,2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),mi=Z.extend({d:"Sprite offset + anchor + skew",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,
1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),ni=Z.extend({d:"SpriteBatchNode offset + anchor + skew",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,
0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),k=f.reverse(),d=cc.Sequence.create(d,i,f,k);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),oi=Z.extend({d:"Sprite anchor + skew + scale",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,
1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));c=cc.ScaleBy.create(2,2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,
0)}}}),pi=Z.extend({d:"SpriteBatchNode anchor + skew + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);
d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),k=f.reverse(),d=cc.Sequence.create(d,
i,f,k);c.runAction(cc.RepeatForever.create(d));d=cc.ScaleBy.create(2,2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),qi=Z.extend({d:"Sprite offset + anchor + flip",h:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/
4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.FlipY.create(g),
f=cc.FlipY.create(j),d=cc.DelayTime.create(1),i=cc.DelayTime.create(1),c=cc.Sequence.create(d,c,i,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),ri=Z.extend({d:"SpriteBatchNode offset + anchor + flip",h:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>
b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),
d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.FlipY.create(g);i=cc.FlipY.create(j);f=cc.DelayTime.create(1);d=cc.Sequence.create(f,d,f.copy(),i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),si=Z.extend({d:"Sprite: Animation + flip",ctor:function(){this._super();var a=cc.TextureCache.getInstance().addImage("res/animations/dragon_animation.png"),b=cc.SpriteFrame.createWithTexture(a,cc.rect(0,0,132,132)),c=cc.SpriteFrame.createWithTexture(a,
cc.rect(132,0,132,132)),d=cc.SpriteFrame.createWithTexture(a,cc.rect(264,0,132,132)),f=cc.SpriteFrame.createWithTexture(a,cc.rect(396,0,132,132)),i=cc.SpriteFrame.createWithTexture(a,cc.rect(0,132,132,132)),k=cc.SpriteFrame.createWithTexture(a,cc.rect(132,132,132,132)),a=cc.Sprite.createWithSpriteFrame(b);a.setPosition(cc.p(u.width/2,u.height/2));this.addChild(a);var o=[];o.push(b);o.push(c);o.push(d);o.push(f);o.push(i);o.push(k);b=cc.Animation.create(o,0.2);b=cc.Animate.create(b);b=cc.Sequence.create(b,
cc.FlipX.create(g),b.copy(),cc.FlipX.create(j));a.runAction(cc.RepeatForever.create(b))},onExit:function(){this._super()}}),ti=Z.extend({qc:j,d:"Hybrid.Sprite* sprite Test",ctor:function(){this._super();var a=cc.Node.create(),b=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,Ja);this.addChild(b,0,1);Y.addSpriteFrames("res/animations/grossini.plist");for(b=1;250>=b;b++){var c=Math.round(14*Math.random());0===c&&(c=1);c=Y.getSpriteFrame("grossini_dance_"+(10>c?"0"+c:c)+
".png");c=cc.Sprite.createWithSpriteFrame(c);a.addChild(c,b,b);var d=-1E3,f=-1E3;0.2>Math.random()&&(d=Math.random()*u.width,f=Math.random()*u.height);c.setPosition(cc.p(d,f));d=cc.RotateBy.create(4,360);c.runAction(cc.RepeatForever.create(d))}this.qc=j;this.schedule(this.Fg,2)},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist")},Fg:function(){var a=this.getChildByTag(Ja),b=this.getChildByTag(1),c=[],d;this.qc&&(d=b,b=a,a=d);for(var f=a.getChildren(),i=0;i<
f.length;i++){d=f[i];if(!d)break;c.push(d)}a.removeAllChildren(j);for(i=0;i<c.length;i++){d=c[i];if(!d)break;b.addChild(d,i,i)}this.qc=!this.qc}}),ui=Z.extend({d:"SpriteBatchNode Grand Children",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);Y.addSpriteFrames("res/animations/grossini.plist");var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/3,u.height/2));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(50,50));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-50,-50));a.addChild(b);b.addChild(c);b.addChild(d);for(var a=[],f="",d=1;15>d;d++)f="grossini_dance_"+(10>d?"0"+d:d)+".png",f=Y.getSpriteFrame(f),a.push(f);a=cc.Animation.create(a,0.2);b.runAction(cc.RepeatForever.create(cc.Animate.create(a)));var a=cc.MoveBy.create(2,cc.p(200,0)),d=a.reverse(),f=cc.RotateBy.create(2,360),i=cc.ScaleBy.create(2,2),k=i.reverse(),o=f.reverse();
c.runAction(cc.RepeatForever.create(o));b.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(cc.Sequence.create(a,d)));b.runAction(cc.RepeatForever.create(cc.Sequence.create(i,k)))},onExit:function(){this._super()}}),vi=Z.extend({d:"SpriteBatchNode Children Z",ctor:function(){this._super();var a,b,c,d;Y.addSpriteFrames("res/animations/grossini.plist");a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(u.width/3,u.height/2));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,2);b.addChild(d,-2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(2*u.width/3,u.height/2));
c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/2-90,u.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(u.width/2-60,u.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(u.width/2-30,u.height/4));a.addChild(b,10);a.addChild(c,-10);a.addChild(d,-5);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/2+30,u.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(u.width/2+60,u.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(u.width/2+90,u.height/4));a.addChild(b,-10);a.addChild(c,-5);a.addChild(d,-2)},onExit:function(){this._super()}}),wi=Z.extend({d:"Sprite & SpriteBatchNode Visibility",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);a.setPosition(cc.p(u.width/3,u.height/2));this.addChild(a,
0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10));a=cc.Node.create();a.setPosition(cc.p(2*u.width/3,u.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10))},onExit:function(){this._super()}}),xi=Z.extend({d:"Sprite & SpriteBatchNode Visibility",h:"No sprites should be visible",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);a.setPosition(cc.p(u.width/3,u.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,
2);a=cc.Node.create();a.setPosition(cc.p(2*u.width/3,u.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2)}}),yi=Z.extend({d:"Sprite: children + anchor",
ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.Node.create();this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/4,u.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));
f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2,u.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2+u.width/4,u.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10)},onExit:function(){this._super()}}),zi=Z.extend({d:"SpriteBatchNode: children + anchor",
ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/4,u.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2,u.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/
2+u.width/4,u.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);
c.setPosition(b.getPosition());this.addChild(c,10)},onExit:function(){this._super()}}),Ai=Z.extend({d:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini_family.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=cc.Node.create(),c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(u.width/4,u.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));
b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*u.width/4,u.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);
a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.Node.create();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(u.width/4,2*u.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");
c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*u.width/4,2*u.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b)}}),Bi=Z.extend({d:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),
a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.Node.create();this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));d.setPosition(cc.p(u.width/2,u.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+
f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,
-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),Ci=Z.extend({d:"SpriteBatchNode multiple levels of children",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.addChild(a);
var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));d.setPosition(cc.p(u.width/2,u.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=
a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));
a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),Di=Z.extend({d:"Sprite without texture",h:"opacity and color should work",ctor:function(){this._super();var a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.c3b(255,0,0));a.setOpacity(128);a.setPosition(cc.p(3*u.width/4,u.height/2));this.addChild(a,100);a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.c3b(0,0,255));a.setOpacity(128);a.setPosition(cc.p(u.width/
4,u.height/2));this.addChild(a,100)}}),Ei=cc.Sprite.extend({hf:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});Ei.Rg=function(){var a=Y.getSpriteFrame("father.gif"),b=new Ei;b.initWithSpriteFrame(a);return b};var Fi=cc.Sprite.extend({hf:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});Fi.Qg=function(){var a=new Fi;a.init("res/Images/grossini.png");return a};
var Gi=Z.extend({d:"Sprite subclass",h:"Testing initWithTexture:rect method",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png"),b=Ei.Rg();b.setPosition(cc.p(u.width/4,u.height/2));a.addChild(b);this.addChild(a);a=Fi.Qg();this.addChild(a);a.setPosition(cc.p(3*(u.width/4),u.height/2))}}),Hi=Z.extend({d:"AnimationCache",h:"Sprite should be animated",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist");Y.addSpriteFrames("res/animations/grossini_blue.plist");var a=[],b;b="";for(var c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance");a=[];for(c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_gray");a=
[];for(c=1;4>c;c++)b="grossini_blue_0"+c+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_blue");b=cc.AnimationCache.getInstance();c=b.getAnimation("dance");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_gray");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_blue");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,a,b);b=Y.getSpriteFrame("grossini_dance_01.png");
b=cc.Sprite.createWithSpriteFrame(b);b.setPosition(cc.p(u.width/2,u.height/2));this.addChild(b);b.runAction(a)}}),Ii=Z.extend({ma:h,O:h,S:h,ta:h,Ia:h,Ja:h,d:"node sort same index",h:"tag order in console should be 2,1,3,4,5",ctor:function(){this._super();this.ma=cc.Node.create();this.addChild(this.ma,0,0);this.O=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.O.setPosition(cc.p(100,160));this.ma.addChild(this.O,-6,1);this.S=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,
64,64));this.S.setPosition(cc.p(164,160));this.ma.addChild(this.S,-6,2);this.Ia=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Ia.setPosition(cc.p(292,160));this.ma.addChild(this.Ia,-3,4);this.ta=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.ta.setPosition(cc.p(228,160));this.ma.addChild(this.ta,-4,3);this.Ja=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Ja.setPosition(cc.p(356,160));this.ma.addChild(this.Ja,-3,5);this.schedule(this.ka)},
ka:function(){this.unschedule(this.ka);cc.log("Before reorder--");for(var a=0,b,c=this.ma.getChildren(),a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder());this.ma.reorderChild(this.ma.getChildren()[0],-6);this.ma.sortAllChildren();cc.log("After reorder--");c=this.ma.getChildren();for(a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder())}}),Ji=Z.extend({m:h,O:h,S:h,ta:h,Ia:h,Ja:h,d:"SpriteBatchNodeReorder same index",h:"tag order in console should be 2,3,4,5,1",
ctor:function(){this._super();this.m=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.m,1,0);this.O=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.O.setPosition(cc.p(100,160));this.m.addChild(this.O,3,1);this.S=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.S.setPosition(cc.p(164,160));this.m.addChild(this.S,4,2);this.ta=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.ta.setPosition(cc.p(228,
160));this.m.addChild(this.ta,4,3);this.Ia=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.Ia.setPosition(cc.p(292,160));this.m.addChild(this.Ia,5,4);this.Ja=cc.Sprite.createWithTexture(this.m.getTexture(),cc.rect(128,0,64,64));this.Ja.setPosition(cc.p(356,160));this.m.addChild(this.Ja,6,5);this.scheduleOnce(this.ka,2)},ka:function(){this.m.reorderChild(this.Ia,4);this.m.reorderChild(this.Ja,4);this.m.reorderChild(this.O,4);this.m.sortAllChildren();for(var a=this.m.getDescendants(),
b=0;b<a.length;b++)cc.log("tag:"+a[b].getTag())}}),Ki=Z.extend({m:h,gd:h,d:"SpriteBatchNode reorder 1 child",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.m=a;this.addChild(a);var b=cc.Sprite.createWithSpriteFrameName("father.gif");b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrameName("sister1.gif");d.setPosition(cc.p(-10+c.width/2,0+c.height/
2));b.addChild(d,1);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrameName("sister2.gif");a.setPosition(cc.p(50+c.width/2,0+c.height/2));b.addChild(a,2);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,1);c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,2);this.gd=d;d=cc.Sprite.createWithSpriteFrameName("child1.gif");
d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d);this.scheduleOnce(this.ka,2)},ka:function(){this.gd.getParent().reorderChild(this.gd,-1);this.m.sortAllChildren()}}),Li=Z.extend({d:"SpriteBatchNode + children + skew",h:"SpriteBatchNode skew + negative scale with children",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");
a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),k=i.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,i,k);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));d.setScale(0.8);c.addChild(d);a.addChild(c,b)}}}),Mi=Z.extend({d:"Sprite + children + skew",h:"Sprite skew + negative scale with children",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");a=cc.Node.create();this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),k=i.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,i,k);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));c.addChild(d);d.setScale(0.8);a.addChild(c,b)}}}),Ni=cc.Sprite.extend({Od:j,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)},
initWithTexture:function(a,b){return this._super(a,b)?g:j},setContentSize:function(a){a=cc.size(a.width,a.height);2==cc.CONTENT_SCALE_FACTOR()&&!this.Od&&(a.width*=2,a.height*=2);this._super(a)},setVertexRect:function(a){2==cc.CONTENT_SCALE_FACTOR()&&!this.Od&&(a.size.width*=2,a.size.height*=2);this._super(a)}});Ni.create=function(a){var b=new Ni;b.init(a);return b};
var Oi=Z.extend({d:"Sprite Double resolution",h:"Retina Display. SD (left) should be equal to HD (right)",ctor:function(){this._super();var a=Ni.create("res/Images/grossini_dance_08.png");this.addChild(a);a.setPosition(cc.p(u.width/4,u.height/2));var b=Ni.create("res/Images/grossini_dance_08.png");a.addChild(b);b.setPosition(cc.p(-30,0));var c=cc.Sprite.create("res/Images/grossini.png");a.addChild(c);b.setPosition(cc.p(a.getContentSize().height,0));b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);
b.setPosition(cc.p(3*(u.width/4),u.height/2));c=Ni.create("res/Images/grossini_dance_08.png");b.addChild(c);c.setPosition(cc.p(-30,0));var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);c.setPosition(cc.p(b.getContentSize().height,0));c=cc.ScaleBy.create(2,0.5);d=c.reverse();c=cc.Sequence.create(c,d);d=c.copy();a.runAction(c);b.runAction(d)}}),Pi=Z.extend({d:"AnimationCache - Load file",h:"Sprite should be animated",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");
a.addSpriteFrames("res/animations/grossini_gray.plist");a.addSpriteFrames("res/animations/grossini_blue.plist");cc.AnimationCache.purgeSharedAnimationCache();var b=cc.AnimationCache.getInstance();b.addAnimations("res/animations/animations.plist");var c=b.getAnimation("dance_1");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_2");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_3");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,
a,b);b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/2,u.height/2));this.addChild(b);b.runAction(a)}}),Qi=Z.extend({d:"SpriteBatch - Bug 1217",h:"Adding big family to spritebatch. You shall see 3 heads",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15),b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),d=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,0,57,57));b.setColor(cc.c3b(255,0,0));c.setColor(cc.c3b(0,255,0));d.setColor(cc.c3b(0,0,255));b.setPosition(cc.p(20,200));c.setPosition(cc.p(100,0));d.setPosition(cc.p(100,0));a.setPosition(cc.p(0,0));b.addChild(c);c.addChild(d);a.addChild(b);this.addChild(a)}}),Ri=Z.extend({d:"Texture Color Cache Issue Test",h:"You should see two different sprites colored green and blue",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist",
"res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(u.width/3),u.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(u.width/3),u.height/2);this.addChild(a);this.addChild(b);a.setColor(cc.c3b(1,255,1));b.setColor(cc.c3b(1,1,255))}}),Si=Z.extend({d:"Texture Color Cache Issue Test #2",h:"You should see two different sprites magenta and yellow",
ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist","res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(u.width/3),u.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(u.width/3),u.height/2);this.addChild(a);this.addChild(b);for(var c=0;10>
c;++c)b.setColor(cc.c3b(128,128,128+c)),a.setColor(cc.c3b(128,128,128+c));a.setColor(cc.c3b(255,255,0));b.setColor(cc.c3b(255,0,255))}}),Ti=Z.extend({d:"Sub Sprite (rotated source)",h:"createWithSpriteFrameName(); sub sprite",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");var a=cc.Sprite.createWithSpriteFrameName("blocks9r.png"),b=u.width/2,c=0+u.height/2;a.setTextureRect(cc.rect(32,32,32,32),g,cc.rect(32,32,32,32));a.setPosition(cc.p(b,
c));this.addChild(a)}}),Ca=w.extend({C:function(){Ih=-1;this.addChild(Kh());r.replaceScene(this)}}),Jh=[Mh,Nh,gi,hi,Yh,Zh,ii,ji,ki,li,si,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh,Xh,$h,ai,bi,ci,di,ei,fi,ti,ui,vi,wi,xi,yi,zi,Ai,Bi,Ci,Di,Gi,Hi,mi,ni,oi,pi,qi,ri,Ji,Ki,Ii,Mi,Li,Oi,Qi,Pi,Ri,Si,Ti];function Kh(){Ih++;Ih%=Jh.length;return new Jh[Ih]}function Lh(){Ih--;0>Ih&&(Ih+=Jh.length);return new Jh[Ih]};var P=-1,Y=cc.SpriteFrameCache.getInstance(),Xi=cc.LayerGradient.extend({d:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");cc.log("sprite frames added to sprite frame cache...")},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.d,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(u.width/2,u.height-50));""!==this.h&&(a=
cc.LabelTTF.create(this.h,"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(u.width/2,u.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.D,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.G,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.F,this),d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));var f=b.getContentSize();a.setPosition(cc.p(u.width/2-2*f.width,f.height/2));b.setPosition(cc.p(u.width/2,f.height/
2));c.setPosition(cc.p(u.width/2+2*f.width,f.height/2));this.addChild(d,1)},onExit:function(){this._super()},G:function(){var a=new Da;a.addChild(new Ui[P]);r.replaceScene(a)},F:function(){var a=new Da;a.addChild(Vi());r.replaceScene(a)},D:function(){var a=new Da;a.addChild(Wi());r.replaceScene(a)}}),Yi=Xi.extend({d:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeBasic ...");
var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeBasic done.")}}),Zi=Xi.extend({d:"Scale9Sprite from sprite sheet",h:"createWithSpriteFrameName(); default cap insets",
ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheet ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheet done.")}}),$i=Xi.extend({d:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;
cc.log("S9FrameNameSpriteSheetRotated ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotated done.")}}),aj=Xi.extend({d:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeScaledNoInsets ...");
var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");d.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(d);cc.log("this..addChild");cc.log("... S9BtchNodeScaledNoInsets done.")}}),bj=Xi.extend({d:"Scale9Sprite from sprite sheet",
h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetScaledNoInsets done.")}}),cj=
Xi.extend({d:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");
cc.log("... S9FrameNameSpriteSheetRotatedScaledNoInsets done.")}}),dj=Xi.extend({d:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeScaleWithCapInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled_with_insets created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,
cc.rect(0,0,96,96),j,cc.rect(32,32,32,32));cc.log("... updateWithBatchNode");d.setContentSize(cc.size(432,240));cc.log("... setContentSize");d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeScaleWithCapInsets done.")}}),ej=Xi.extend({d:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetInsets ...");
var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsets done.")}}),fj=Xi.extend({d:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetInsetsScaled ...");
var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,240));cc.log("... setContentSize");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsetsScaled done.")}}),gj=Xi.extend({d:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/
2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png",cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsets done.")}}),hj=Xi.extend({d:"Scale9Sprite from a spritesheet created with TexturePacker",h:"createWithSpriteFrameName('button_normal.png');createWithSpriteFrameName('button_actived.png');",
ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/ui.plist");var a=u.width/4,b=0+u.height/2;cc.log("S9_TexturePacker ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("button_normal.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");a=3*u.width/4;c=cc.Scale9Sprite.createWithSpriteFrameName("button_actived.png");cc.log("... created");
c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9_TexturePacker done.")}}),ij=Xi.extend({d:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",
cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,240));cc.log("... setContentSize");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsetsScaled done.")}}),Da=w.extend({C:function(){P=-1;this.addChild(Vi());r.replaceScene(this)}}),Ui=[Yi,Zi,$i,aj,bj,cj,dj,ej,fj,gj,ij,hj];function Vi(){P++;P%=Ui.length;return new Ui[P]}function Wi(){P--;0>P&&(P+=Ui.length);return new Ui[P]};var fa=40,Ff=1E3,kj=[{wc:"CCControlButtonTest",s:function(){var a=ControlSceneManager.getInstance().Kt();cc.Director.getInstance().replaceScene(a)}},{wc:"CocosBuilderTest",s:function(){var a=new CocosBuilderTestScene;a&&a.C()}},{wc:"TableViewTest",s:function(){var a=cc.Scene.create(),b=jj.create();a.addChild(b);cc.Director.getInstance().replaceScene(a)}},{wc:"EditBoxTest",s:function(){runEditBoxTest()}}],lj=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer)},onEnter:function(){this._super();
var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);for(var c=0;c<kj.length;++c){var d=cc.MenuItemFont.create(kj[c].wc,this.wd,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*fa));b.addChild(d,Ff+c)}this.addChild(b)},wd:function(a){a=a.getZOrder()-Ff;kj[a].s()}}),pa=w.extend({C:function(){this.addChild(new lj);cc.Director.getInstance().replaceScene(this)}});var mj=cc.TableViewCell.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.TableViewCell)},draw:function(a){this._super(a)}}),jj=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer)},init:function(){if(!this._super())return j;var a=cc.Director.getInstance().getWinSize(),b=cc.TableView.create(this,cc.size(600,60));b.setDirection(cc.SCROLLVIEW_DIRECTION_HORIZONTAL);b.setPosition(cc.p(20,a.height/2-150));b.setDelegate(this);this.addChild(b);b.reloadData();
b=cc.TableView.create(this,cc.size(60,350));b.setDirection(cc.SCROLLVIEW_DIRECTION_VERTICAL);b.setPosition(cc.p(a.width-150,a.height/2-150));b.setDelegate(this);b.setVerticalFillOrder(cc.TABLEVIEW_FILL_TOPDOWN);this.addChild(b);b.reloadData();b=cc.MenuItemFont.create("Back",this.bh,this);b.setPosition(cc.p(a.width-50,25));a=cc.Menu.create(b);a.setPosition(cc.p(0,0));this.addChild(a);return g},bh:function(){(new pa).C()},scrollViewDidScroll:l(),scrollViewDidZoom:l(),tableCellTouched:function(a,b){cc.log("cell touched at index: "+
b.getIdx())},cellSizeForTable:function(){return cc.size(60,60)},tableCellAtIndex:function(a,b){var c=b.toFixed(0),d=a.dequeueCell(),f;d?(f=d.getChildByTag(123),f.setString(c)):(d=new mj,f=cc.Sprite.create("res/Images/Icon.png"),f.setAnchorPoint(cc.p(0,0)),f.setPosition(cc.p(0,0)),d.addChild(f),f=cc.LabelTTF.create(c,"Helvetica",20),f.setPosition(cc.p(0,0)),f.setAnchorPoint(cc.p(0,0)),f.setTag(123),d.addChild(f));return d},numberOfCellsInTableView:m(25)});
jj.create=function(){var a=new jj;return a&&a.init()?a:h};var X=1,nj=-1,$=x.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},title:m("No title"),e:m("drag the screen"),G:function(){var a=new Ea;a.addChild(new oj[nj]);r.replaceScene(a)},F:function(){var a=new Ea;a.addChild(pj());r.replaceScene(a)},D:function(){var a=new Ea;a.addChild(qj());r.replaceScene(a)},onTouchesMoved:function(a){var b=a[0].getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},
onMouseDragged:function(a){var b=a.getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},M:function(){return oj.length-1-nj},I:function(){return nj}});
$.extend({ctor:function(){this._super();var a=cc.cf.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);a.getTexture().setAntiAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);a.releaseMap();this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0.5));var b=cc.ScaleBy.create(4,0.8),c=b.reverse(),b=cc.Sequence.create(b,c);a.runAction(cc.RepeatForever.create(b))},title:m("TileMapAtlas")});
$.extend({ctor:function(){this._super();var a=cc.cf.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);a.getTexture().setAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);this.schedule(this.gh,0.2);this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0));a.setPosition(cc.p(-20,-200))},title:m("Editable TileMapAtlas"),gh:function(){var a=this.getChildByTag(X),b=a.getTileAt(cc.g(13,21));b.r++;b.r%=50;0==b.r&&(b.r=1);a.setTile(b,cc.g(13,21))}});
var rj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test1.tmx");this.addChild(a,0,X);a.runAction(cc.ScaleBy.create(2,0.5))},title:m("TMX Ortho test")}),sj=$.extend({ctor:function(){this._super();this.addChild(cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx"),0,X)},title:m("TMX Orthogonal test 2"),onEnter:function(){this._super();r.setProjection(cc.Eb)},onExit:function(){this._super();r.setProjection(cc.Qa)}}),tj=$.extend({ctor:function(){this._super();
var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test3.tmx");this.addChild(a,0,X);a.setScale(0.2);a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX anchorPoint test")}),uj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test4.tmx");this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0));var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c;c=a.getTileAt(cc.p(0,0));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,0));c.setScale(2);c=a.getTileAt(cc.p(0,b.height-1));c.setScale(2);
c=a.getTileAt(cc.p(b.width-1,b.height-1));c.setScale(2);this.schedule(this.Gc,2)},Gc:function(){this.unschedule(this.Gc);var a=this.getChildByTag(X).getLayer("Layer 0"),b=a.getLayerSize(),b=a.getTileAt(cc.p(b.width-1,0));a.removeChild(b,g)},title:m("TMX width/height test")}),vj=$.extend({du:0,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getLayer("Layer 0");a.setScale(1);var a=b.getTileAt(cc.p(1,63)),
c=b.getTileAt(cc.p(2,63)),d=b.getTileAt(cc.p(3,62)),f=b.getTileAt(cc.p(2,62));a.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(0.5,0.5));d.setAnchorPoint(cc.p(0.5,0.5));f.setAnchorPoint(cc.p(0.5,0.5));var i=cc.MoveBy.create(0.5,cc.p(0,160)),k=cc.RotateBy.create(2,360),o=cc.ScaleBy.create(2,5),q=cc.FadeOut.create(2),v=cc.FadeIn.create(2),p=cc.ScaleTo.create(1,1),t=cc.CallFunc.create(this.Gc),i=cc.Sequence.create(i,k,o,q,v,p,t);a.runAction(i);c.runAction(i.copy());d.runAction(i.copy());f.runAction(i.copy());
b.getTileGIDAt(cc.p(0,63));this.schedule(this.fh,2);this.schedule(this.Eg,2);this.schedule(this.Ae,1);this.sd=0},Gc:function(a){var b=a.getParent();b&&b.removeChild(a,g)},fh:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.setTileGID(this.sd,cc.p(3,c));this.sd=(this.sd+1)%80},Eg:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.width;c++){var d=b.height-1,f=a.getTileGIDAt(cc.p(c,d));a.setTileGID(f+1,cc.p(c,d))}},
Ae:function(){this.unschedule(this.Ae);for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.removeTileAt(cc.p(5,c))},title:m("TMX Read/Write test")}),wj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);this.addChild(cc.TMXTiledMap.create("res/TileMaps/hexa-test.tmx"),0,X)},title:m("TMX Hex test")}),xj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test.tmx");
this.addChild(a,0,X);var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 0")}),yj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test1.tmx");this.addChild(a,0,X);a.getContentSize();a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX Isometric test + anchorPoint")}),zj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,
64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 2")}),Aj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2-uncompressed.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),
c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)));for(var a=a.getChildren(),b=h,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;b.releaseMap()}},title:m("TMX Uncompressed test")}),Bj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize()},title:m("TMX Tileset test")}),Cj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-objects.tmx");
this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),b=0;b<a.length;b++){var c=a[b];if(!c)break;var d=c.x,f=c.y,i=c.width,c=c.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(d,
f),cc.p(d+i,f));cc.drawingUtil.drawLine(cc.p(d+i,f),cc.p(d+i,f+c));cc.drawingUtil.drawLine(cc.p(d+i,f+c),cc.p(d,f+c));cc.drawingUtil.drawLine(cc.p(d,f+c),cc.p(d,f));cc.renderContext.lineWidth=1}},title:m("TMX Ortho object test"),e:m("You should see a white box around the 3 platforms")}),Dj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-objectgroup.tmx");this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,
c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},title:m("TMX Iso object test"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,k=b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+k,i));cc.drawingUtil.drawLine(cc.p(f+
k,i),cc.p(f+k,i+b));cc.drawingUtil.drawLine(cc.p(f+k,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}},e:m("You need to parse them manually. See bug #810")}),Ej=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize();for(var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c=0;c<b.height;c++)for(var d=0;d<b.width;d++)a.setTileGID(1,cc.p(d,c))},title:m("TMX resize test"),
e:m("Should not crash. Testing issue #740")}),Fj=$.extend({J:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-zorder.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.J=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.J,a.getChildren().length);this.J.setPosition(a.getMapSize().width*a.getTileSize().width/2,0);this.J.setAnchorPoint(cc.p(0.5,0));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();
a=cc.Sequence.create(a,b);this.J.runAction(cc.RepeatForever.create(a));this.schedule(this.Lc)},title:m("TMX Iso Zorder"),e:m("Sprite should hide behind the trees"),onExit:function(){this.unschedule(this.Lc);this._super()},Lc:function(){var a=this.J.getPosition(),b=this.getChildByTag(X),a=4-a.y/48,a=parseInt(Math.max(a,0),10);b.reorderChild(this.J,a)}}),Gj=$.extend({J:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-zorder.tmx");this.addChild(a,0,X);a.getContentSize();
this.J=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.J,a.getChildren().length,X);this.J.setAnchorPoint(cc.p(0.5,0));var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.J.runAction(cc.RepeatForever.create(a));this.schedule(this.Lc)},title:m("TMX Ortho Zorder"),e:m("Sprite should hide behind the trees"),Lc:function(){var a=this.J.getPosition(),b=this.getChildByTag(X),a=4-(a.y-10)/81,a=Math.max(a,0);b.reorderChild(this.J,a)}}),Hj=$.extend({J:h,
Du:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-vertexz.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.J=a.getLayer("Trees").getTileAt(cc.p(29,29));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();a=cc.Sequence.create(a,b);this.J.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},title:m("TMX Iso VertexZ"),e:m("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.Qa)},
onExit:function(){this._super()},update:function(){this.J.setVertexZ(-((this.J.getPosition().y+32)/16))}}),Ij=$.extend({J:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-vertexz.tmx");this.addChild(a,0,X);a.getContentSize();this.J=a.getLayer("trees").getTileAt(cc.p(0,11));this.log("vertexZ: "+this.J.getVertexZ());var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.J.runAction(cc.RepeatForever.create(a));this.scheduleUpdate();
this.log("DEPTH BUFFER MUST EXIST IN ORDER")},title:m("TMX Ortho vertexZ"),e:m("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.Qa)},onExit:function(){this._super()},update:function(){this.J.setVertexZ(-((this.J.getPosition().y+81)/81))}}),Jj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-movelayer.tmx");this.addChild(a,0,X);a.setPosition(cc.p(-700,-50));a.getContentSize()},title:m("TMX Iso Move Layer"),e:m("Trees should be horizontally aligned")}),
Kj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-movelayer.tmx");this.addChild(a,0,X);a.getContentSize()},title:m("TMX Ortho Move Layer"),e:m("Trees should be horizontally aligned")}),Lj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-tile-property.tmx");this.addChild(a,0,X);if("browser"==sys.platform)for(var b=1;20>=b;b++)this.log("GID:"+b+", Properties:"+JSON.stringify(a.propertiesForGID(b)));else this.log("Test not supported on JSB")},
title:m("TMX Tile Property Test"),e:m("In the console you should see tile properties")}),Mj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b)},title:m("TMX tile flip test")}),Nj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=
a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b);this.schedule(this.Sf,1)},title:m("TMX tile flip run time test"),e:m("in 2 sec bottom left tiles will flip"),Sf:function(){var a=this.getChildByTag(X).getLayer("Layer 0"),b=cc.p(1,10),c=a.getTileFlagsAt(b),d=a.getTileGIDAt(b),c=(c&cc.Va)>>>0?(c&~cc.Va>>>0)>>>0:(c|cc.Va)>>>0;a.setTileGID(d,b,c);b=cc.p(1,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.Va)>>>0?(c&~cc.Va>>>0)>>>0:(c|cc.Va)>>>
0;a.setTileGID(d,b,c);b=cc.p(2,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.hc)>>>0?(c&~cc.hc>>>0)>>>0:(c|cc.hc)>>>0;a.setTileGID(d,b,c)}}),Oj=$.extend({ctor:function(){this._super();this.log("Test not available")},title:m("TMX created from XML test"),e:m("Test not available")}),Pj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test6.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);for(var b=a.getChildren(),
c=h,d=0,f=b.length;d<f&&!(c=b[d],!c);d++);a.setAnchorPoint(cc.p(0,0));a.getLayer("Tile Layer 1").setTileGID(3,cc.p(2,2))},title:m("TMX Bug 987"),e:m("You should see an square")}),Qj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-bug787.tmx");this.addChild(a,0,X);a.setScale(0.25)},title:m("TMX Bug 787"),e:m("You should see a map")}),Rj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/test-object-layer.tmx");this.addChild(a,
-1,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);this.log("---. Iterating over all the group objets");for(var a=a.getObjectGroup("Object Layer 1").getObjects(),c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},title:m("TMX GID objects"),e:m("Tiles are created from an object group"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Layer 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,k=
b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+k,i));cc.drawingUtil.drawLine(cc.p(f+k,i),cc.p(f+k,i+b));cc.drawingUtil.drawLine(cc.p(f+k,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}}}),Ea=w.extend({C:function(){nj=-1;this.addChild(pj());r.replaceScene(this)}}),oj=[rj,sj,tj,uj,vj,wj,xj,yj,zj,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj,Lj,Mj,Nj,Oj,Pj,Qj,Rj];
function pj(){nj++;nj%=oj.length;return new oj[nj]}function qj(){nj--;0>nj&&(nj+=oj.length);return new oj[nj]};TRANSITION_DURATION=1.2;
var ek=[{title:"JumpZoomTransition",Q:function(a,b){return new Sj(a,b)}},{title:"TransitionProgressRadialCCW",Q:function(a,b){return cc.TransitionProgressRadialCCW.create(a,b)}},{title:"TransitionProgressRadialCW",Q:function(a,b){return cc.TransitionProgressRadialCW.create(a,b)}},{title:"TransitionProgressHorizontal",Q:function(a,b){return cc.TransitionProgressHorizontal.create(a,b)}},{title:"TransitionProgressVertical",Q:function(a,b){return cc.TransitionProgressVertical.create(a,b)}},{title:"TransitionProgressInOut",
Q:function(a,b){return cc.TransitionProgressInOut.create(a,b)}},{title:"TransitionProgressOutIn",Q:function(a,b){return cc.TransitionProgressOutIn.create(a,b)}},{title:"FadeTransition",Q:function(a,b){return new Tj(a,b)}},{title:"FadeWhiteTransition",Q:function(a,b){return new Uj(a,b)}},{title:"ShrinkGrowTransition",Q:function(a,b){return new Vj(a,b)}},{title:"RotoZoomTransition",Q:function(a,b){return new Wj(a,b)}},{title:"MoveInLTransition",Q:function(a,b){return new Xj(a,b)}},{title:"MoveInRTransition",
Q:function(a,b){return new Yj(a,b)}},{title:"MoveInTTransition",Q:function(a,b){return new Zj(a,b)}},{title:"MoveInBTransition",Q:function(a,b){return new $j(a,b)}},{title:"SlideInLTransition",Q:function(a,b){return new ak(a,b)}},{title:"SlideInRTransition",Q:function(a,b){return new bk(a,b)}},{title:"SlideInTTransition",Q:function(a,b){return new ck(a,b)}},{title:"SlideInBTransition",Q:function(a,b){return new dk(a,b)}}],fk=0,Fa=w.extend({C:function(){this.addChild(new gk);r.replaceScene(this)}}),
hk=x.extend({u:TRANSITION_DURATION+0.1,title:function(){return ek[fk].title},ctor:function(){this._super(this.fe,this.ge);var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create(this.backgroundImage);d.setPosition(c.width/2,c.height/2);d.setScale(1.7);this.addChild(d);c=cc.LabelTTF.create(this.title(),"Thonburi",32);this.addChild(c);c.setColor(cc.c3b(255,32,32));c.setPosition(a/2,b-100);c=cc.LabelTTF.create(this.Db,"Marker Felt",38);c.setColor(cc.c3b(16,16,255));c.setPosition(a/2,b/2);
this.addChild(c);this.schedule(this.step,1)},G:function(){var a=new Fa,b=this.sc();a.addChild(b);(a=ek[fk].Q(TRANSITION_DURATION,a))&&r.replaceScene(a)},F:function(){fk++;fk%=ek.length;var a=new Fa,b=this.sc();a.addChild(b);(a=ek[fk].Q(TRANSITION_DURATION,a))&&r.replaceScene(a)},D:function(){fk--;0>fk&&(fk+=ek.length);var a=new Fa,b=this.sc();a.addChild(b);(a=ek[fk].Q(TRANSITION_DURATION,a))&&r.replaceScene(a)},step:l(),onEnter:function(){this._super();this.log(""+this.Db+" onEnter")},onEnterTransitionDidFinish:function(){this._super();
this.log(""+this.Db+" onEnterTransitionDidFinish")},onExitTransitionDidStart:function(){this._super();this.log(""+this.Db+" onExitTransitionDidStart")},onExit:function(){this._super();this.log(""+this.Db+" onExit")},M:function(){return ek.length-1-fk},I:function(){return fk}}),gk=hk.extend({backgroundImage:"res/Images/background1.png",fe:cc.c4b(0,0,0,255),ge:cc.c4b(160,99,117,255),Db:"Scene 1",sc:function(){return new ik}}),ik=hk.extend({backgroundImage:"res/Images/background2.png",fe:cc.c4b(0,0,
0,255),ge:cc.c4b(99,160,117,255),Db:"Scene 2",sc:function(){return new gk}});function Sj(a,b){return cc.TransitionJumpZoom.create(a,b)}function Tj(a,b){return cc.TransitionFade.create(a,b)}function Uj(a,b){return cc.TransitionFade.create(a,b,cc.c3b(255,255,255))}function Vj(a,b){return cc.TransitionShrinkGrow.create(a,b)}function Wj(a,b){return cc.TransitionRotoZoom.create(a,b)}function Xj(a,b){return cc.TransitionMoveInL.create(a,b)}function Yj(a,b){return cc.TransitionMoveInR.create(a,b)}
function Zj(a,b){return cc.TransitionMoveInT.create(a,b)}function $j(a,b){return cc.TransitionMoveInB.create(a,b)}function ak(a,b){return cc.TransitionSlideInL.create(a,b)}function bk(a,b){return cc.TransitionSlideInR.create(a,b)}function ck(a,b){return cc.TransitionSlideInT.create(a,b)}function dk(a,b){return cc.TransitionSlideInB.create(a,b)};var jk=-1,nk=x.extend({d:"",h:"",G:function(){var a=new Ga;a.addChild(new kk[jk]);r.replaceScene(a)},F:function(){var a=new Ga;a.addChild(lk());r.replaceScene(a)},D:function(){var a=new Ga;a.addChild(mk());r.replaceScene(a)},M:function(){return kk.length-1-jk},I:function(){return jk}}),ok=nk.extend({d:"Rect Unit Test",h:"See console for possible errors",onEnter:function(){this._super();this.Vb()},Vb:function(){var a=[],b,c;this.log("Test 1: rectIntersectsRect 1");b=cc.rect(0,0,5,10);c=cc.rect(4,9,
5,10);(b=cc.rectIntersectsRect(b,c))||e("Fail rectIntersectsRect 1");a.push(b);this.log("Test 2: rectIntersectsRect 2");b=cc.rect(0,0,5,10);c=cc.rect(40,90,5,10);(b=cc.rectIntersectsRect(b,c))&&e("Fail rectIntersectsRect 2");a.push(b);this.log("Test 3: rectIntersection");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.rectIntersection(b,c);(b=cc.rectEqualToRect(b,cc.rect(4,9,1,1)))||e("Fail rectIntersection");a.push(b);this.log("Test 4: rectUnion");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.rectUnion(b,
c);(b=cc.rectEqualToRect(b,cc.rect(0,0,9,19)))||e("Fail rectUnion");a.push(b);this.log("Test 5: rectContainsPoint 1");b=cc.rect(0,0,5,10);c=cc.p(1,1);(b=cc.rectContainsPoint(b,c))||e("Fail rectContainsPoint 1");a.push(b);this.log("Test 6: rectContainsPoint 2");b=cc.rect(0,0,5,10);c=cc.p(1,-1);(b=cc.rectContainsPoint(b,c))&&e("Fail rectContainsPoint 2");a.push(b);this.log("Test 7: rect property x");b=cc.rect(1,2,3,4);1!=b.x&&e("Fail rect property x");a.push(b.x);this.log("Test 8: rect property y");
b=cc.rect(1,2,3,4);2!=b.y&&e("Fail rect property y");a.push(b.y);this.log("Test 9: rect property width");b=cc.rect(1,2,3,4);3!=b.width&&e("Fail rect property width");a.push(b.width);this.log("Test 10: rect property height");b=cc.rect(1,2,3,4);4!=b.height&&e("Fail rect property height");a.push(b.height);this.log("Test 11: getBoundingBox()");b=cc.Node.create();b.setContentSize(cc.size(99,101));b=b.getBoundingBox();(101!=b.height||99!=b.width)&&e("Fail getBoundingBox()");a.push(b.height);a.push(b.width);
return a},u:0.1,q:function(){return JSON.stringify([g,j,g,g,g,j,1,2,3,4,101,99])},o:function(){var a=this.Vb();return JSON.stringify(a)}}),pk=nk.extend({d:"Dictionary To/From Test",h:"Sends and receives a dictionary to JSB",ctor:function(){this._super();this.Vb()},Vb:function(){cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");var a=a.getAnimation("dance_1").getFrames()[0],b=
a.getUserInfo();this.log(JSON.stringify(b));a.setUserInfo({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});b=a.getUserInfo();this.log(JSON.stringify(b));return b},u:0.1,q:function(){var a=this.Ee({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});return JSON.stringify(a)},o:function(){var a=this.Ee(this.Vb());return JSON.stringify(a)}}),Ga=w.extend({C:function(){jk=-1;this.addChild(lk());r.replaceScene(this)}}),
kk=[ok,pk];function lk(){jk++;jk%=kk.length;return new kk[jk]}function mk(){jk--;0>jk&&(jk+=kk.length);return new kk[jk]};var qk=-1,uk=x.extend({d:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},G:function(){var a=new Ha;a.addChild(new rk[qk]);r.replaceScene(a)},F:function(){var a=new Ha;a.addChild(sk());r.replaceScene(a)},D:function(){var a=new Ha;a.addChild(tk());r.replaceScene(a)},M:function(){return rk.length-1-qk},I:function(){return qk}}),vk=uk.extend({d:"LocalStorage Test ",h:"See the console",ctor:function(){this._super();var a="key_"+Math.random(),b=sys.localStorage;cc.log(1);b.setItem(a,
"Hello world");cc.log(2);var c=b.getItem(a);cc.log(c);cc.log(3);b.removeItem(a);cc.log(4);c=b.getItem(a);cc.log(c)}}),wk=uk.extend({d:"Capabilities Test ",h:"See the console",ctor:function(){this._super();var a=sys.capabilities,b;for(b in a)cc.log(b+" = "+a[b])}}),Ha=w.extend({C:function(){qk=-1;this.addChild(sk());r.replaceScene(this)}}),rk=[vk,wk];function sk(){qk++;qk%=rk.length;return new rk[qk]}function tk(){qk--;0>qk&&(qk+=rk.length);return new rk[qk]};require("jsb.js");var xk=cc.Scene.create(),yk=new ea;xk.addChild(yk);r.runWithScene(xk);