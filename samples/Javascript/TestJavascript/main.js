function e(a){throw a;}var g=!0,i=null,j=!1;function k(){return function(){}}function aa(a){return function(b){this[a]=b}}function ba(a){return function(){return this[a]}}function m(a){return function(){return a}}var n;
new (cc.Application.extend({config:document.ccConfig,ctor:function(a){this._super();this.vi=a;cc.COCOS2D_DEBUG=this.config.COCOS2D_DEBUG;cc.initDebugSetting();cc.setup(this.config.tag);cc.AppController.shareAppController().didFinishLaunchingWithOptions()},Oj:function(){var a=cc.Director.getInstance();a.setDisplayStats(this.config.showFPS);a.setAnimationInterval(1/this.config.frameRate);cc.Loader.preload(ca,function(){cc.Director.getInstance().replaceScene(new this.vi)},this);return g}}))(da);(function(){var a=document,b={COCOS2D_DEBUG:2,Xj:g,ak:g,Bk:g,qk:g,bk:60,Bi:"gameCanvas",Rd:"../../cocos2d/",Nj:"BaseTestLayer/BaseTestLayer.js tests_resources-html5.js tests-main.js TouchesTest/Ball.js TouchesTest/Paddle.js TouchesTest/TouchesTest.js SchedulerTest/SchedulerTest.js ClickAndMoveTest/ClickAndMoveTest.js MenuTest/MenuTest.js ActionsTest/ActionsTest.js TileMapTest/TileMapTest.js TransitionsTest/TransitionsTest.js DrawPrimitivesTest/DrawPrimitivesTest.js ParticleTest/ParticleTest.js ProgressActionsTest/ProgressActionsTest.js LayerTest/LayerTest.js SceneTest/SceneTest.js SpriteTest/SpriteTest.js TextureCacheTest/TextureCacheTest.js CocosDenshionTest/CocosDenshionTest.js CocosNodeTest/CocosNodeTest.js RotateWorldTest/RotateWorldTest.js IntervalTest/IntervalTest.js ActionManagerTest/ActionManagerTest.js EaseActionsTest/EaseActionsTest.js ParallaxTest/ParallaxTest.js PerformanceTest/PerformanceTest.js PerformanceTest/PerformanceSpriteTest.js PerformanceTest/PerformanceSpriteTest2.js PerformanceTest/PerformanceParticleTest.js PerformanceTest/PerformanceNodeChildrenTest.js PerformanceTest/PerformanceTextureTest.js PerformanceTest/PerformanceAnimationTest.js PerformanceTest/seedrandom.js FontTest/FontTest.js PerformanceTest/PerformanceTouchesTest.js LabelTest/LabelTest.js CurrentLanguageTest/CurrentLanguageTest.js TextInputTest/TextInputTest.js EventTest/EventTest.js UnitTest/UnitTest.js SysTest/SysTest.js FileUtils/FileUtilsTest.js ExtensionsTest/ExtensionsTest.js ExtensionsTest/ControlExtensionTest/CCControlSceneManager.js ExtensionsTest/ControlExtensionTest/CCControlScene.js ExtensionsTest/ControlExtensionTest/CCControlButtonTest/CCControlButtonTest.js ExtensionsTest/TableViewTest/TableViewTestScene.js ExtensionsTest/CocosBuilderTest/CocosBuilderTest.js ExtensionsTest/CocosBuilderTest/TestHeader/TestHeaderLayer.js ExtensionsTest/CocosBuilderTest/HelloCocosBuilder/HelloCocosBuilderLayer.js ExtensionsTest/CocosBuilderTest/ButtonTest/ButtonTestLayer.js ExtensionsTest/CocosBuilderTest/SpriteTest/SpriteTestLayer.js ExtensionsTest/CocosBuilderTest/MenuTest/MenuTestLayer.js ExtensionsTest/CocosBuilderTest/LabelTest/LabelTestLayer.js ExtensionsTest/CocosBuilderTest/ParticleSystemTest/ParticleSystemTestLayer.js ExtensionsTest/CocosBuilderTest/ScrollViewTest/ScrollViewTestLayer.js ExtensionsTest/CocosBuilderTest/AnimationsTest/AnimationsTestLayer.js ExtensionsTest/EditBoxTest/EditBoxTest.js ExtensionsTest/S9SpriteTest/S9SpriteTest.js Box2dTest/Box2dTest.js ChipmunkTest/ChipmunkTest.js".split(" ")};
if(a.createElement("canvas").getContext)window.addEventListener("DOMContentLoaded",function(){var c=a.createElement("script");b.Be&&!b.Rd?c.src=b.Be:b.Rd&&!b.Be?c.src=b.Rd+"platform/jsloader.js":alert('You must specify either the single engine file OR the engine directory in "cocos2d.js"');a.body.appendChild(c);document.$j=b;c.id="cocos2d-html5"});else{var c=a.createElement("div");c.innerHTML='<h2>Your browser does not support HTML5 canvas!</h2><p>Google Chrome is a browser that combines a minimal design with sophisticated technology to make the web faster, safer, and easier.Click the logo to download.</p><a href="http://www.google.com/chrome" target="_blank"><img src="http://www.google.com/intl/zh-CN/chrome/assets/common/images/chrome_logo_2x.png" border="0"/></a>';
var d=a.getElementById(b.Bi).parentNode;d.style.background="none";d.style.border="none";d.insertBefore(c);a.body.style.background="#ffffff"}})();require("jsb.js");require("tests_resources-jsb.js");require("tests-main.js");
for(var ea="BaseTestLayer/BaseTestLayer.js ActionManagerTest/ActionManagerTest.js ActionsTest/ActionsTest.js ChipmunkTest/ChipmunkTest.js ClickAndMoveTest/ClickAndMoveTest.js CocosDenshionTest/CocosDenshionTest.js CocosNodeTest/CocosNodeTest.js DrawPrimitivesTest/DrawPrimitivesTest.js EaseActionsTest/EaseActionsTest.js EffectsTest/EffectsTest.js EventTest/EventTest.js FileUtils/FileUtilsTest.js FontTest/FontTest.js IntervalTest/IntervalTest.js LabelTest/LabelTest.js LayerTest/LayerTest.js MenuTest/MenuTest.js ParallaxTest/ParallaxTest.js ParticleTest/ParticleTest.js PerformanceTest/PerformanceTest.js PerformanceTest/PerformanceNodeChildrenTest.js PerformanceTest/PerformanceParticleTest.js PerformanceTest/PerformanceSpriteTest.js PerformanceTest/PerformanceSpriteTest2.js PerformanceTest/PerformanceTextureTest.js PerformanceTest/PerformanceTouchesTest.js PerformanceTest/PerformanceAnimationTest.js PerformanceTest/seedrandom.js Presentation/Presentation.js ProgressActionsTest/ProgressActionsTest.js RenderTextureTest/RenderTextureTest.js RotateWorldTest/RotateWorldTest.js SceneTest/SceneTest.js SchedulerTest/SchedulerTest.js SpriteTest/SpriteTest.js ExtensionsTest/S9SpriteTest/S9SpriteTest.js ExtensionsTest/ExtensionsTest.js ExtensionsTest/TableViewTest/TableViewTestScene.js TileMapTest/TileMapTest.js TransitionsTest/TransitionsTest.js UnitTest/UnitTest.js SysTest/SysTest.js".split(" "),fa=
0;fa<ea.length;fa++){var ga=""+ea[fa];cc.log(" Loading: "+ga);require(ga)}var ha=cc.Scene.create(),ia=new da;ha.addChild(ia);q.runWithScene(ha);var q=i,r=i,v=v||j,ja=ja||"N/A",w=cc.Scene.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create("Main Menu","Arial",20),a=cc.MenuItemLabel.create(a,this.mh,this),b=cc.Menu.create(a);b.setPosition(0,0);a.setPosition(r.width-50,25);this.addChild(b,1)},mh:function(){var a=cc.Scene.create(),b=new da;a.addChild(b);a=cc.TransitionProgressRadialCCW.create(0.5,a);q.replaceScene(a)},q:k()}),ka=40,la=cc.p(0,0),da=
cc.LayerGradient.extend({S:i,Fe:0,mk:j,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(70,130,180,255));q=cc.Director.getInstance();r=q.getWinSize();var a=cc.MenuItemImage.create(ma,ma,this.ah,this);a.setPosition(r.width-30,r.height-30);var b=cc.MenuItemFont.create("Automated Test: Off");b.setFontSize(18);var c=cc.MenuItemFont.create("Automated Test: On");c.setFontSize(18);b=cc.MenuItemToggle.create(b,c);b.setCallback(this.Nh,this);b.setPosition(r.width-
90,20);v&&b.setSelectedIndex(1);a=cc.Menu.create(a,b);a.setPosition(0,0);this.S=cc.Menu.create();b=0;for(c=na.length;b<c;b++){var d=cc.LabelTTF.create(na[b].title,"Arial",24),d=cc.MenuItemLabel.create(d,this.V,this);this.S.addChild(d,b+1E4);d.setPosition(r.width/2,r.height-(b+1)*ka);"browser"==sys.platform?d.setEnabled(na[b].z&2):d.setEnabled(na[b].z&1)}this.S.setContentSize(cc.size(r.width,(na.length+1)*ka));this.S.setPosition(la);this.addChild(this.S);this.addChild(a,1);"touches"in sys.j?this.setTouchEnabled(g):
"mouse"in sys.j&&this.setMouseEnabled(g)},onEnter:function(){this._super();this.S.setPosition(this.S.getPosition().x,da.Ee)},V:function(a){da.Ee=this.S.getPosition().y;a=a.getZOrder()-1E4;ja=na[a].title;var b=na[a];cc.Loader.preload(b.fa||[],function(){var a=b.s();a&&a.q()},this)},ah:function(){history.go(-1)},Nh:function(){v=!v},onTouchesMoved:function(a){this.Xb(a[0].getDelta());return g},onMouseDragged:function(a){this.Xb(a.getDelta());return g},onScrollWheel:function(a){this.Xb({y:-a.getWheelDelta()});
return g},Xb:function(a){var b=this.S.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(na.length+1)*ka-r.height&&(a=(na.length+1)*ka-r.height);this.S.setPosition(b.x,a)}});da.Ee=0;
var na=[{title:"ActionManager Test",z:3,s:function(){return new oa}},{title:"Actions Test",z:3,s:function(){return new pa}},{title:"Box2D Test",fa:qa,z:2,s:function(){return new Box2DTestScene}},{title:"Chipmunk Test",z:3,s:function(){return new ra}},{title:"Click and Move Test",z:3,s:function(){return new sa}},{title:"CocosDenshion Test",fa:ta,z:3,s:function(){return new CocosDenshionTestScene}},{title:"CurrentLanguage Test",z:2,s:function(){return new ua}},{title:"DrawPrimitives Test",z:3,s:function(){return new va}},
{title:"EaseActions Test",z:3,s:function(){return new wa}},{title:"Event Test",z:3,s:function(){return new xa}},{title:"Extensions Test",fa:ya,z:2,s:function(){return new za}},{title:"Effects Test",z:1,s:function(){return new Aa}},{title:"FileUtils Test",fa:Ba,z:3,s:function(){return new Ca}},{title:"Font Test",fa:Da,z:3,s:function(){return new FontTestScene}},{title:"Interval Test",z:3,s:function(){return new IntervalTestScene}},{title:"Label Test",fa:Ea,z:3,s:function(){return new Fa}},{title:"Layer Test",
z:3,s:function(){return new Ga}},{title:"Menu Test",fa:Ha,z:3,s:function(){return new Ia}},{title:"Node Test",z:3,s:function(){return new Ja}},{title:"OpenGL Test",z:1,s:function(){return new Ka}},{title:"Parallax Test",fa:La,z:3,s:function(){return new ParallaxTestScene}},{title:"Particle Test",z:3,fa:Ma,s:function(){return new Na}},{title:"Performance Test",z:3,s:function(){return new Oa}},{title:"ProgressActions Test",z:3,s:function(){return new Pa}},{title:"RenderTexture Test",z:1,s:function(){return new Qa}},
{title:"RotateWorld Test",z:3,s:function(){return new Ra}},{title:"Scene Test",z:3,s:function(){return new SceneTestScene}},{title:"Scheduler Test",z:3,s:function(){return new Sa}},{title:"Sprite Test",fa:Ta,z:3,s:function(){return new Ua}},{title:"Scale9Sprite Test",fa:Va,z:3,s:function(){return new Wa}},{title:"TextInput Test",z:2,s:function(){return new Xa}},{title:"TextureCache Test",z:2,s:function(){return new Ya}},{title:"TileMap Test",fa:Za,z:3,s:function(){return new $a}},{title:"Touches Test",
fa:ab,z:2,s:function(){return new bb}},{title:"Transitions Test",fa:cb,z:3,s:function(){return new db}},{title:"Unit Tests",z:3,s:function(){return new eb}},{title:"Sys Tests",z:3,s:function(){return new fb}},{title:"cocos2d JS Presentation",z:1,s:function(){return new gb}}];var y="res/",z="res/Images/grossini.png",A="res/Images/grossinis_sister1.png",B="res/Images/grossinis_sister2.png",hb="res/Images/b1.png",ib="res/Images/b2.png",C="res/Images/r1.png",jb="res/Images/r2.png",kb="res/Images/f1.png",lb="res/Images/f2.png",mb="res/Images/blocks.png",nb="res/Images/background.png",ob="res/Images/background1.png",pb="res/Images/background2.png",qb="res/Images/background3.png",rb="res/Images/stars.png",sb="res/Images/stars2.png",D="res/Images/fire.png",tb="res/Images/snow.png",
ub="res/Images/btn-play-normal.png",vb="res/Images/btn-play-selected.png",wb="res/Images/btn-about-normal.png",xb="res/Images/btn-about-selected.png",yb="res/Images/btn-highscores-normal.png",zb="res/Images/btn-highscores-selected.png",Ab="res/Images/ball.png",Bb="res/Images/paddle.png",ma="res/Images/close.png",Cb="res/Images/menuitemsprite.png",Db="res/Images/shapemode.png",Eb="res/Images/texturemode.png",Fb="res/Images/movement.png",Gb="res/Images/SendScoreButton.png",Hb="res/Images/SendScoreButtonPressed.png",
Ib="res/Images/powered.png",Jb="res/Images/stars2-grayscale.png",Kb="res/Images/stars-grayscale.png",E="res/Images/grossini_dance_atlas.png",Lb="res/Images/piece.png",Mb="res/Images/grossini_dance_atlas-mono.png",F="res/animations/grossini.png",G="res/animations/grossini_gray.png",Nb="res/animations/grossini_blue.png",Ob="res/animations/grossini-aliases.png",Pb="res/animations/dragon_animation.png",Qb="res/animations/ghosts.png",Rb="res/animations/grossini_family.png",Sb="res/animations/tcc_issue_1.png",
Tb="res/animations/tcc_issue_2.png",Ub="res/animations/tcc_issue_1.plist",Vb="res/animations/tcc_issue_2.plist",Wb="res/Images/blocks9ss.png",Xb="res/Images/blocks9ss.plist",H="res/animations/grossini.plist",I="res/animations/grossini_gray.plist",Yb="res/animations/grossini_blue.plist",Zb="res/animations/grossini-aliases.plist",$b="res/animations/ghosts.plist",ac="res/animations/grossini_family.plist",bc="res/animations/animations-2.plist",dc="res/animations/animations.plist",ec="res/Images/HelloWorld.png",
fc="res/Images/grossini_dance_01.png",gc="res/Images/grossini_dance_02.png",hc="res/Images/grossini_dance_03.png",ic="res/Images/grossini_dance_04.png",jc="res/Images/grossini_dance_05.png",kc="res/Images/grossini_dance_06.png",lc="res/Images/grossini_dance_07.png",mc="res/Images/grossini_dance_08.png",nc="res/Images/grossini_dance_09.png",oc="res/Images/grossini_dance_10.png",pc="res/Images/grossini_dance_11.png",qc="res/Images/grossini_dance_12.png",rc="res/Images/grossini_dance_13.png",sc="res/Images/grossini_dance_14.png",
tc="res/Images/arrows.png",uc="res/Images/arrowsBar.png",vc="res/Images/arrows-hd.png",wc="res/Images/arrowsBar-hd.png",xc="res/TileMaps/tiles.png",yc="res/TileMaps/levelmap.tga",zc="res/TileMaps/fixed-ortho-test2.png",Ac="res/TileMaps/hexa-tiles.png",Bc="res/TileMaps/iso-test.png",Cc="res/TileMaps/iso-test2.png",Dc="res/TileMaps/iso.png",Ec="res/TileMaps/ortho-test1_bw.png",Fc="res/TileMaps/ortho-test1.png",Gc="res/TileMaps/tiles-hd.png",Hc="res/TileMaps/tmw_desert_spacing-hd.png",Ic="res/TileMaps/tmw_desert_spacing.png",
Jc="res/fonts/tuffy_bold_italic-charmap.png",Kc="res/fonts/fps_images.png",Lc="res/fonts/bitmapFontTest.png",Mc="res/fonts/bitmapFontTest2.png",Nc="res/fonts/bitmapFontTest3.png",Oc="res/fonts/bitmapFontTest4.png",Pc="res/fonts/bitmapFontTest5.png",Qc="res/fonts/konqa32.png",Rc="res/fonts/konqa32-hd.png",Sc="res/fonts/bitmapFontChinese.png",Tc="res/fonts/arial16.png",Uc="res/fonts/larabie-16.png",Vc="res/fonts/larabie-16-hd.png",Wc="res/fonts/futura-48.png",Xc="res/fonts/arial-unicode-26.png",Yc=
"res/fonts/bitmapFontTest.fnt",Zc="res/fonts/bitmapFontTest2.fnt",$c="res/fonts/bitmapFontTest3.fnt",ad="res/fonts/bitmapFontTest4.fnt",bd="res/fonts/bitmapFontTest5.fnt",cd="res/fonts/konqa32.fnt",dd="res/fonts/konqa32-hd.fnt",ed="res/fonts/bitmapFontChinese.fnt",fd="res/fonts/arial16.fnt",gd="res/fonts/futura-48.fnt",hd="res/fonts/helvetica-32.fnt",id="res/fonts/geneva-32.fnt",jd="res/fonts/arial-unicode-26.fnt",kd="res/fonts/markerFelt.fnt",ld="res/fonts/markerFelt-hd.fnt",md="res/fonts/larabie-16.plist",
nd="res/fonts/larabie-16-hd.plist",od="res/fonts/tuffy_bold_italic-charmap.plist",pd="res/fonts/tuffy_bold_italic-charmap-hd.plist",qd="res/Images/particles.png",rd="res/Images/particles-hd.png",sd="res/extensions/background.png",td="res/extensions/buttonBackground.png",ud="res/extensions/button.png",vd="res/extensions/buttonHighlighted.png",wd="res/extensions/ribbon.png",xd="res/Images/Icon.png",ca=[{src:hb},{src:ib},{src:C},{src:jb},{src:kb},{src:lb},{src:mb},{src:qb},{src:D},{src:ma},{src:z},{src:A},
{src:B},{src:fc},{src:gc},{src:hc},{src:ic},{src:jc},{src:kc},{src:lc},{src:mc},{src:nc},{src:oc},{src:pc},{src:qc},{src:rc},{src:sc},{src:F},{src:H},{src:bc},{src:ec}],Ta=[{src:Lb},{src:G},{src:Nb},{src:E},{src:Ob},{src:Pb},{src:Qb},{src:Rb},{src:Mb},{src:dc},{src:I},{src:Yb},{src:Zb},{src:$b},{src:ac},{src:Ub},{src:Vb},{src:Sb},{src:Tb},{src:Xb},{src:Wb}],Ha=[{src:$c},{src:Nc},{src:ub},{src:vb},{src:wb},{src:xb},{src:yb},{src:zb},{src:Cb},{src:Gb},{src:Hb},{src:Kc}],ab=[{src:Ab},{src:Bb}],Ba=[{src:"FileUtils/lookup-html5.plist"}],
Va=[{src:Xb},{src:Wb}],Ea=[{src:Lc},{src:Mc},{src:Nc},{src:Oc},{src:Pc},{src:Qc},{src:Rc},{src:Sc},{src:Tc},{src:Uc},{src:Vc},{src:Wc},{src:Xc},{src:Jc},{src:tc},{src:uc},{src:vc},{src:wc},{src:md},{src:nd},{src:od},{src:pd},{src:Yc},{src:Zc},{src:$c},{src:ad},{src:bd},{src:cd},{src:dd},{src:ed},{src:fd},{src:gd},{src:hd},{src:id},{src:jd},{src:kd},{src:ld},{src:"res/fonts/strings.xml"}],cb=[{src:ob},{src:pb}],qa=[{src:mb}],ta=[{src:"res/Sound/background.mp3"},{src:"res/Sound/effect2.mp3"},{src:"res/Sound/background.ogg"},
{src:"res/Sound/effect2.ogg"}],La=[{src:"res/TileMaps/orthogonal-test2.tmx"},{src:zc},{src:Ib},{src:nb}],Ma=[{src:Kc},{src:Kb},{src:Jb},{src:Eb},{src:Db},{src:Fb},{src:rb},{src:sb},{src:tb},{src:qd},{src:rd},{src:"res/Particles/BoilingFoam.plist"},{src:"res/Particles/BurstPipe.plist"},{src:"res/Particles/Comet.plist"},{src:"res/Particles/debian.plist"},{src:"res/Particles/ExplodingRing.plist"},{src:"res/Particles/Flower.plist"},{src:"res/Particles/Galaxy.plist"},{src:"res/Particles/LavaFlow.plist"},
{src:"res/Particles/Phoenix.plist"},{src:"res/Particles/SmallSun.plist"},{src:"res/Particles/SpinningPeas.plist"},{src:"res/Particles/Spiral.plist"},{src:"res/Particles/SpookyPeas.plist"},{src:"res/Particles/TestPremultipliedAlpha.plist"},{src:"res/Particles/Upsidedown.plist"}],Da=[{fontName:"Thonburi",src:[{src:"res/fonts/Thonburi.eot",type:"embedded-opentype"},{src:"res/fonts/Thonburi.ttf",type:"truetype"}]},{fontName:"Schwarzwald Regular",src:[{src:"res/fonts/Schwarzwald_Regular.eot",type:"embedded-opentype"},
{src:"res/fonts/Schwarzwald Regular.ttf",type:"truetype"}]},{fontName:"ThonburiBold",src:[{src:"res/fonts/ThonburiBold.eot",type:"embedded-opentype"},{src:"res/fonts/ThonburiBold.ttf",type:"truetype"}]},{fontName:"Courier New",src:[{src:"res/fonts/Courier New.eot",type:"embedded-opentype"},{src:"res/fonts/Courier New.ttf",type:"truetype"}]}],ya=[{src:xd},{src:sd},{src:td},{src:ud},{src:vd},{src:wd},{src:"res/ccb/HelloCocosBuilder.ccbi"},{src:"res/ccb/ccb/TestAnimations.ccbi"},{src:"res/ccb/ccb/TestAnimationsSub.ccbi"},
{src:"res/ccb/ccb/TestButtons.ccbi"},{src:"res/ccb/ccb/TestHeader.ccbi"},{src:"res/ccb/ccb/TestLabels.ccbi"},{src:"res/ccb/ccb/TestMenus.ccbi"},{src:"res/ccb/ccb/TestParticleSystems.ccbi"},{src:"res/ccb/ccb/TestScrollViews.ccbi"},{src:"res/ccb/ccb/TestScrollViewsContentA.ccbi"},{src:"res/ccb/ccb/TestSprites.ccbi"},{src:"res/ccb/btn-test-0.png"},{src:"res/ccb/animated-grossini.png"},{src:"res/ccb/btn-a-0.png"},{src:"res/ccb/btn-a-1.png"},{src:"res/ccb/btn-a-2.png"},{src:"res/ccb/btn-b-0.png"},{src:"res/ccb/btn-b-1.png"},
{src:"res/ccb/btn-b-2.png"},{src:"res/ccb/btn-back-0.png"},{src:"res/ccb/btn-back-1.png"},{src:"res/ccb/btn-test-0.png"},{src:"res/ccb/btn-test-1.png"},{src:"res/ccb/btn-test-2.png"},{src:"res/ccb/burst.png"},{src:"res/ccb/flower.jpg"},{src:"res/ccb/grossini-generic.png"},{src:"res/ccb/jungle.png"},{src:"res/ccb/jungle-left.png"},{src:"res/ccb/jungle-right.png"},{src:"res/ccb/logo.png"},{src:"res/ccb/logo-icon.png"},{src:"res/ccb/markerfelt24shadow.png"},{src:"res/ccb/particle-fire.png"},{src:"res/ccb/particle-smoke.png"},
{src:"res/ccb/particle-snow.png"},{src:"res/ccb/particle-stars.png"},{src:"res/ccb/scale-9-demo.png"},{src:"res/ccb/markerfelt24shadow.fnt"},{src:"res/ccb/grossini-generic.plist"},{src:"res/ccb/animated-grossini.plist"}],Za=[{src:zc},{src:Ac},{src:Bc},{src:Cc},{src:Dc},{src:Ec},{src:Fc},{src:Gc},{src:Hc},{src:Ic},{src:xc},{src:"res/TileMaps/orthogonal-test1.tmx"},{src:"res/TileMaps/orthogonal-test1.tsx"},{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/orthogonal-test3.tmx"},{src:"res/TileMaps/orthogonal-test4.tmx"},
{src:"res/TileMaps/orthogonal-test4-hd.tmx"},{src:"res/TileMaps/orthogonal-test5.tmx"},{src:"res/TileMaps/orthogonal-test6.tmx"},{src:"res/TileMaps/orthogonal-test6-hd.tmx"},{src:"res/TileMaps/hexa-test.tmx"},{src:"res/TileMaps/iso-test.tmx"},{src:"res/TileMaps/iso-test1.tmx"},{src:"res/TileMaps/iso-test2.tmx"},{src:"res/TileMaps/iso-test2-uncompressed.tmx"},{src:"res/TileMaps/ortho-objects.tmx"},{src:"res/TileMaps/iso-test-objectgroup.tmx"},{src:"res/TileMaps/iso-test-zorder.tmx"},{src:"res/TileMaps/orthogonal-test-zorder.tmx"},
{src:"res/TileMaps/iso-test-vertexz.tmx"},{src:"res/TileMaps/orthogonal-test-vertexz.tmx"},{src:"res/TileMaps/iso-test-movelayer.tmx"},{src:"res/TileMaps/orthogonal-test-movelayer.tmx"},{src:"res/TileMaps/iso-test-bug787.tmx"},{src:"res/TileMaps/test-object-layer.tmx"},{src:"res/TileMaps/ortho-tile-property.tmx"},{src:"res/TileMaps/ortho-rotation-test.tmx"}];y="res/";z="res/Images/grossini.png";A="res/Images/grossinis_sister1.png";B="res/Images/grossinis_sister2.png";hb="res/Images/b1.png";ib="res/Images/b2.png";C="res/Images/r1.png";jb="res/Images/r2.png";kb="res/Images/f1.png";lb="res/Images/f2.png";mb="res/Images/blocks.png";nb="res/Images/background.png";ob="res/Images/background1.png";pb="res/Images/background2.png";qb="res/Images/background3.png";rb="res/Images/stars.png";sb="res/Images/stars2.png";D="res/Images/fire.png";tb="res/Images/snow.png";
ub="res/Images/btn-play-normal.png";vb="res/Images/btn-play-selected.png";wb="res/Images/btn-about-normal.png";xb="res/Images/btn-about-selected.png";yb="res/Images/btn-highscores-normal.png";zb="res/Images/btn-highscores-selected.png";Ab="res/Images/ball.png";Bb="res/Images/paddle.png";ma="res/Images/close.png";Cb="res/Images/menuitemsprite.png";Db="res/Images/shapemode.png";Eb="res/Images/texturemode.png";Fb="res/Images/movement.png";Gb="res/Images/SendScoreButton.png";Hb="res/Images/SendScoreButtonPressed.png";
Ib="res/Images/powered.png";Jb="res/Images/stars2-grayscale.png";Kb="res/Images/stars-grayscale.png";E="res/Images/grossini_dance_atlas.png";Lb="res/Images/piece.png";Mb="res/Images/grossini_dance_atlas-mono.png";F="res/animations/grossini.png";G="res/animations/grossini_gray.png";Nb="res/animations/grossini_blue.png";Ob="res/animations/grossini-aliases.png";Pb="res/animations/dragon_animation.png";Qb="res/animations/ghosts.png";Rb="res/animations/grossini_family.png";Sb="res/animations/tcc_issue_1.png";
Tb="res/animations/tcc_issue_2.png";Ub="res/animations/tcc_issue_1.plist";Vb="res/animations/tcc_issue_2.plist";Wb="res/Images/blocks9ss.png";Xb="res/Images/blocks9ss.plist";H="res/animations/grossini.plist";I="res/animations/grossini_gray.plist";Yb="res/animations/grossini_blue.plist";Zb="res/animations/grossini-aliases.plist";$b="res/animations/ghosts.plist";ac="res/animations/grossini_family.plist";bc="res/animations/animations-2.plist";dc="res/animations/animations.plist";ec="res/Images/HelloWorld.png";
fc="res/Images/grossini_dance_01.png";gc="res/Images/grossini_dance_02.png";hc="res/Images/grossini_dance_03.png";ic="res/Images/grossini_dance_04.png";jc="res/Images/grossini_dance_05.png";kc="res/Images/grossini_dance_06.png";lc="res/Images/grossini_dance_07.png";mc="res/Images/grossini_dance_08.png";nc="res/Images/grossini_dance_09.png";oc="res/Images/grossini_dance_10.png";pc="res/Images/grossini_dance_11.png";qc="res/Images/grossini_dance_12.png";rc="res/Images/grossini_dance_13.png";sc="res/Images/grossini_dance_14.png";
tc="res/Images/arrows.png";uc="res/Images/arrowsBar.png";vc="res/Images/arrows-hd.png";wc="res/Images/arrowsBar-hd.png";xc="res/TileMaps/tiles.png";yc="res/TileMaps/levelmap.tga";zc="res/TileMaps/fixed-ortho-test2.png";Ac="res/TileMaps/hexa-tiles.png";Bc="res/TileMaps/iso-test.png";Cc="res/TileMaps/iso-test2.png";Dc="res/TileMaps/iso.png";Ec="res/TileMaps/ortho-test1_bw.png";Fc="res/TileMaps/ortho-test1.png";Gc="res/TileMaps/tiles-hd.png";Hc="res/TileMaps/tmw_desert_spacing-hd.png";Ic="res/TileMaps/tmw_desert_spacing.png";
Jc="res/fonts/tuffy_bold_italic-charmap.png";Kc="res/fonts/fps_images.png";Lc="res/fonts/bitmapFontTest.png";Mc="res/fonts/bitmapFontTest2.png";Nc="res/fonts/bitmapFontTest3.png";Oc="res/fonts/bitmapFontTest4.png";Pc="res/fonts/bitmapFontTest5.png";Qc="res/fonts/konqa32.png";Rc="res/fonts/konqa32-hd.png";Sc="res/fonts/bitmapFontChinese.png";Tc="res/fonts/arial16.png";Uc="res/fonts/larabie-16.png";Vc="res/fonts/larabie-16-hd.png";Wc="res/fonts/futura-48.png";Xc="res/fonts/arial-unicode-26.png";
Yc="res/fonts/bitmapFontTest.fnt";Zc="res/fonts/bitmapFontTest2.fnt";$c="res/fonts/bitmapFontTest3.fnt";ad="res/fonts/bitmapFontTest4.fnt";bd="res/fonts/bitmapFontTest5.fnt";cd="res/fonts/konqa32.fnt";dd="res/fonts/konqa32-hd.fnt";ed="res/fonts/bitmapFontChinese.fnt";fd="res/fonts/arial16.fnt";gd="res/fonts/futura-48.fnt";hd="res/fonts/helvetica-32.fnt";id="res/fonts/geneva-32.fnt";jd="res/fonts/arial-unicode-26.fnt";kd="res/fonts/markerFelt.fnt";ld="res/fonts/markerFelt-hd.fnt";md="res/fonts/larabie-16.plist";
nd="res/fonts/larabie-16-hd.plist";od="res/fonts/tuffy_bold_italic-charmap.plist";pd="res/fonts/tuffy_bold_italic-charmap-hd.plist";qd="res/Images/particles.png";rd="res/Images/particles-hd.png";sd="res/extensions/background.png";td="res/extensions/buttonBackground.png";ud="res/extensions/button.png";vd="res/extensions/buttonHighlighted.png";wd="res/extensions/ribbon.png";xd="res/Images/Icon.png";
ca=[{src:hb},{src:ib},{src:C},{src:jb},{src:kb},{src:lb},{src:mb},{src:qb},{src:D},{src:ma},{src:z},{src:A},{src:B},{src:fc},{src:gc},{src:hc},{src:ic},{src:jc},{src:kc},{src:lc},{src:mc},{src:nc},{src:oc},{src:pc},{src:qc},{src:rc},{src:sc},{src:F},{src:H},{src:bc},{src:ec}];Ta=[{src:Lb},{src:G},{src:Nb},{src:E},{src:Ob},{src:Pb},{src:Qb},{src:Rb},{src:Mb},{src:dc},{src:I},{src:Yb},{src:Zb},{src:$b},{src:ac},{src:Ub},{src:Vb},{src:Sb},{src:Tb},{src:Xb},{src:Wb}];
Ha=[{src:$c},{src:Nc},{src:ub},{src:vb},{src:wb},{src:xb},{src:yb},{src:zb},{src:Cb},{src:Gb},{src:Hb},{src:Kc}];ab=[{src:Ab},{src:Bb}];Ba=[{src:"FileUtils/lookup-html5.plist"}];Va=[{src:Xb},{src:Wb}];
Ea=[{src:Lc},{src:Mc},{src:Nc},{src:Oc},{src:Pc},{src:Qc},{src:Rc},{src:Sc},{src:Tc},{src:Uc},{src:Vc},{src:Wc},{src:Xc},{src:Jc},{src:tc},{src:uc},{src:vc},{src:wc},{src:md},{src:nd},{src:od},{src:pd},{src:Yc},{src:Zc},{src:$c},{src:ad},{src:bd},{src:cd},{src:dd},{src:ed},{src:fd},{src:gd},{src:hd},{src:id},{src:jd},{src:kd},{src:ld},{src:"res/fonts/strings.xml"}];cb=[{src:ob},{src:pb}];qa=[{src:mb}];
ta=[{src:"res/Sound/background.mp3"},{src:"res/Sound/effect2.mp3"},{src:"res/Sound/background.ogg"},{src:"res/Sound/effect2.ogg"}];La=[{src:"res/TileMaps/orthogonal-test2.tmx"},{src:zc},{src:Ib},{src:nb}];
Ma=[{src:Kc},{src:Kb},{src:Jb},{src:Eb},{src:Db},{src:Fb},{src:rb},{src:sb},{src:tb},{src:qd},{src:rd},{src:"res/Particles/BoilingFoam.plist"},{src:"res/Particles/BurstPipe.plist"},{src:"res/Particles/Comet.plist"},{src:"res/Particles/debian.plist"},{src:"res/Particles/ExplodingRing.plist"},{src:"res/Particles/Flower.plist"},{src:"res/Particles/Galaxy.plist"},{src:"res/Particles/LavaFlow.plist"},{src:"res/Particles/Phoenix.plist"},{src:"res/Particles/SmallSun.plist"},{src:"res/Particles/SpinningPeas.plist"},
{src:"res/Particles/Spiral.plist"},{src:"res/Particles/SpookyPeas.plist"},{src:"res/Particles/TestPremultipliedAlpha.plist"},{src:"res/Particles/Upsidedown.plist"}];
Da=[{fontName:"Thonburi",src:[{src:"res/fonts/Thonburi.eot",type:"embedded-opentype"},{src:"res/fonts/Thonburi.ttf",type:"truetype"}]},{fontName:"Schwarzwald Regular",src:[{src:"res/fonts/Schwarzwald_Regular.eot",type:"embedded-opentype"},{src:"res/fonts/Schwarzwald Regular.ttf",type:"truetype"}]},{fontName:"ThonburiBold",src:[{src:"res/fonts/ThonburiBold.eot",type:"embedded-opentype"},{src:"res/fonts/ThonburiBold.ttf",type:"truetype"}]},{fontName:"Courier New",src:[{src:"res/fonts/Courier New.eot",
type:"embedded-opentype"},{src:"res/fonts/Courier New.ttf",type:"truetype"}]}];
ya=[{src:xd},{src:sd},{src:td},{src:ud},{src:vd},{src:wd},{src:"res/ccb/HelloCocosBuilder.ccbi"},{src:"res/ccb/ccb/TestAnimations.ccbi"},{src:"res/ccb/ccb/TestAnimationsSub.ccbi"},{src:"res/ccb/ccb/TestButtons.ccbi"},{src:"res/ccb/ccb/TestHeader.ccbi"},{src:"res/ccb/ccb/TestLabels.ccbi"},{src:"res/ccb/ccb/TestMenus.ccbi"},{src:"res/ccb/ccb/TestParticleSystems.ccbi"},{src:"res/ccb/ccb/TestScrollViews.ccbi"},{src:"res/ccb/ccb/TestScrollViewsContentA.ccbi"},{src:"res/ccb/ccb/TestSprites.ccbi"},{src:"res/ccb/btn-test-0.png"},
{src:"res/ccb/animated-grossini.png"},{src:"res/ccb/btn-a-0.png"},{src:"res/ccb/btn-a-1.png"},{src:"res/ccb/btn-a-2.png"},{src:"res/ccb/btn-b-0.png"},{src:"res/ccb/btn-b-1.png"},{src:"res/ccb/btn-b-2.png"},{src:"res/ccb/btn-back-0.png"},{src:"res/ccb/btn-back-1.png"},{src:"res/ccb/btn-test-0.png"},{src:"res/ccb/btn-test-1.png"},{src:"res/ccb/btn-test-2.png"},{src:"res/ccb/burst.png"},{src:"res/ccb/flower.jpg"},{src:"res/ccb/grossini-generic.png"},{src:"res/ccb/jungle.png"},{src:"res/ccb/jungle-left.png"},
{src:"res/ccb/jungle-right.png"},{src:"res/ccb/logo.png"},{src:"res/ccb/logo-icon.png"},{src:"res/ccb/markerfelt24shadow.png"},{src:"res/ccb/particle-fire.png"},{src:"res/ccb/particle-smoke.png"},{src:"res/ccb/particle-snow.png"},{src:"res/ccb/particle-stars.png"},{src:"res/ccb/scale-9-demo.png"},{src:"res/ccb/markerfelt24shadow.fnt"},{src:"res/ccb/grossini-generic.plist"},{src:"res/ccb/animated-grossini.plist"}];
Za=[{src:zc},{src:Ac},{src:Bc},{src:Cc},{src:Dc},{src:Ec},{src:Fc},{src:Gc},{src:Hc},{src:Ic},{src:xc},{src:"res/TileMaps/orthogonal-test1.tmx"},{src:"res/TileMaps/orthogonal-test1.tsx"},{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/orthogonal-test3.tmx"},{src:"res/TileMaps/orthogonal-test4.tmx"},{src:"res/TileMaps/orthogonal-test4-hd.tmx"},{src:"res/TileMaps/orthogonal-test5.tmx"},{src:"res/TileMaps/orthogonal-test6.tmx"},{src:"res/TileMaps/orthogonal-test6-hd.tmx"},{src:"res/TileMaps/hexa-test.tmx"},
{src:"res/TileMaps/iso-test.tmx"},{src:"res/TileMaps/iso-test1.tmx"},{src:"res/TileMaps/iso-test2.tmx"},{src:"res/TileMaps/iso-test2-uncompressed.tmx"},{src:"res/TileMaps/ortho-objects.tmx"},{src:"res/TileMaps/iso-test-objectgroup.tmx"},{src:"res/TileMaps/iso-test-zorder.tmx"},{src:"res/TileMaps/orthogonal-test-zorder.tmx"},{src:"res/TileMaps/iso-test-vertexz.tmx"},{src:"res/TileMaps/orthogonal-test-vertexz.tmx"},{src:"res/TileMaps/iso-test-movelayer.tmx"},{src:"res/TileMaps/orthogonal-test-movelayer.tmx"},
{src:"res/TileMaps/iso-test-bug787.tmx"},{src:"res/TileMaps/test-object-layer.tmx"},{src:"res/TileMaps/ortho-tile-property.tmx"},{src:"res/TileMaps/ortho-rotation-test.tmx"}];var yd=5560,zd=-1,Dd=J.extend({Zf:i,e:"",title:m("No title"),d:m(""),A:function(){var a=new oa;a.addChild(Ad());q.replaceScene(a)},C:function(){var a=new oa;a.addChild(new Bd[zd]);q.replaceScene(a)},B:function(){var a=new oa;a.addChild(Cd());q.replaceScene(a)},G:function(){return Bd.length-1-zd},D:function(){return zd}}),Ed=Dd.extend({title:m("Test 1. Should not crash"),onEnter:function(){this._super();var a=cc.Sprite.create(z);a.setPosition(200,200);this.addChild(a,1);a.runAction(cc.RotateBy.create(1.5,
90));a.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.FadeOut.create(1.1)));this.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.CallFunc.create(this.Dh,this)))},Dh:function(){this.getParent().removeChild(this);this.B(this)},n:m("NOT_CRASHED"),m:m("NOT_CRASHED")}),Fd=Dd.extend({title:m("Logic test"),onEnter:function(){this._super();var a=cc.Sprite.create(z);this.addChild(a,0,2);a.setPosition(200,200);a.runAction(cc.Sequence.create(cc.MoveBy.create(1,cc.p(150,0)),cc.CallFunc.create(this.Tg,
this)));v&&(this.f=a)},Tg:function(a){a.stopAllActions();a.runAction(cc.ScaleTo.create(2,2))},t:4,n:function(){return JSON.stringify([{scaleX:2,scaleY:2}])},m:function(){var a=this.f.getScaleX(),b=this.f.getScaleY();return JSON.stringify([{scaleX:a,scaleY:b}])}}),Gd=Dd.extend({title:m("Pause Test"),onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("After 3 seconds grossini should move","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);a=cc.Sprite.create(z);this.addChild(a,
0,5561);a.setPosition(200,200);b=cc.MoveBy.create(1,cc.p(150,0));q.getActionManager().addAction(b,a,g);this.schedule(this.sf,3);v&&(this.scheduleOnce(this.la,2),this.scheduleOnce(this.La,4.5),this.f=a)},sf:function(){this.unschedule(this.sf);var a=this.getChildByTag(5561);q.getActionManager().resumeTarget(a)},t:5.5,la:function(){this.M=this.f.getPosition()},La:function(){this.aa=this.f.getPosition()},n:function(){return JSON.stringify([{x:200,y:200},{x:350,y:200}])},m:function(){return JSON.stringify([{x:this.M.x,
y:this.M.y},{x:this.aa.x,y:this.aa.y}])}}),Hd=Dd.extend({title:m("Remove Test"),onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("Should not crash","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);a=cc.MoveBy.create(2,cc.p(200,0));b=cc.CallFunc.create(this.stopAction,this);a=cc.Sequence.create(a,b);a.setTag(5562);b=cc.Sprite.create(z);b.setPosition(200,200);this.addChild(b,1,5561);b.runAction(a)},stopAction:function(){this.getChildByTag(5561).stopActionByTag(5562)},
t:3.5,n:m("NOT_CRASHED"),m:m("NOT_CRASHED")}),Id=Dd.extend({title:m("Resume Test"),onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("Grossini only rotate/scale in 3 seconds","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);this.f=b=cc.Sprite.create(z);this.addChild(b,0,5561);b.setPosition(a.width/2,a.height/2);b.runAction(cc.ScaleBy.create(2,2));q.getActionManager().pauseTarget(b);b.runAction(cc.RotateBy.create(2,360));this.schedule(this.Af,3)},Af:function(){this.unschedule(this.Af);
var a=this.getChildByTag(5561);q.getActionManager().resumeTarget(a)},t:6,Ga:function(){this.scheduleOnce(this.la,1);this.scheduleOnce(this.La,5.5)},la:function(){this.qg=this.f.getScaleX();this.rg=this.f.getScaleY();this.pg=this.f.getRotation()},La:function(){this.tg=this.f.getScaleX();this.ug=this.f.getScaleY();this.sg=this.f.getRotation()},n:function(){return JSON.stringify([{Rot:0},{sX:1,sY:1},{Rot:360},{sX:2,sY:2}])},m:function(){return JSON.stringify([{Rot:this.pg},{sX:this.qg,sY:this.rg},{Rot:this.sg},
{sX:this.tg,sY:this.ug}])}}),oa=w.extend({q:function(){zd=-1;this.addChild(Cd());q.replaceScene(this)}}),Bd=[Ed,Fd,Gd,Hd,Id];function Cd(){zd++;zd%=Bd.length;return new Bd[zd]}function Ad(){zd--;0>zd&&(zd+=Bd.length);return new Bd[zd]};var Jd=-1,pa=w.extend({q:function(){Jd=-1;this.addChild(Kd());q.replaceScene(this)}}),L=J.extend({f:i,i:i,k:i,O:i,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.f=cc.Sprite.create(z);this.i=cc.Sprite.create(A);this.k=cc.Sprite.create(B);this.addChild(this.f,1);this.addChild(this.i,2);this.addChild(this.k,3);var a=q.getWinSize();this.f.setPosition(a.width/2,a.height/3);this.i.setPosition(a.width/2,2*a.height/3);this.k.setPosition(a.width/2,a.height/2)},w:function(a){var b=
q.getWinSize();0===a?(this.i.setVisible(j),this.k.setVisible(j),this.f.setVisible(j)):1==a?(this.i.setVisible(j),this.k.setVisible(j),this.f.setPosition(b.width/2,b.height/2)):2==a?(this.k.setPosition(b.width/3,b.height/2),this.i.setPosition(2*b.width/3,b.height/2),this.f.setVisible(j)):3==a&&(this.f.setPosition(b.width/2,b.height/2),this.i.setPosition(b.width/4,b.height/2),this.k.setPosition(3*b.width/4,b.height/2))},tb:function(a){var b=q.getWinSize();1==a?(this.i.setVisible(j),this.k.setVisible(j),
this.f.setPosition(60,b.height/2)):2==a?(this.k.setPosition(60,b.height/3),this.i.setPosition(60,2*b.height/3),this.f.setVisible(j)):3==a&&(this.f.setPosition(60,b.height/2),this.i.setPosition(60,2*b.height/3),this.k.setPosition(60,b.height/3))},title:m("ActionsTest"),d:m(""),A:function(){var a=new pa;a.addChild(Ld());q.replaceScene(a)},C:function(){var a=new pa;a.addChild(new Md[Jd]);q.replaceScene(a)},B:function(){var a=new pa;a.addChild(Kd());q.replaceScene(a)},G:function(){return Md.length-1-
Jd},D:function(){return Jd}}),Nd=L.extend({O:"sprite.setPosition( 10,20 );\nsprite.setRotation( 90 );\nsprite.setScale( 2 );",onEnter:function(){this._super();this.i.setScaleX(2.5);this.i.setScaleY(-1);this.i.setPosition(100,70);this.i.setOpacity(128);this.f.setRotation(120);this.f.setPosition(r.width/2,r.height/2);this.f.setColor(cc.c3b(255,0,0));this.k.setPosition(r.width-100,r.height/2);this.k.setColor(cc.c3b(0,0,255))},title:m("Sprite properties"),d:m("Manual Transformation"),t:0.1,n:function(){return JSON.stringify([2.5,
{x:100,y:70},128,120,{x:r.width/2,y:r.height/2},{r:255,g:0,b:0},{x:r.width-100,y:r.height/2},{r:0,g:0,b:255}])},m:function(){var a=[];a.push(this.i.getScaleX());a.push(this.i.getPosition());a.push(this.i.getOpacity());a.push(this.f.getRotation());a.push(this.f.getPosition());a.push(this.f.getColor());a.push(this.k.getPosition());a.push(this.k.getColor());return JSON.stringify(a)}}),Od=L.extend({O:"a = cc.MoveBy.create( time, cc.p(x,y) );\na = cc.MoveTo.create( time, cc.p(x,y) );",onEnter:function(){this._super();
this.w(3);var a=q.getWinSize(),a=cc.MoveTo.create(2,cc.p(a.width-40,a.height-40)),b=cc.MoveBy.create(1,cc.p(80,80)),c=b.reverse();this.i.runAction(a);this.f.runAction(cc.Sequence.create(b,c));this.k.runAction(cc.MoveTo.create(1,cc.p(40,40)))},title:m("cc.MoveTo / cc.MoveBy"),t:2.1,n:function(){return JSON.stringify([{x:r.width-40,y:r.height-40},{x:r.width/2,y:r.height/2},{x:40,y:40}])},m:function(){var a=[];a.push(this.i.getPosition());a.push(this.f.getPosition());a.push(this.k.getPosition());return JSON.stringify(a)}}),
Pd=L.extend({O:"a = cc.ScaleBy.create( time, scale );\na = cc.ScaleTo.create( time, scaleX, scaleY );",onEnter:function(){this._super();this.w(3);var a=cc.ScaleTo.create(2,0.5),b=cc.ScaleBy.create(2,2),c=cc.ScaleBy.create(2,0.25,4.5);this.i.runAction(a);this.k.runAction(cc.Sequence.create(c,cc.DelayTime.create(0.25),c.reverse()));this.f.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),b.reverse()))},title:m("cc.ScaleTo / cc.ScaleBy"),t:2.1,n:function(){return JSON.stringify([0.5,2,0.25,4.5])},
m:function(){var a=[];a.push(this.i.getScale());a.push(this.f.getScale());a.push(this.k.getScaleX());a.push(this.k.getScaleY());return JSON.stringify(a)}}),Qd=L.extend({O:"a = cc.RotateBy.create( time, degrees );\na = cc.RotateTo.create( time, degrees );",onEnter:function(){this._super();this.w(3);var a=cc.RotateTo.create(2,45),b=cc.RotateTo.create(2,-45),c=cc.RotateTo.create(2,0);this.i.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),c));var a=cc.RotateBy.create(2,360),d=a.reverse();this.f.runAction(cc.Sequence.create(a,
cc.DelayTime.create(0.25),d));this.k.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c.copy()))},title:m("cc.RotateTo / cc.RotateBy"),t:2.1,n:function(){return JSON.stringify([45,360,-45])},m:function(){var a=[];a.push(this.i.getRotation());a.push(this.f.getRotation());a.push(this.k.getRotation());return JSON.stringify(a)}}),Rd=L.extend({onEnter:function(){this._super();this.w(3);var a=cc.RotateTo.create(2,37.2,-37.2),b=cc.RotateTo.create(2,0,0),c=cc.RotateBy.create(2,0,-90),d=cc.RotateBy.create(2,
45,45),f=cc.DelayTime.create(0.25);this.i.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,f.copy(),c.reverse()));this.k.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.RotateBy(x,y) / cc.RotateTo(x,y)"),t:2.1,n:function(){return JSON.stringify(["37.20","-37.20",0,-90,45,45])},m:function(){var a=[];a.push(this.i.bf().toFixed(2));a.push(this.i.cf().toFixed(2));a.push(this.f.bf());a.push(this.f.cf());a.push(this.k.bf());a.push(this.k.cf());return JSON.stringify(a)}}),
Sd=L.extend({O:"a = cc.SkewBy.create( time, skew );\na = cc.SkewTo.create( time, skewX, skewY );",onEnter:function(){this._super();this.w(3);var a=cc.SkewTo.create(2,37.2,-37.2),b=cc.SkewTo.create(2,0,0),c=cc.SkewBy.create(2,0,-90),d=cc.SkewBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.i.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,f.copy(),c.reverse()));this.k.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.SkewTo / cc.SkewBy"),t:2.1,n:function(){return JSON.stringify(["37.20",
"-37.20",0,0,45,45])},m:function(){var a=[];a.push(this.i.getSkewX().toFixed(2));a.push(this.i.getSkewY().toFixed(2));a.push(this.f.getSkewX());a.push(this.f.getSkewX());a.push(this.k.getSkewX());a.push(this.k.getSkewY());return JSON.stringify(a)}}),Td=L.extend({onEnter:function(){this._super();this.w(0);var a=cc.size(100,100),b=cc.LayerColor.create(cc.c4b(255,255,0,255));b.setAnchorPoint(cc.p(0,0));b.setPosition((r.width-a.width)/2,(r.height-a.height)/2);b.setContentSize(a);var c=cc.LayerColor.create(cc.c4b(255,
0,0,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(0,a.height-10);c.setAnchorPoint(cc.p(0,0));c=cc.LayerColor.create(cc.c4b(0,0,255,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(a.width-10,a.height-10);c.setAnchorPoint(cc.p(0,0));this.addChild(b);var a=cc.SkewTo.create(2,0,2),c=cc.RotateTo.create(2,61),d=cc.ScaleTo.create(2,-0.44,0.47),f=cc.ScaleTo.create(2,1,1),h=cc.RotateTo.create(2,0),l=cc.SkewTo.create(2,0,0),o=cc.DelayTime.create(0.25);b.runAction(cc.Sequence.create(a,
o,l));b.runAction(cc.Sequence.create(c,o.copy(),h));b.runAction(cc.Sequence.create(d,o.copy(),f));this.ic=b},title:m("Skew + Rotate + Scale"),t:2.1,n:function(){return JSON.stringify([0,2,61,"-0.44","0.47"])},m:function(){var a=[];a.push(this.ic.getSkewX());a.push(this.ic.getSkewY());a.push(this.ic.getRotation());a.push(this.ic.getScaleX().toFixed(2));a.push(this.ic.getScaleY().toFixed(2));return JSON.stringify(a)}}),Ud=L.extend({O:"a = cc.JumpBy.create( time, point, height, #_of_jumps );\na = cc.JumpTo.create( time, point, height, #_of_jumps );",
onEnter:function(){this._super();this.w(3);var a=cc.JumpTo.create(2,cc.p(300,300),50,4),b=cc.JumpBy.create(2,cc.p(300,0),50,4),c=cc.JumpBy.create(2,cc.p(0,0),80,4),d=b.reverse(),f=cc.DelayTime.create(0.25);this.i.runAction(a);this.f.runAction(cc.Sequence.create(b,f,d));this.k.runAction(cc.RepeatForever.create(cc.Sequence.create(c,f.copy())))},title:m("cc.JumpTo / cc.JumpBy"),d:m("Actions will stop for 0.25s after 2 seconds"),t:2.1,n:function(){return JSON.stringify([{x:300,y:300},{x:r.width/2+300,
y:r.height/2},{x:3*r.width/4,y:r.height/2}])},m:function(){var a=[];a.push(this.i.getPosition());a.push(this.f.getPosition());a.push(this.k.getPosition());return JSON.stringify(a)}}),Vd=L.extend({onEnter:function(){this._super();var a=q.getWinSize();this.w(3);var b=cc.DelayTime.create(0.25),c=[cc.p(0,374),cc.p(300,-374),cc.p(300,100)],c=cc.BezierBy.create(2,c),b=cc.RepeatForever.create(cc.Sequence.create(c,b,c.reverse(),b.copy()));this.i.setPosition(80,160);c=[cc.p(100,a.height/2),cc.p(200,-a.height/
2),cc.p(240,160)];a=cc.BezierTo.create(2,c);c=c.slice();this.k.setPosition(400,160);c=cc.BezierTo.create(2,c);this.f.runAction(b);this.i.runAction(a);this.k.runAction(c)},title:m("cc.BezierBy / cc.BezierTo"),t:2.1,Ga:function(){this.scheduleOnce(this.la,0.66667);this.scheduleOnce(this.La,1.33333)},la:function(){this.M=this.f.getPosition()},Bc:function(){var a=Math.abs(this.M.y-87-r.height/2);return 5>Math.abs(this.M.x-77-r.width/2)&&5>a},La:function(){this.aa=this.f.getPosition()},Cc:function(){var a=
Math.abs(this.aa.y+53-r.height/2);return 5>Math.abs(this.aa.x-222-r.width/2)&&5>a},n:function(){return JSON.stringify([g,g,{x:r.width/2+300,y:r.height/2+100}])},m:function(){var a=[];a.push(this.Bc());a.push(this.Cc());a.push(this.f.getPosition());return JSON.stringify(a)}}),Wd=L.extend({onEnter:function(){this._super();this.w(2);this.i.setPosition(80,160);var a=[cc.p(100,r.height/2),cc.p(200,-r.height/2),cc.p(240,160)],a=cc.BezierTo.create(2,a);this.k.setPosition(80,160);var b=a.copy();this.i.runAction(a);
this.k.runAction(b)},title:m("cc.BezierTo copy test"),d:m("Both sprites should move across the same path")}),Xd=L.extend({onEnter:function(){this._super();this.w(1);this.f.setPosition(428,279);var a=[cc.p(428,279),cc.p(100,100),cc.p(100,100)],b=[cc.p(100,100),cc.p(428,279),cc.p(428,279)],a=cc.BezierTo.create(1.5,a),b=cc.BezierTo.create(1.5,b),c=cc.CallFunc.create(this.Sh,this),d=cc.DelayTime.create(0.25);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,b,c,d)))},Sh:function(a){a=a.getPosition();
cc.log("Position x: "+a.x+" y:"+a.y);(428!=a.x||279!=a.y)&&this.log("Error: Issue 1008 is still open");this.Pi=a},title:m("Issue 1008"),d:m("cc.BezierTo + Repeat. See console"),t:3.1,n:function(){return JSON.stringify({x:428,y:279})},m:function(){return JSON.stringify(this.Pi)}}),Yd=L.extend({O:"a = cc.Blink.create( time, #_of_blinks );",onEnter:function(){this._super();this.w(2);var a=cc.Blink.create(2,10),b=cc.Blink.create(2,5);this.i.runAction(a);this.k.runAction(b)},title:m("cc.Blink"),t:2.1,
Ga:function(){this.scheduleOnce(this.la,0.1)},la:function(){this.M=this.k.isVisible()},n:function(){return JSON.stringify([j,g,g])},m:function(){var a=[];a.push(this.M);a.push(this.i.isVisible());a.push(this.k.isVisible());return JSON.stringify(a)}}),Zd=L.extend({O:"a = cc.FadeIn.create( time );\na = cc.FadeOut.create( time );",onEnter:function(){this._super();this.w(2);var a=cc.DelayTime.create(0.25);this.i.setOpacity(0);var b=cc.FadeIn.create(1),c=b.reverse(),d=cc.FadeOut.create(1),f=d.reverse();
this.i.runAction(cc.Sequence.create(b,a,c));this.k.runAction(cc.Sequence.create(d,a.copy(),f))},title:m("cc.FadeIn / cc.FadeOut"),t:1.1,n:function(){return JSON.stringify([255,0])},m:function(){var a=[];a.push(this.i.getOpacity());a.push(this.k.getOpacity());return JSON.stringify(a)}}),$d=L.extend({O:"a = cc.TintBy.create( time, red, green, blue );\na = cc.TintTo.create( time, red, green, blue );",onEnter:function(){this._super();this.w(2);var a=cc.TintTo.create(2,255,0,255),b=cc.TintBy.create(2,
-127,-255,-127),c=b.reverse();this.i.runAction(a);this.k.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c))},title:m("cc.TintTo / cc.TintBy"),t:2.1,n:function(){return JSON.stringify([{r:255,g:0,b:255},{r:128,g:0,b:128}])},m:function(){var a=[];a.push(this.i.getColor());a.push(this.k.getColor());return JSON.stringify(a)}}),ae=L.extend({onEnter:function(){this._super();this.w(3);for(var a=cc.Animation.create(),b=1;15>b;b++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>b?"0"+b:
b)+".png");a.setDelayPerUnit(2.8/14);a.setRestoreOriginalFrame(g);a=cc.Animate.create(a);this.f.runAction(cc.Sequence.create(a,a.reverse()));a=cc.AnimationCache.getInstance();a.addAnimations(bc);a=a.getAnimation("dance_1");b=cc.Animate.create(a);this.i.runAction(cc.Sequence.create(b,b.reverse()));a=a.copy();a.setLoops(4);this.k.runAction(cc.Animate.create(a))},title:m("Animation"),d:m("Center: Manual animation. Border: using file format animation")}),be=L.extend({O:"a = cc.Sequence.create( a1, a2, a3,..., aN);",
onEnter:function(){this._super();this.tb(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(1.5,cc.p(240,0)),cc.RotateBy.create(1.5,540)))},title:m("cc.Sequence: Move + Rotate"),t:3.1,n:function(){return JSON.stringify([{x:300,y:r.height/2},540])},m:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());return JSON.stringify(a)}}),ce=L.extend({onEnter:function(){this._super();this.w(1);this.f.setVisible(j);this.f.runAction(cc.Sequence.create(cc.Place.create(cc.p(200,200)),
cc.Show.create(),cc.MoveBy.create(1,cc.p(100,0)),cc.CallFunc.create(this.ee,this),cc.CallFunc.create(this.fe.bind(this)),cc.CallFunc.create(this.ge,this)));this.Re=this.Se=this.Te=j},ee:function(){var a=q.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.Re=g},fe:function(){var a=q.getWinSize(),b=cc.LabelTTF.create("callback 2 called","Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.Se=
g},ge:function(){var a=q.getWinSize(),b=cc.LabelTTF.create("callback 3 called","Marker Felt",16);b.setPosition(3*(a.width/4),a.height/2);this.addChild(b);this.Te=g},title:m("Sequence of InstantActions"),t:1.1,n:function(){return JSON.stringify([g,g,g,g,{x:300,y:200}])},m:function(){var a=[];a.push(this.Re);a.push(this.Se);a.push(this.Te);a.push(this.f.isVisible());a.push(this.f.getPosition());return JSON.stringify(a)}}),de=L.extend({O:"a = cc.CallFunc.create( this.callback );\na = cc.CallFunc.create( this.callback, this, optional_arg );",
onEnter:function(){this._super();this.w(3);var a=cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.ee.bind(this))),b=cc.Sequence.create(cc.ScaleBy.create(2,2),cc.FadeOut.create(2),cc.CallFunc.create(this.fe,this)),c=cc.Sequence.create(cc.RotateBy.create(3,360),cc.FadeOut.create(2),cc.CallFunc.create(this.ge,this,"Hi!"));this.f.runAction(a);this.i.runAction(b);this.k.runAction(c)},ee:function(){var a=q.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);
b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.M=g},fe:function(){var a=q.getWinSize(),b=cc.LabelTTF.create("callback 2 called","Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.aa=g},ge:function(a,b){var c=q.getWinSize(),d=cc.LabelTTF.create("callback 3 called:"+b,"Marker Felt",16);d.setPosition(3*(c.width/4),c.height/2);this.addChild(d);this.eb=g},title:m("Callbacks: CallFunc and friends"),t:5.05,Ga:function(){this.M=this.aa=this.eb=j},n:function(){return JSON.stringify([g,
g,g])},m:function(){var a=[];a.push(this.M);a.push(this.aa);a.push(this.eb);return JSON.stringify(a)}}),ee=L.extend({onEnter:function(){this._super();this.w(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.removeFromParentAndCleanup,this.f,g)))},removeFromParentAndCleanup:function(a,b){a.removeFromParent(b)},title:m("cc.CallFunc + auto remove"),d:m("cc.CallFunc + removeFromParentAndCleanup. Grossini dissapears in 2s"),t:2.1,Ga:k(),n:function(){return JSON.stringify([i])},
m:function(){var a=[];a.push(this.getChildByTag(1));return JSON.stringify(a)}}),fe=L.extend({onEnter:function(){this._super();this.w(1);this.runAction(cc.CallFunc.create(function(a,b){this.M="Value is: "+b;this.log("Object:"+a+". "+this.M)},this,"Hello world"))},title:m("cc.CallFunc + parameters"),d:m("cc.CallFunc + parameters. Take a look at the console"),t:0.1,Ga:k(),n:function(){return JSON.stringify(["Value is: Hello world"])},m:function(){var a=[];a.push(this.M);return JSON.stringify(a)}}),ge=
L.extend({O:"a = cc.Spawn.create( a1, a2, ..., aN );",onEnter:function(){this._super();this.tb(1);this.f.runAction(cc.Spawn.create(cc.JumpBy.create(2,cc.p(300,0),50,4),cc.RotateBy.create(2,720)))},title:m("cc.Spawn: Jump + Rotate"),t:2.1,n:function(){return JSON.stringify([{x:360,y:r.height/2},720])},m:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());return JSON.stringify(a)}}),he=L.extend({O:"a = cc.RepeatForever.create( action_to_repeat );",onEnter:function(){this._super();
this.w(1);this.f.runAction(cc.Sequence.create(cc.DelayTime.create(1),cc.CallFunc.create(this.di)))},di:function(a){var b=cc.RepeatForever.create(cc.RotateBy.create(1,360));a.runAction(b)},title:m("cc.CallFunc + cc.RepeatForever"),t:3.5,n:function(){return JSON.stringify([g])},m:function(){var a=[],b=this.f.getRotation();a.push(915>b&&885<b);return JSON.stringify(a)}}),ie=L.extend({O:"a = cc.Repeat.create( action_to_repeat, #_of_times );",onEnter:function(){this._super();this.w(2);var a=cc.RotateTo.create(0.5,
90),b=cc.RotateTo.create(0.5,0),b=cc.Sequence.create(a,b),a=cc.RepeatForever.create(b),b=cc.Repeat.create(b.copy(),4);this.i.runAction(a);this.k.runAction(b)},title:m("Repeat/RepeatForever + RotateTo"),t:4.5,n:function(){return JSON.stringify([0,g])},m:function(){var a=[];a.push(this.k.getRotation());var b=this.i.getRotation();a.push(105>b&&75<b);return JSON.stringify(a)}}),je=L.extend({onEnter:function(){this._super();this.w(2);var a=cc.Sequence.create(cc.RotateTo.create(0.5,-20),cc.RotateTo.create(0.5,
20)),b=cc.Repeat.create(a,10),a=cc.RepeatForever.create(a.copy());this.i.runAction(b);this.k.runAction(a)},title:m("RepeatForever / Repeat + Rotate")}),ke=L.extend({O:"a = action.reverse();",onEnter:function(){this._super();this.tb(1);var a=cc.JumpBy.create(2,cc.p(300,0),50,4),b=cc.DelayTime.create(0.25);this.f.runAction(cc.Sequence.create(a,b,a.reverse()))},title:m("Reverse Jump action"),t:4.4,Ga:function(){this.scheduleOnce(this.la,2.1)},la:function(){this.M=this.f.getPosition()},n:function(){return JSON.stringify([{x:360,
y:r.height/2},{x:60,y:r.height/2}])},m:function(){var a=[];a.push(this.M);a.push(this.f.getPosition());return JSON.stringify(a)}}),le=L.extend({O:"a = cc.DelayTime.create( time );",onEnter:function(){this._super();this.tb(1);var a=cc.MoveBy.create(1,cc.p(150,0));this.f.runAction(cc.Sequence.create(a,cc.DelayTime.create(2),a.copy()))},title:m("DelayTime: m + delay + m"),t:2.9,n:function(){return JSON.stringify([{x:210,y:r.height/2}])},m:function(){var a=[];a.push(this.f.getPosition());return JSON.stringify(a)}}),
me=L.extend({onEnter:function(){this._super();this.tb(1);var a=cc.MoveBy.create(1,cc.p(250,0)),b=cc.MoveBy.create(1,cc.p(0,50)),a=cc.Sequence.create(a,b,a.reverse());this.f.runAction(cc.Sequence.create(a,a.reverse()))},d:m("Reverse a sequence")}),ne=L.extend({onEnter:function(){this._super();this.tb(2);var a=cc.MoveBy.create(3,cc.p(250,0)),b=cc.MoveBy.create(3,cc.p(0,50)),c=cc.ToggleVisibility.create(),d=cc.ToggleVisibility.create(),a=cc.Sequence.create(a,c,b,d,a.reverse());this.k.runAction(cc.Repeat.create(cc.Sequence.create(a,
a.reverse()),3));a=cc.MoveBy.create(1,cc.p(100,0));b=cc.MoveBy.create(1,cc.p(50,0));c=cc.Hide.create();a=cc.Sequence.create(a,c,b);b=a.reverse();this.i.runAction(cc.Sequence.create(a,b))},d:m("Reverse sequence 2")}),oe=L.extend({onEnter:function(){this._super();this.tb(2);var a=cc.MoveBy.create(1,cc.p(150,0)),b=cc.Repeat.create(cc.Sequence.create(cc.Place.create(cc.p(60,60)),a),3),a=cc.RepeatForever.create(cc.Sequence.create(a.copy(),a.reverse(),cc.DelayTime.create(0.25)));this.k.runAction(b);this.i.runAction(a)},
title:m("Repeat / RepeatForever actions"),t:4.3,n:function(){return JSON.stringify([{x:210,y:60},{x:60,y:2*r.height/3}])},m:function(){var a=[];a.push(this.k.getPosition());a.push(this.i.getPosition());return JSON.stringify(a)}}),pe=L.extend({onEnter:function(){this._super();this.w(3);var a=cc.OrbitCamera.create(2,1,0,0,180,0,0),a=cc.Sequence.create(a,a.reverse()),b=cc.OrbitCamera.create(2,1,0,0,180,-45,0),b=cc.Sequence.create(b,b.reverse()),c=cc.OrbitCamera.create(2,1,0,0,180,90,0),c=cc.Sequence.create(c,
c.reverse());this.k.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(b));this.f.runAction(cc.RepeatForever.create(c));a=cc.MoveBy.create(3,cc.p(100,-100));b=a.reverse();a=cc.Sequence.create(a,b);a=cc.RepeatForever.create(a);this.k.runAction(a);this.i.runAction(a.copy());this.f.runAction(a.copy())},d:m("OrbitCamera action")}),qe=L.extend({onEnter:function(){this._super();this.w(1);var a=q.getWinSize();this.f.setPosition(-(a.width/2),a.height/2);var b=cc.MoveBy.create(2,
cc.p(3*a.width,0)),c=b.reverse(),b=cc.Sequence.create(b,c);this.f.runAction(cc.RepeatForever.create(b));this.runAction(cc.Follow.create(this.f,cc.rect(0,0,2*a.width-100,a.height)))},d:m("Follow action")}),re=L.extend({Jc:i,O:" a = cc.CadinalSplineBy.create( time, array_of_points, tension );\n a = cc.CadinalSplineTo.create( time, array_of_points, tension );",ctor:function(){this._super();this.Jc=[]},onEnter:function(){this._super();this.w(2);var a=cc.DelayTime.create(0.25),b=[cc.p(0,0),cc.p(r.width/
2-30,0),cc.p(r.width/2-30,r.height-80),cc.p(0,r.height-80),cc.p(0,0)],c=cc.CardinalSplineBy.create(2,b,0),d=c.reverse(),c=cc.Sequence.create(c,a,d,a.copy());this.i.setPosition(50,50);this.i.runAction(c);c=cc.CardinalSplineBy.create(2,b,1);d=c.reverse();a=cc.Sequence.create(c,a.copy(),d,a.copy());this.k.setPosition(r.width/2,50);this.k.runAction(a);this.Jc=b},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.Jc,
0,100);a.restore();var c=q.getWinSize();a.save();a.translate(c.width/2-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.Jc,1,100);a.restore()},d:m("Cardinal Spline paths. Testing different tensions for one array"),title:m("CardinalSplineBy / CardinalSplineAt"),t:2.1,Ga:function(){this.scheduleOnce(this.la,0.5);this.scheduleOnce(this.La,1);this.scheduleOnce(this.Od,1.5)},la:function(){this.M=this.i.getPosition()},Bc:function(){var a=Math.abs(50-this.M.y);return 5>Math.abs(50+r.width/2-30-this.M.x)&&
5>a},La:function(){this.aa=this.i.getPosition()},Cc:function(){var a=Math.abs(50+r.height-80-this.aa.y);return 5>Math.abs(50+r.width/2-30-this.aa.x)&&5>a},Od:function(){this.eb=this.i.getPosition()},xe:function(){var a=Math.abs(50+r.height-80-this.eb.y);return 5>Math.abs(50-this.eb.x)&&5>a},n:function(){return JSON.stringify([g,g,g,{x:50,y:50}])},m:function(){var a=[];a.push(this.Bc());a.push(this.Cc());a.push(this.xe());a.push(this.i.getPosition());return JSON.stringify(a)}}),se=L.extend({Ed:i,Fd:i,
O:"a = cc.CatmullRomBy.create( time, array_of_points );\n a = cc.CatmullRomTo.create( time, array_of_points );",ctor:function(){this._super();this.Ed=[];this.Fd=[]},onEnter:function(){this._super();this.w(2);var a=cc.DelayTime.create(0.25);this.i.setPosition(50,50);var b=[cc.p(0,0),cc.p(80,80),cc.p(r.width-80,80),cc.p(r.width-80,r.height-80),cc.p(80,r.height-80),cc.p(80,80),cc.p(r.width/2,r.height/2)],c=cc.CatmullRomBy.create(3,b),d=c.reverse();this.i.runAction(cc.Sequence.create(c,a,d));var c=[cc.p(r.width/
2,30),cc.p(r.width-80,30),cc.p(r.width-80,r.height-80),cc.p(r.width/2,r.height-80),cc.p(r.width/2,30)],d=cc.CatmullRomTo.create(3,c),f=d.reverse();this.k.runAction(cc.Sequence.create(d,a.copy(),f));this.Ed=b;this.Fd=c},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-b.x,b.y-50);cc.drawingUtil.drawCatmullRom(this.Ed,50);a.restore();a.save();a.translate(-b.x,b.y);cc.drawingUtil.drawCatmullRom(this.Fd,50);a.restore()},d:m("Catmull Rom spline paths. Testing reverse too"),
title:m("CatmullRomBy / CatmullRomTo"),t:3.1,Ga:function(){this.scheduleOnce(this.la,0);this.scheduleOnce(this.La,0.75);this.scheduleOnce(this.Od,1.5)},la:function(){this.M=this.k.getPosition()},Bc:function(){var a=Math.abs(30-this.M.y);return 5>Math.abs(r.width/2-this.M.x)&&5>a},La:function(){this.aa=this.k.getPosition()},Cc:function(){var a=Math.abs(30-this.aa.y);return 5>Math.abs(r.width-80-this.aa.x)&&5>a},Od:function(){this.eb=this.k.getPosition()},xe:function(){var a=Math.abs(r.height-80-this.eb.y);
return 5>Math.abs(r.width-80-this.eb.x)&&5>a},n:function(){return JSON.stringify([g,g,g,{x:r.width/2,y:30}])},m:function(){var a=[];a.push(this.Bc());a.push(this.Cc());a.push(this.xe());a.push(this.k.getPosition());return JSON.stringify(a)}}),te=L.extend({O:"a = cc.TargetedAction.create( target, action );",onEnter:function(){this._super();this.w(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),c=cc.RotateBy.create(1,360),d=c.copy(),b=cc.TargetedAction.create(this.k,b),d=cc.TargetedAction.create(this.k,
d),a=cc.Sequence.create(a,b,c,d);this.i.runAction(cc.RepeatForever.create(a))},title:m("Action that runs on another target. Useful for sequences"),d:m("ActionTargeted")}),ue=L.extend({onEnter:function(){this._super();this.w(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),b=cc.TargetedAction.create(this.k,b).copy();this.i.runAction(cc.Sequence.create(a,b))},title:m("Action that runs on another target. Useful for sequences"),d:m("Testing copy on TargetedAction")}),ve=L.extend({onEnter:function(){this._super();
this.w(1);this.f.setPosition(40,r.height/2);var a=cc.MoveBy.create(0.2,cc.ia(0,50)),b=a.reverse();cc.DelayTime.create(0.25);a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=cc.MoveBy.create(2,cc.ia(r.width-80,0));b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + MoveBy"),d:m("Grossini shall move up and down while moving horizontally"),t:0.2,n:function(){return JSON.stringify([g,g])},m:function(){var a=
[],b=this.f.getPosition(),c=40+0.2*(r.width-80)/2,d=r.height/2+50,d=b.y<d+10&&b.y>d-10;a.push(b.x<c+10&&b.x>c-10);a.push(d);return JSON.stringify(a)}}),we=L.extend({onEnter:function(){this._super();this.w(1);this.f.setPosition(40,r.height/2);var a=cc.MoveBy.create(0.05,cc.ia(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=cc.JumpBy.create(2,cc.ia(r.width-80,0),90,5);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + JumpBy"),
d:m("Grossini shall shake while he is jumping")}),xe=L.extend({onEnter:function(){this._super();this.w(1);this.f.setPosition(40,r.height/2);var a=cc.MoveBy.create(0.05,cc.ia(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,r.height/2),cc.p(r.width-80,-r.height/2),cc.p(r.width-80,100)];a=cc.BezierBy.create(3,a);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,a.reverse())))},title:m("Stackable actions: MoveBy + BezierBy"),d:m("Grossini shall shake while he moves along a bezier path")}),
ye=L.extend({onEnter:function(){this._super();this.w(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc.ia(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(r.width-80,80),cc.p(r.width-80,r.height-80),cc.p(80,r.height-80),cc.p(80,80),cc.p(r.width/2,r.height/2)];a=cc.CatmullRomBy.create(6,a);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + CatmullRomBy"),
d:m("Grossini shall shake while he moves along a CatmullRom path")}),ze=L.extend({onEnter:function(){this._super();this.w(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc.ia(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(r.width-80,80),cc.p(r.width-80,r.height-80),cc.p(80,r.height-80),cc.p(80,80),cc.p(r.width/2,r.height/2)];a=cc.CardinalSplineBy.create(6,a,0.9);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},
title:m("Stackable actions: MoveBy + CardinalSplineBy"),d:m("Grossini shall shake while he moves along a CardinalSpline path")}),Ae=L.extend({Le:[],onEnter:function(){this._super();this.w(2);this.i.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.f.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,-360)));this.k.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.schedule(this.pause,3,j,0);this.schedule(this.resume,5,j,0)},pause:function(){cc.log("Pausing");this.Le=
q.getActionManager().pauseAllRunningActions()},resume:function(){cc.log("Resuming");q.getActionManager().resumeTargets(this.Le)},title:m("PauseResumeActions"),d:m("All actions pause at 3s and resume at 5s")}),Be=L.extend({Jj:i,onEnter:function(){this._super();this.w(0);this.Jd=cc.Sprite.create(z);this.Jd.runAction(cc.CallFunc.create(this.gh,this));this.scheduleOnce(this.Pg,2)},onExit:function(){this._super()},gh:function(){cc.log("This message SHALL ONLY appear when the sprite is added to the scene, NOT BEFORE")},
Pg:function(){this.Jd.setPosition(250,250);this.addChild(this.Jd)},title:m("Issue 1305"),d:m("In two seconds you should see a message on the console. NOT BEFORE.")}),Ce=L.extend({onEnter:function(){this._super();this.w(0);var a=cc.Sprite.create(z);a.setPosition(200,200);this.addChild(a);var b=cc.MoveBy.create(2,cc.p(0,100)),c=cc.CallFunc.create(this.ih),d=cc.MoveBy.create(2,cc.p(0,-100)),f=cc.CallFunc.create(this.jh,this),h=cc.MoveBy.create(2,cc.p(100,-100)),l=cc.CallFunc.create(this.kh.bind(this)),
o=cc.MoveBy.create(2,cc.p(-100,0)),u=cc.CallFunc.create(this.lh,this),b=cc.Sequence.create(b,c,d,f,h,l,o,u);q.getActionManager().addAction(b,a,j)},ih:function(){cc.log("1st block")},jh:function(){cc.log("2nd block")},kh:function(){cc.log("3rd block")},lh:function(){cc.log("4th block")},title:m("Issue 1305 #2"),d:m("See console. You should only see one message for each block")}),De=L.extend({onEnter:function(){this._super();this.w(0);var a=cc.Sprite.create(z);a.setPosition(100,100);this.addChild(a);
var b=cc.MoveBy.create(0.5,cc.p(100,0)),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.Repeat.create(b,2);a.runAction(b)},title:m("Issue 1288"),d:m("Sprite should end at the position where it started.")}),Ee=L.extend({onEnter:function(){this._super();this.w(0);var a=cc.Sprite.create(z);a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0));a.runAction(cc.Repeat.create(b,1))},title:m("Issue 1288 #2"),d:m("Sprite should move 100 pixels, and stay there")}),Fe=L.extend({onEnter:function(){this._super();
this.w(0);var a=cc.Sprite.create(z);a.setPosition(100,100);this.addChild(a);var b=cc.CallFunc.create(this.oc),c=cc.RotateBy.create(0.25,45),d=cc.CallFunc.create(this.oc,this),f=cc.RotateBy.create(0.25,45),h=cc.CallFunc.create(this.oc.bind(this)),l=cc.RotateBy.create(0.25,45),o=cc.CallFunc.create(this.oc),u=cc.RotateBy.create(0.25,45),x=cc.CallFunc.create(this.oc),b=cc.Sequence.create(b,c,d,f,h,l,o,u,x);a.runAction(b)},oc:function(a){cc.log(a.getRotation())},title:m("Issue 1327"),d:m("See console: You should see: 0, 45, 90, 135, 180")}),
Ge=L.extend({onEnter:function(){this._super();this.w(2);for(var a=cc.Animation.create(),b=0;4>b;b++)for(var c=1;15>c;c++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>c?"0"+c:c)+".png");a.setDelayPerUnit(1/60);a.setRestoreOriginalFrame(g);this.k.runAction(cc.Animate.create(a));a=cc.AnimationCache.getInstance();a.addAnimations(bc);a=a.getAnimation("dance_1");a.setDelayPerUnit(1/60);a=cc.Animate.create(a);this.i.runAction(cc.Sequence.create(a,a.reverse()))},title:m("Animation"),d:m("Issue 1438. Set FPS to 30 to test this bug.")}),
He=L.extend({title:m("Sequence + Speed in 'reverse mode'"),d:m("Issue #1446. 'Hello World' should be visible for only 0.1 seconds"),onEnter:function(){this._super();this.w(0);var a=this.label=cc.LabelTTF.create("Hello World","Marker Felt",64);a.setPosition(r.width/2,r.height/2);a.setOpacity(0);this.addChild(a);this.Nd=cc.Speed.create(cc.Sequence.create(cc.DelayTime.create(2),cc.FadeTo.create(1,255),cc.DelayTime.create(2)),1);a.runAction(this.Nd);this.scheduleOnce(this.Ai,0.1)},Ai:function(){this.Nd.getInnerAction().step(2.5);
this.Nd.setSpeed(-10)}}),Md=[Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,re,se,Yd,Zd,$d,be,ce,ge,ke,le,oe,he,ie,je,de,ee,fe,me,ne,pe,qe,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,ae,Ge,He];function Kd(){Jd++;Jd%=Md.length;return new Md[Jd]}function Ld(){Jd--;0>Jd&&(Jd+=Md.length);return new Md[Jd]};var v=v||j,ja=ja||"N/A",J=cc.LayerGradient.extend({ctor:function(a,b){sys.Td();this._super();cc.associateWithNative(this,cc.LayerGradient);var c=cc.c4b(98,99,117,255),d=cc.c4b(0,0,0,255);1<=arguments.length&&(c=a);2==arguments.length&&(d=b);v&&(c=cc.c4b(0,0,0,255),d=cc.c4b(0,0,0,255));this.init(c,d);r=q.getWinSize();v&&(this.G(),this.scheduleOnce(this.Dg,this.t),this.Ga())},Ga:k(),Ud:function(){var a="";"title"in this?a=this.title():"_title"in this&&(a=this.e);return a},Kg:function(){var a="";"subtitle"in
this?a=this.d():"_subtitle"in this&&(a=this.h);return a},log:function(a){v||cc.log(a)},onEnter:function(){this._super();var a=this.Ud(),a=cc.LabelTTF.create(a,"Arial",28);this.addChild(a,100,11);a.setPosition(r.width/2,r.height-50);if(a=this.Kg())a=cc.LabelTTF.create(a.toString(),"Thonburi",16),this.addChild(a,101,12),a.setPosition(r.width/2,r.height-80);var a=cc.MenuItemImage.create(hb,ib,this.A,this),b=cc.MenuItemImage.create(C,jb,this.C,this),c=cc.MenuItemImage.create(kb,lb,this.B,this);a.setTag(1);
b.setTag(2);c.setTag(3);var d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(r.width/2-2*f.width,f.height/2);b.setPosition(r.width/2,f.height/2);c.setPosition(r.width/2+2*f.width,f.height/2);this.addChild(d,102,10)},C:k(),B:k(),A:k(),t:0.25,n:function(){e("Not Implemented")},m:function(){e("Not Implemented")},ng:function(a,b){return a==b},Ci:function(){var a=this.m(),b=this.n(),c=this.ng(a,b);c||(this.af="Expected value: '"+b+"'. Current value'"+a+"'.");return c},
Dg:function(a){this.af="";var b=this.Ud();try{this.Ci(a)?cc.log(ja+" - "+this.D()+": Test '"+b+"':' OK"):cc.log(ja+" - "+this.D()+": Test '"+b+"': Error: "+this.af)}catch(c){cc.log(ja+" - "+this.D()+": Test '"+b+"':'"+c)}this.sc()},G:function(){e("Override me: numberOfPendingTests")},D:function(){e("Override me: getTestNumber")},sc:function(){if(0>=this.G()){var a=cc.Scene.create(),b=new da;a.addChild(b);q.replaceScene(a)}else try{this.B(this)}catch(c){cc.log(ja+" - "+this.D()+": Test '"+this.Ud()+
"':'"+c),this.sc()}},readPixels:function(a,b,c,d){if("opengl"in sys.j){var f=new Uint8Array(4*c*d);gl.readPixels(a,b,c,d,gl.RGBA,gl.UNSIGNED_BYTE,f);return f}e("readPixels Not implemented on canvas yet")},Gf:function(a){var b={},c,d=[];for(c in a)a.hasOwnProperty(c)&&d.push(c);d.sort();for(c=0;c<d.length;c++)b[d[c]]=a[d[c]];return b}});Box2DTestLayer=cc.Layer.extend({Ta:i,ctor:function(){this.setMouseEnabled(g);var a=Box2D.$i.oj.Rj,b=Box2D.Hb.fg,c=Box2D.Hb.eg,d=Box2D.Hb.gg,f=Box2D.Hb.Sj,h=Box2D.Nf.Uf.hg,l=cc.Director.getInstance().getWinSize();this.Ta=new f(new a(0,-10),g);this.Ta.rj(g);a=new d;a.xg=1;a.Fg=0.5;a.vk=0.2;b=new b;b.type=c.Uj;a.shape=new h;a.shape.Ae(20,2);b.position.Set(10,l.height/32+1.8);this.Ta.Dc(b).Ec(a);b.position.Set(10,-1.8);this.Ta.Dc(b).Ec(a);a.shape.Ae(2,14);b.position.Set(-1.8,13);this.Ta.Dc(b).Ec(a);b.position.Set(26.8,
13);this.Ta.Dc(b).Ec(a);this.addChild(cc.SpriteBatchNode.create(mb,150),0,1);this.Da(cc.p(l.width/2,l.height/2));c=cc.LabelTTF.create("Tap screen","Marker Felt",32);this.addChild(c,0);c.setColor(cc.c3b(0,0,255));c.setPosition(cc.p(l.width/2,l.height-50));this.scheduleUpdate()},Da:function(a){var b=this.getChildByTag(1),c=0.5<Math.random()?0:1,d=0.5<Math.random()?0:1,c=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(32*c,32*d,32,32));b.addChild(c);c.setPosition(cc.p(a.x,a.y));var f=Box2D.Hb.eg,
b=Box2D.Hb.gg,d=Box2D.Nf.Uf.hg,h=new Box2D.Hb.fg;h.type=f.Tj;h.position.Set(a.x/32,a.y/32);h.Pk=c;a=this.Ta.Dc(h);c=new d;c.Ae(0.5,0.5);b=new b;b.shape=c;b.xg=1;b.Fg=0.3;a.Ec(b)},update:function(a){this.Ta.yj(a,8,1);for(a=this.Ta.ij();a;a=a.jj())if(a.Qf()!=i){var b=a.Qf();b.setPosition(cc.p(32*a.Pf().x,32*a.Pf().y));b.setRotation(-1*cc.RADIANS_TO_DEGREES(a.hj()))}},onMouseUp:function(a){this.Da(a.getLocation())}});Box2DTestScene=w.extend({q:function(){this.addChild(new Box2DTestLayer);cc.Director.getInstance().replaceScene(this)}});var Ie=-1;function M(){J.call(this,cc.c4b(0,0,0,255),cc.c4b(49,49.5,58.5,255));this.e="No title";this.h="No Subtitle";var a=cc.MenuItemFont.create("Physics On/Off",this.Oh,this);a.setFontSize(24);a=cc.Menu.create(a);this.addChild(a);a.setPosition(cc.ia(r.width-100,r.height-90));this.o=new cp.Space;this.mb=cc.PhysicsDebugNode.create(this.o);this.mb.setVisible(j);this.addChild(this.mb)}cc.inherits(M,J);n=M.prototype;n.Oh=function(){this.mb.setVisible(!this.mb.isVisible())};
n.onEnter=function(){J.prototype.onEnter.call(this);sys.Ze();sys.Td()};n.C=function(){this.unscheduleUpdate();var a=new ra;a.addChild(new Je[Ie]);q.replaceScene(a)};n.B=function(){this.unscheduleUpdate();var a=new ra;a.addChild(Ke());q.replaceScene(a)};n.A=function(){this.unscheduleUpdate();var a=new ra;a.addChild(Le());q.replaceScene(a)};n.G=function(){return Je.length-1-Ie};n.D=function(){return Ie};
function Me(){M.call(this);this.Ea=function(a){this.addChild(this.ba(a))};this.e="Chipmunk Sprite Test";this.h="Chipmunk + cocos2d sprites tests. Tap screen.";this.yb()}cc.inherits(Me,M);n=Me.prototype;
n.yb=function(){for(var a=this.o,b=a.Db,b=[new cp.SegmentShape(b,cp.v(0,0),cp.v(r.width,0),0),new cp.SegmentShape(b,cp.v(0,r.height),cp.v(r.width,r.height),0),new cp.SegmentShape(b,cp.v(0,0),cp.v(0,r.height),0),new cp.SegmentShape(b,cp.v(r.width,0),cp.v(r.width,r.height),0)],c=0;c<b.length;c++){var d=b[c];d.setElasticity(1);d.setFriction(1);a.addStaticShape(d)}a.Na=cp.v(0,-100)};
n.ba=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.o.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.o.addShape(a);a=cc.PhysicsSprite.create(z);a.setBody(b);return a};n.onEnter=function(){M.prototype.onEnter.call(this);this.scheduleUpdate();for(var a=0;10>a;a++)this.Ea(cp.v(r.width/2,r.height/2));"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g)};n.update=function(a){this.o.step(a)};n.onMouseDown=function(a){this.Ea(a.getLocation())};
n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ea(a[c].getLocation())};function Ne(){Me.call(this);this.hc=cc.SpriteBatchNode.create(z,50);this.addChild(this.hc);this.Ea=function(a){this.hc.addChild(this.ba(a))};this.e="Chipmunk SpriteBatch Test";this.h="Chipmunk + cocos2d sprite batch tests. Tap screen."}cc.inherits(Ne,Me);
function Oe(){M.call(this);this.e="Chipmunk Collision test";this.h="Using Object Oriented API. ** Use this API **";this.yb=function(){for(var a=this.o.Db,a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(r.width,0),0),new cp.SegmentShape(a,cp.v(0,r.height),cp.v(r.width,r.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,r.height),0),new cp.SegmentShape(a,cp.v(r.width,0),cp.v(r.width,r.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.o.addStaticShape(c)}this.o.Na=cp.v(0,-100);
this.o.Yc=15};this.ba=function(a,b,c){var d=new cp.Body(1,cp.momentForBox(1,48,108));d.setPos(a);this.o.addBody(d);a=new cp.BoxShape(d,48,108);a.setElasticity(0.5);a.setFriction(0.5);a.setCollisionType(c);this.o.addShape(a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){M.prototype.onEnter.call(this);this.yb();this.scheduleUpdate();var a=this.ba(cc.p(r.width/2,r.height-20),z,1),b=this.ba(cc.p(r.width/2,50),A,2);this.addChild(a);this.addChild(b);this.o.addCollisionHandler(1,
2,this.ub.bind(this),this.wb.bind(this),this.vb.bind(this),this.xb.bind(this))};this.onExit=function(){this.o.removeCollisionHandler(1,2)};this.update=function(a){this.o.step(a)};this.ub=function(a){if(!this.ed){var b=cc.LabelBMFont.create("Collision Detected",bd);this.addChild(b);b.setPosition(r.width/2,r.height/2);this.ed=g}cc.log("collision begin");a=a.Ig();b=a[1].mg;cc.log("Collision Type A:"+a[0].mg);cc.log("Collision Type B:"+b);return g};this.wb=function(){cc.log("collision pre");return g};
this.vb=function(){cc.log("collision post")};this.xb=function(){cc.log("collision separate")}}cc.inherits(Oe,M);
function Pe(){M.call(this);this.ed=j;this.e="Chipmunk Collision Test";this.h='using "C"-like API. ** DO NOT USE THIS API **';this.yb=function(){this.o=cp.Ik();this.mb.setSpace(this.o);for(var a=cp.Hk(this.o),a=[cp.pe(a,cp.v(0,0),cp.v(r.width,0),0),cp.pe(a,cp.v(0,r.height),cp.v(r.width,r.height),0),cp.pe(a,cp.v(0,0),cp.v(0,r.height),0),cp.pe(a,cp.v(r.width,0),cp.v(r.width,r.height),0)],b=0;b<a.length;b++){var c=a[b];cp.qi(c,1);cp.ri(c,1);cp.Fk(this.o,c)}cp.Kk(this.o,cp.v(0,-30))};this.ba=function(a,
b,c){var d=cp.Vj(1,cp.momentForBox(1,48,108));cp.Wj(d,a);cp.Ck(this.o,d);a=cp.Yj(d,48,108);cp.qi(a,0.5);cp.ri(a,0.5);cp.Ak(a,c);cp.Ek(this.o,a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){M.prototype.onEnter.call(this);this.yb();this.scheduleUpdate();var a=this.ba(cc.p(r.width/2,r.height-20),z,1),b=this.ba(cc.p(r.width/2,50),A,2);this.addChild(a);this.addChild(b);cp.Dk(this.o,1,2,this.ub.bind(this),this.wb.bind(this),this.vb.bind(this),this.xb.bind(this))};this.onExit=
function(){cp.Jk(this.o,1,2);cp.Gk(this.o)};this.update=function(a){cp.Lk(this.o,a)};this.ub=function(a){if(!this.ed){var b=cc.LabelBMFont.create("Collision Detected",bd);this.addChild(b);b.setPosition(r.width/2,r.height/2);this.ed=g}cc.log("collision begin");cp.Pj(a);b=cp.Qj(a);a=cp.pi(b[0]);b=cp.pi(b[1]);cc.log("Collision Type A:"+a);cc.log("Collision Type B:"+b);return g};this.wb=function(){cc.log("collision pre");return g};this.vb=function(){cc.log("collision post")};this.xb=function(){cc.log("collision separate")}}
cc.inherits(Pe,M);
function Qe(){M.call(this);this.e="Chipmunk Memory Leak Test";this.h="Testing possible memory leak on the collision handler. No visual feedback";this.ub=m(g);this.wb=m(g);this.vb=function(){cc.log("collision post")};this.xb=function(){cc.log("collision separate")};this.onEnter=function(){M.prototype.onEnter.call(this);for(var a=1;100>a;a++)this.o.addCollisionHandler(a,a+1,this.ub.bind(this),this.wb.bind(this),this.vb.bind(this),this.xb.bind(this))};this.onExit=function(){M.prototype.onExit.call(this);for(var a=
1;100>a;a++)this.o.removeCollisionHandler(a,a+1)}}cc.inherits(Qe,M);
function Re(){M.call(this);this.e="AnchorPoint in PhysicsSprite";this.h="Tests AnchorPoint in PhysicsSprite. See animated sprites";this.onEnter=function(){M.prototype.onEnter.call(this);this.mb.setVisible(g);this.o.Na=N(0,0);var a=this.ba(cp.v(1*(r.width/4),r.height/2)),b=this.ba(cp.v(2*(r.width/4),r.height/2)),c=this.ba(cp.v(3*(r.width/4),r.height/2));a.setAnchorPoint(cc.p(0,0));b.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(1,1));var d=cc.ScaleBy.create(0.5,0.5),f=d.reverse(),d=cc.Sequence.create(d,
f),d=cc.RepeatForever.create(d);a.runAction(d);b.runAction(d.copy());c.runAction(d.copy());this.addChild(a);this.addChild(b);this.addChild(c);this.scheduleUpdate()}}cc.inherits(Re,M);Re.prototype.ba=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.o.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.o.addShape(a);a=cc.PhysicsSprite.create(z);a.setBody(b);return a};Re.prototype.update=function(a){for(var a=a/1,b=0;1>b;b++)this.o.step(a)};
function Se(){M.call(this);this.e="Chipmunk Release Test";this.h="Space finalizer should be called";this.ub=m(g);this.wb=m(g);this.vb=function(){cc.log("collision post")};this.xb=function(){cc.log("collision separate")};this.onEnter=function(){M.prototype.onEnter.call(this);cc.log("OnEnter");sys.Ze();sys.Td();this.o.addCollisionHandler(10,11,this.ub.bind(this),this.wb.bind(this),this.vb.bind(this),this.xb.bind(this))};this.onExit=function(){cc.log("OnExit");this.o=i;sys.Ze();sys.Td();M.prototype.onExit.call(this)}}
cc.inherits(Se,M);var N=cp.v;function Te(){M.call(this);this.mb.setVisible(g);this.scheduleUpdate()}cc.inherits(Te,M);Te.prototype.update=function(a){this.o.step(a)};function Ue(a){a=a.o;a=a.addShape(new cp.SegmentShape(a.Db,N(0,0),N(640,0),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function Ve(a){var a=a.o,b=a.addShape(new cp.SegmentShape(a.Db,N(0,0),N(0,480),0));b.setElasticity(1);b.setFriction(1);b.setLayers(2147483647);a=a.addShape(new cp.SegmentShape(a.Db,N(640,0),N(640,480),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function We(){Te.call(this);this.h="Chipmunk Demo";this.e="Pyramid Stack";var a=this.o;a.Na=N(0,-100);a.vc=0.5;a.Pd=0.5;var b;Ue(this);Ve(this);for(var c=0;14>c;c++)for(var d=0;d<=c;d++)b=a.addBody(new cp.Body(1,cp.momentForBox(1,30,30))),b.setPos(N(32*d-16*c+320,540-32*c)),b=a.addShape(new cp.BoxShape(b,30,30)),b.setElasticity(0),b.setFriction(0.8);b=a.addBody(new cp.Body(10,cp.momentForCircle(10,0,15,N(0,0))));b.setPos(N(320,20));b=a.addShape(new cp.CircleShape(b,15,N(0,0)));b.setElasticity(0);
b.setFriction(0.9)}cc.inherits(We,Te);
function Xe(){function a(a,c){var d=cp.momentForBox(1,4,30),d=b.addBody(new cp.Body(1,d));d.setPos(a);d=c?new cp.BoxShape(d,30,4):new cp.BoxShape(d,4,30);b.addShape(d);d.setElasticity(0);d.setFriction(0.6)}Te.call(this);this.h="Chipmunk Demo";this.e="Pyramid Topple";var b=this.o;b.Yc=30;b.Na=N(0,-300);b.vc=0.5;b.Pd=0.5;Ue(this);for(var c=0;12>c;c++)for(var d=0;d<12-c;d++){var f=N(320+45*(d-0.5*(11-c)),38*(c+0.5)-4);a(f,j);a(cp.v.add(f,N(0,17)),g);0===d&&a(cp.v.add(f,N(-13,34)),j);d!=12-c-1?a(cp.v.add(f,
N(22.5,21)),g):a(cp.v.add(f,N(13,34)),j)}}cc.inherits(Xe,Te);Xe.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.o.step(a)};
function Ye(){function a(a){labels.push({text:a,uk:u})}function b(){return cp.v.add(u,T)}function c(){return cp.v.add(u,K)}function d(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,N(0,0))));b.setPos(cp.v.add(a,u));a=o.addShape(new cp.CircleShape(b,15,N(0,0)));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}function f(a){var b=N(0,30),c=N(0,-30),d=o.addBody(new cp.Body(2,cp.momentForSegment(2,b,c)));d.setPos(cp.v.add(a,u));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);
a.setFriction(0.7);return d}function h(a){var b=N(0,15),c=N(0,-15),d=o.addBody(new cp.Body(1,cp.momentForSegment(1,b,c)));d.setPos(cp.v.add(a,cp.v.add(u,cp.v(0,-15))));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);a.setFriction(0.7);return d}function l(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,N(0,0))));b.setPos(cp.v.add(a,u));a=o.addShape(new cp.CircleShape(b,15,N(0,0)));a.setElasticity(0);a.setFriction(0.7);return b}Te.call(this);this.h="Chipmunk Demo";this.e="Joints";
var o=this.o,u;o.Yc=10;o.Na=N(0,-100);o.vc=0.5;for(var x=o.Db,p,t=480;0<=t;t-=120)p=o.addShape(new cp.SegmentShape(x,N(0,t),N(640,t),0)),p.setElasticity(1),p.setFriction(1),p.Mg=2147483647;for(t=0;640>=t;t+=160)p=o.addShape(new cp.SegmentShape(x,N(t,0),N(t,480),0)),p.setElasticity(1),p.setFriction(1),p.Mg=2147483647;var K=N(50,60),T=N(110,60);labels=[];u=N(0,0);a("Pin Joint");p=l(K);t=l(T);t.setAngle(Math.PI);o.addConstraint(new cp.PinJoint(p,t,N(15,0),N(15,0)));u=N(160,0);a("Slide Joint");p=l(K);
t=l(T);t.setAngle(Math.PI);o.addConstraint(new cp.SlideJoint(p,t,N(15,0),N(15,0),20,40));u=N(320,0);a("Pivot Joint");p=l(K);t=l(T);t.setAngle(Math.PI);o.addConstraint(new cp.PivotJoint(p,t,cp.v.add(u,N(80,60))));u=N(480,0);a("Groove Joint");p=l(K);t=l(T);o.addConstraint(new cp.GrooveJoint(p,t,N(30,30),N(30,-30),N(-30,0)));u=N(0,120);a("Damped Spring");p=l(K);t=l(T);t.setAngle(Math.PI);o.addConstraint(new cp.DampedSpring(p,t,N(15,0),N(15,0),20,5,0.3));u=N(160,120);a("Damped Rotary Spring");p=f(K);
t=f(T);o.addConstraint(new cp.PivotJoint(p,x,c()));o.addConstraint(new cp.PivotJoint(t,x,b()));o.addConstraint(new cp.DampedRotarySpring(p,t,0,3E3,60));u=N(320,120);a("Rotary Limit Joint");p=h(K);t=h(T);o.addConstraint(new cp.PivotJoint(p,x,c()));o.addConstraint(new cp.PivotJoint(t,x,b()));o.addConstraint(new cp.RotaryLimitJoint(p,t,-Math.PI/2,Math.PI/2));u=N(480,120);a("Ratchet Joint");p=h(K);t=h(T);o.addConstraint(new cp.PivotJoint(p,x,c()));o.addConstraint(new cp.PivotJoint(t,x,b()));o.addConstraint(new cp.RatchetJoint(p,
t,0,Math.PI/2));u=N(0,240);a("Gear Joint");p=f(K);t=f(T);o.addConstraint(new cp.PivotJoint(p,x,c()));o.addConstraint(new cp.PivotJoint(t,x,b()));o.addConstraint(new cp.GearJoint(p,t,0,2));u=N(160,240);a("Simple Motor");p=f(K);t=f(T);o.addConstraint(new cp.PivotJoint(p,x,c()));o.addConstraint(new cp.PivotJoint(t,x,b()));o.addConstraint(new cp.SimpleMotor(p,t,Math.PI));u=N(320,240);x=d(K);p=d(T);t=function(a){var b=o.addBody(new cp.Body(5,cp.momentForBox(5,80,30)));b.setPos(cp.v.add(a,u));a=o.addShape(new cp.BoxShape(b,
80,30));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}(N(80,100));o.addConstraint(new cp.GrooveJoint(t,x,N(-30,-10),N(-30,-40),N(0,0)));o.addConstraint(new cp.GrooveJoint(t,p,N(30,-10),N(30,-40),N(0,0)));o.addConstraint(new cp.DampedSpring(t,x,N(-30,0),N(0,0),50,20,10));o.addConstraint(new cp.DampedSpring(t,p,N(30,0),N(0,0),50,20,10))}cc.inherits(Ye,Te);
function Ze(){Te.call(this);this.h="Chipmunk Demo";this.e="Balls";var a=this.o;a.Yc=60;a.Na=N(0,-500);a.vc=0.5;a.Pd=0.5;a.vc=0.5;Ue(this);Ve(this);var b=3,c=a.addBody(new cp.Body(b,cp.momentForBox(b,50,60)));c.setPos(N(500,100));c.setAngle(1);shape=a.addShape(new cp.BoxShape(c,50,60));shape.setFriction(0.3);shape.setElasticity(0.3);for(c=1;10>=c;c++)b=3,b=a.addBody(new cp.Body(b,cp.momentForCircle(b,0,20,N(0,0)))),b.setPos(N(200+c,45*c)),b=a.addShape(new cp.CircleShape(b,20,N(0,0))),b.setElasticity(0.8),
b.setFriction(1);a=a.addShape(new cp.SegmentShape(a.Db,N(100,100),N(300,200),10));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}cc.inherits(Ze,Te);
function $e(){Te.call(this);this.h="Chipmunk Demo";this.e="Buoyancy";var a=this.o;a.Yc=30;a.Na=cp.v(0,-500);a.vc=0.5;a.Pd=0.5;var b=a.Db,c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(0,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(640,0),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(640,0),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);
c=a.addShape(new cp.SegmentShape(b,cp.v(0,480),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);var d=new cp.BB(20,40,420,240),c=a.addShape(new cp.SegmentShape(b,cp.v(d.gf,d.b),cp.v(d.gf,d.Hf),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.r,d.b),cp.v(d.r,d.Hf),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.gf,d.b),cp.v(d.r,d.b),5));c.setElasticity(1);
c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.BoxShape2(b,d));c.setSensor(g);c.setCollisionType(1);var b=200,c=50,d=4.2E-5*b*c,f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(270,140));body.setVel(cp.v(0,-100));body.setAngVel(1);c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);b=40;c=2*b;d=4.2E-5*b*c;f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(120,190));body.setVel(cp.v(0,-100));body.setAngVel(1);c=a.addShape(new cp.BoxShape(body,
b,c));c.setFriction(0.8);a.addCollisionHandler(1,0,i,this.Wi,i,i)}cc.inherits($e,Te);$e.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.o.step(a)};
$e.prototype.Wi=function(a,b){for(var c=a.Ig(),d=c[0],f=c[1],c=f.getBody(),h=d.getBB().Hf,l=f.getNumVerts(),d=[],o=l-1,u=0;u<l;u++){var o=c.local2World(f.getVert(o)),x=c.local2World(f.getVert(u));o.y<h&&(d.push(o.x),d.push(o.y));var p=o.y-h,t=x.y-h;0>p*t&&(o=cp.v.lerp(o,x,Math.abs(p)/(Math.abs(p)+Math.abs(t))),d.push(o.x),d.push(o.y));o=u}f=cp.areaForPoly(d);l=1.4E-4*f;h=cp.centroidForPoly(d);u=cp.v.sub(h,c.getPos());h=b.getCurrentTimeStep();c.applyImpulse(cp.v.mult(b.Na,-l*h),u);l=cp.v.add(c.getVel(),
cp.v.mult(cp.v.perp(u),c.Mf));c.applyImpulse(cp.v.mult(cp.v.sub(cp.v.mult(l,Math.exp(1*-(2.8E-4*f)*h)),l),1),u);d=cp.momentForPoly(2.8E-4*f,d,cp.v.neg(c.p));c.Mf*=Math.exp(-d*h*(1/c.Wd));return g};function ra(){w.call(this)}cc.inherits(ra,w);ra.prototype.q=function(){Ie=-1;this.addChild(Ke());q.replaceScene(this)};var Je=[$e,We,Xe,Ye,Ze,Me,Ne,Oe,Qe,Re];"browser"!==sys.platform&&(Je.push(Pe),Je.push(Se));function Ke(){Ie++;Ie=Ie%Je.length;return new Je[Ie]}
function Le(){Ie--;Ie<0&&(Ie=Ie+Je.length);return new Je[Ie]};var sa=w.extend({q:function(){this.addChild(new af);q.replaceScene(this)}}),af=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.Sprite.create(z),b=cc.LayerColor.create(cc.c4b(255,255,0,100));this.addChild(b,-1);this.addChild(a,0,1);a.setPosition(20,150);a.runAction(cc.JumpTo.create(4,cc.p(300,48),100,4));var a=cc.FadeIn.create(1),c=cc.FadeOut.create(1),a=cc.RepeatForever.create(cc.Sequence.create(a,
c));b.runAction(a)},jf:function(a){var b=this.getChildByTag(1);b.stopAllActions();b.runAction(cc.MoveTo.create(1,a));var c=b.getPosition(),d=a.x-c.x,a=a.y-c.y,c=Math.atan(d/a)*(180/Math.PI);0>a&&(c=0>d?180+Math.abs(c):180-Math.abs(c));b.runAction(cc.RotateTo.create(1,c%360))},onMouseUp:function(a){this.jf(a.getLocation())},onTouchesEnded:function(a){0>=a.length||this.jf(a[0].getLocation())}});var O=cc.AudioEngine.getInstance(),vf=[{title:"Play Music",R:function(){return new bf}},{title:"Stop Music",R:function(){return new cf}},{title:"Pause Music",R:function(){return new df}},{title:"Resume Music",R:function(){return new ef}},{title:"Rewind Music",R:function(){return new ff}},{title:"is Music Playing",R:function(){return new gf}},{title:"Increase Music Volume",R:function(){return new hf}},{title:"Decrease Music Volume",R:function(){return new jf}},{title:"Play Sound Effect",R:function(){return new kf}},
{title:"Repeat Sound Effect",R:function(){return new lf}},{title:"Stop Sound Effect",R:function(){return new mf}},{title:"Unload Sound Effect",R:function(){return new nf}},{title:"Increase Sound Effect Volume",R:function(){return new of}},{title:"Decrease Sound Effect Volume",R:function(){return new pf}},{title:"Pause Sound Effect",R:function(){return new qf}},{title:"Resume Sound Effect",R:function(){return new rf}},{title:"Pause All Sound Effects",R:function(){return new sf}},{title:"Resume All Sound Effects",
R:function(){return new tf}},{title:"Stop All Sound Effects",R:function(){return new uf}}];
CocosDenshionTest=cc.LayerGradient.extend({S:i,Fe:cc.p(0,0),Ne:0,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(148,80,120,255));this.S=cc.Menu.create();for(var a=q.getWinSize(),b=0;b<vf.length;b++){var c=cc.LabelTTF.create(vf[b].title,"Arial",24),c=cc.MenuItemLabel.create(c,this.V,this);this.S.addChild(c,b+1E4);c.setPosition(a.width/2,a.height-(b+1)*ka)}this.Ne=b;this.S.setContentSize(cc.size(a.width,(this.Ne+1)*ka));this.S.setPosition(0,
0);this.addChild(this.S);"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);O.setEffectsVolume(0.5);O.setMusicVolume(0.5)},onExit:function(){this._super();O.end()},V:function(a){a=a.getZOrder()-1E4;vf[a].R()},onTouchesMoved:function(a){this.Xb(a[0].getDelta());return g},onMouseDragged:function(a){this.Xb(a.getDelta());return g},Xb:function(a){var b=this.S.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(vf.length+1)*ka-r.height&&(a=(vf.length+1)*ka-r.height);this.S.setPosition(b.x,
a)}});CocosDenshionTestScene=w.extend({q:function(){O=cc.AudioEngine.getInstance();this.addChild(new CocosDenshionTest);q.replaceScene(this)}});var wf=i;function bf(){cc.log("play background music");O.playMusic("res/Sound/background.mp3",j)}function cf(){cc.log("stop background music");O.stopMusic()}function df(){cc.log("pause background music");O.pauseMusic()}function ef(){cc.log("resume background music");O.resumeMusic()}function ff(){cc.log("rewind background music");O.rewindMusic()}
function gf(){O.isMusicPlaying()?cc.log("background music is playing"):cc.log("background music is not playing")}function kf(){cc.log("play effect");wf=O.playEffect("res/Sound/effect2.mp3")}function lf(){cc.log("play effect repeatly");wf=O.playEffect("res/Sound/effect2.mp3",g)}function mf(){cc.log("stop effect");O.stopEffect(wf)}function nf(){cc.log("unload effect");O.unloadEffect("res/Sound/effect2.mp3")}
function hf(){cc.log("add bakcground music volume");O.setMusicVolume(O.getMusicVolume()+0.1)}function jf(){cc.log("sub backgroud music volume");O.setMusicVolume(O.getMusicVolume()-0.1)}function of(){cc.log("add effects volume");O.setEffectsVolume(O.getEffectsVolume()+0.1)}function pf(){cc.log("sub effects volume");O.setEffectsVolume(O.getEffectsVolume()-0.1)}function qf(){cc.log("pause effect");O.pauseEffect(wf)}function rf(){cc.log("resume effect");O.resumeEffect(wf)}
function sf(){cc.log("pause all effects");O.pauseAllEffects()}function tf(){cc.log("resume all effects");O.resumeAllEffects()}function uf(){cc.log("stop all effects");O.stopAllEffects()};var P=1,Q=2,xf=3,yf=-1,Cf=J.extend({ctor:function(){this._super()},title:m("No title"),d:m(""),C:function(){var a=new Ja;a.addChild(new zf[yf]);q.replaceScene(a)},B:function(){var a=new Ja;a.addChild(Af());q.replaceScene(a)},A:function(){var a=new Ja;a.addChild(Bf());q.replaceScene(a)},G:function(){return zf.length-1-yf},D:function(){return yf}}),Df=Cf.extend({onEnter:function(){this._super();var a=cc.Sprite.create(A),b=cc.Sprite.create(B),c=cc.Sprite.create(A),d=cc.Sprite.create(B);a.setPosition(cc.p(150,
r.height/2));b.setPosition(cc.p(r.width-150,r.height/2));this.addChild(a);this.addChild(b);c.setScale(0.25);d.setScale(0.25);a.addChild(c);b.addChild(d);var d=cc.RotateBy.create(2,360),f=cc.ScaleBy.create(2,2),c=cc.RepeatForever.create(cc.Sequence.create(d,f,f.reverse())),d=cc.RepeatForever.create(cc.Sequence.create(d.copy(),f.copy(),f.reverse()));b.setAnchorPoint(cc.p(0,0));a.runAction(c);b.runAction(d)},title:m("anchorPoint and children")}),Ef=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create(A),
b=cc.Sprite.create(B);a.setPosition(cc.p(150,r.height/2));b.setPosition(cc.p(r.width-150,r.height/2));this.addChild(a,0,2);this.addChild(b,0,3);this.schedule(this.wg,2);this.schedule(this.Xe,4)},wg:function(){var a=this.getChildByTag(2),b=cc.RotateBy.create(1,360);a.runAction(b)},Xe:function(){this.unschedule(this.Xe);this.removeChildByTag(3,j)},title:m("tags")}),Ff=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create(A),b=cc.Sprite.create(B);a.setPosition(cc.p(150,r.height/2));b.setPosition(cc.p(r.width-
150,r.height/2));var c=cc.RotateBy.create(2,360),d=c.reverse(),c=cc.RepeatForever.create(cc.Sequence.create(c,d)),d=c.copy();c.setTag(101);d.setTag(102);this.addChild(a,0,P);this.addChild(b,0,Q);a.runAction(c);b.runAction(d);this.schedule(this.be,2)},be:function(){var a=this.getChildByTag(P),b=this.getChildByTag(Q);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,0,P);this.addChild(b,0,Q);a.release();b.release()},title:m("remove and cleanup")}),Gf=Cf.extend({ctor:function(){this._super();
var a=cc.Sprite.create(A),b=cc.Sprite.create(A),c=cc.Sprite.create(B),d=cc.Sprite.create(B);a.setPosition(cc.p(150,r.height/2));c.setPosition(cc.p(r.width-150,r.height/2));var f=cc.RotateBy.create(2,360),h=f.reverse(),f=cc.RepeatForever.create(cc.Sequence.create(f,h)),h=f.copy(),l=f.copy(),o=f.copy();this.addChild(a,0,P);a.addChild(b);this.addChild(c,0,Q);c.addChild(d);a.runAction(f);b.runAction(h);c.runAction(l);d.runAction(o);this.schedule(this.be,2)},be:function(){var a=this.getChildByTag(P),b=
this.getChildByTag(Q);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,0,P);this.addChild(b,0,Q);a.release();b.release()},title:m("remove/cleanup with children")}),Hf=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create(A);this.addChild(a,0,P);this.setContentSize(cc.size(0,0));a.setPosition(cc.p(r.width/2,r.height/2));this.schedule(this.pf,1)},pf:function(){this.unschedule(this.pf);var a=cc.ParticleSun.create();a.setTexture(cc.TextureCache.getInstance().addImage(D));
a.setPosition(cc.p(r.width/2,r.height/2));this.runAction(cc.Sequence.create(cc.RotateBy.create(2,360),cc.CallFunc.create(this.Ch,this)));this.addChild(a)},Ch:function(a){this.getParent().removeChild(a,g);this.fb(this)},title:m("stress test #1: no crashes")}),If=Cf.extend({ctor:function(){this._super();var a=cc.Layer.create(),b=cc.Sprite.create(A);b.setPosition(cc.p(80,r.height/2));var c=cc.MoveBy.create(3,cc.p(350,0)),c=cc.EaseInOut.create(c.copy(),2),d=c.reverse(),c=cc.Sequence.create(c,d);b.runAction(cc.RepeatForever.create(c));
a.addChild(b,1);b=cc.ParticleFire.create();b.setTexture(cc.TextureCache.getInstance().addImage(D));b.setPosition(cc.p(80,r.height/2-50));c=c.copy();b.runAction(cc.RepeatForever.create(c));a.addChild(b,2);this.schedule(this.Ef,6);this.addChild(a,0,P)},Ef:function(){this.unschedule(this.Ef);this.getChildByTag(P).removeAllChildren()},title:m("stress test #2: no leaks")}),Jf=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create(qb);this.addChild(a,-10);a.setAnchorPoint(cc.p(0,0));var b=a.getContentSize(),
c=cc.MenuItemImage.create(ub,vb,this.$g),d=cc.Menu.create(c);d.alignItemsVertically();d.setPosition(cc.p(b.width/2,b.height/2));a.addChild(d);b=cc.RotateBy.create(5,360);b=cc.RepeatForever.create(b);c.runAction(b);c=cc.MoveBy.create(3,cc.p(200,0));b=c.reverse();c=cc.Sequence.create(c,b);c=cc.RepeatForever.create(c);a.runAction(c)},$g:function(){cc.log("On clicked")},title:m("nodeToParent transform")}),Kf=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create(qb);this.addChild(a,0);a.setPosition(cc.p(r.width/
2,r.height/2));a.setOpacity(128);s=a.getContentSize();var b=cc.Sprite.create(z);b.setScale(0.5);a.addChild(b,0);b.setPosition(cc.p(1*(r.width/4),r.height/2));b.getCamera();var c=cc.OrbitCamera.create(2,1,0,0,360,0,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create(z);b.setScale(1);a.addChild(b,0);b.setPosition(cc.p(2*(r.width/4),r.height/2));c=cc.OrbitCamera.create(2,1,0,0,360,45,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create(z);b.setScale(2);a.addChild(b,0);b.setPosition(cc.p(3*
(r.width/4),r.height/2));b.getContentSize();c=cc.OrbitCamera.create(2,1,0,0,360,90,-45);b.runAction(cc.RepeatForever.create(c));c=cc.OrbitCamera.create(10,1,0,0,360,0,90);a.runAction(cc.RepeatForever.create(c));this.setScale(1)},onEnter:function(){this._super();q.setProjection(cc.DIRECTOR_PROJECTION_3D)},onExit:function(){q.setProjection(cc.DIRECTOR_PROJECTION_2D);this._super()},title:m("Camera Orbit test")}),Lf=Cf.extend({fc:0,ctor:function(){this._super();var a=cc.Sprite.create(z);this.addChild(a,
0);a.setPosition(cc.p(1*(r.width/4),r.height/2));a=a.getCamera();a.uc&&a.uc(0,0,415);a.li&&a.li(0,0,0);a=cc.Sprite.create(z);this.addChild(a,0,40);a.setPosition(cc.p(2*(r.width/4),r.height/2));a=cc.Sprite.create(z);this.addChild(a,0,20);a.setPosition(cc.p(3*(r.width/4),r.height/2));this.fc=0;this.scheduleUpdate()},update:function(a){this.fc+=100*a;a=this.getChildByTag(20);a=a.getCamera();a.uc&&a.uc(0,0,this.fc);a=this.getChildByTag(40);a=a.getCamera();a.uc&&a.uc(0,0,this.fc)},onEnter:function(){this._super();
q.setProjection(cc.DIRECTOR_PROJECTION_3D)},onExit:function(){q.setProjection(cc.DIRECTOR_PROJECTION_2D);this._super()},title:m("Camera Zoom test")}),Mf=Cf.extend({ctor:function(){this._super();var a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(1*(r.width/5),1*(r.height/5)));a.setColor(cc.c3b(255,0,0));a.setTextureRect(cc.rect(0,0,120,50));var b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(1*
(r.width/5),4*(r.height/5)));a.setColor(cc.c3b(0,0,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(4*(r.width/5),1*(r.height/5)));a.setColor(cc.c3b(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(4*(r.width/5),4*(r.height/
5)));a.setColor(cc.c3b(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(r.width/2,r.height/2));a.setColor(cc.c3b(255,255,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b))},title:m("Camera Center test"),d:m("Sprites should rotate at the same speed")}),Nf=Cf.extend({ctor:function(){this._super();
"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);for(var a=cc.RotateBy.create(10,360),a=cc.RepeatForever.create(a),b=0;3>b;b++){var c=cc.Sprite.create(z);c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,10,100+b);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());d=a.copy();
c.runAction(d);this.addChild(c,b)}},xf:function(a){for(var b=0;3>b;b++){var c=this.getChildByTag(100+b),d=c.convertToNodeSpaceAR(a),c=c.convertToNodeSpace(a);cc.log("AR: x="+d.x.toFixed(2)+", y="+d.y.toFixed(2)+" -- Not AR: x="+c.x.toFixed(2)+", y="+c.y.toFixed(2))}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++)this.xf(a[b].getLocation())},onMouseUp:function(a){this.xf(a.getLocation())},title:m("Convert To Node Space"),d:m("testing convertToNodeSpace / AR. Touch and see console")}),Of=Cf.extend({ctor:function(){this._super();
var a=cc.Sprite.create(z);this.addChild(a);a.setPosition(r.width/2,r.height/2);a=a.getBoundingBox();this.log("BoundingBox:");this.log("origin = [ "+a.x+","+a.y+"]");this.log("size = [ "+a.width+","+a.height+"]")},title:m("Bounding Box Test"),d:m("Testing getBoundingBox(). See console")}),Ja=w.extend({q:function(){yf=-1;this.addChild(Af());q.replaceScene(this)}}),zf=[Df,Ef,Ff,Gf,Hf,If,Jf,Nf,Kf,Lf,Mf,Of];function Af(){yf++;yf%=zf.length;return new zf[yf]}
function Bf(){yf--;0>yf&&(yf+=zf.length);return new zf[yf]};var Rf=cc.Layer.extend({ctor:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create("Current language Test","Arial",28);this.addChild(b,0);b.setPosition(cc.p(a.width/2,a.height-50));b=cc.LabelTTF.create("","Arial",20);b.setPosition(cc.p(a.width/2,a.height/2));switch(cc.Application.getCurrentLanguage()){case cc.LANGUAGE_ENGLISH:b.setString("current language is English");break;case cc.LANGUAGE_CHINESE:b.setString("current language is Chinese");break;case cc.LANGUAGE_FRENCH:b.setString("current language is French");
break;case cc.LANGUAGE_GERMAN:b.setString("current language is German");break;case cc.LANGUAGE_ITALIAN:b.setString("current language is Italian");break;case cc.LANGUAGE_RUSSIAN:b.setString("current language is Russian");break;case cc.LANGUAGE_SPANISH:b.setString("current language is Spanish")}this.addChild(b)}}),ua=w.extend({q:function(){this.addChild(new Rf);cc.Director.getInstance().replaceScene(this)}});var Sf=-1,Wf=J.extend({e:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},C:function(){var a=new va;a.addChild(new Tf[Sf]);q.replaceScene(a)},B:function(){var a=new va;a.addChild(Uf());q.replaceScene(a)},A:function(){var a=new va;a.addChild(Vf());q.replaceScene(a)},G:function(){return Tf.length-1-Sf},D:function(){return Sf}}),Xf=Wf.extend({ctor:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){this._super();var a=cc.Director.getInstance().getWinSize();
cc.renderContext.fillStyle="rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)";cc.drawingUtil.drawLine(cc.p(0,0),cc.p(a.width,a.height));cc.renderContext.strokeStyle="rgba(255,0,0,1)";cc.renderContext.lineWidth="5";cc.drawingUtil.drawLine(cc.p(0,a.height),cc.p(a.width,0));cc.renderContext.fillStyle="rgba(0,0,255,0.5)";cc.drawingUtil.drawPoint(cc.p(a.width/2,a.height/2),40);var b=[cc.p(60,60),cc.p(70,70),cc.p(60,70),cc.p(70,60)];cc.renderContext.fillStyle="rgba(0,255,255,1)";cc.drawingUtil.drawPoints(b,
4,4);cc.renderContext.lineWidth="16";cc.renderContext.strokeStyle="rgba(0,255,0,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),100,0,10,j);cc.renderContext.lineWidth="2";cc.renderContext.strokeStyle="rgba(0,255,255,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),50,cc.DEGREES_TO_RADIANS(90),50,g);cc.renderContext.strokeStyle="rgba(255,255,0,1)";cc.renderContext.lineWidth="10";b=[cc.p(0,0),cc.p(50,50),cc.p(100,50),cc.p(100,100),cc.p(50,100)];cc.drawingUtil.drawPoly(b,5,j);cc.renderContext.strokeStyle=
"rgba(255,0,255,1)";cc.renderContext.lineWidth="2";b=[cc.p(30,130),cc.p(30,230),cc.p(50,200)];cc.drawingUtil.drawPoly(b,3,g);cc.drawingUtil.drawQuadBezier(cc.p(0,a.height),cc.p(a.width/2,a.height/2),cc.p(a.width,a.height),50);cc.drawingUtil.drawCubicBezier(cc.p(a.width/2,a.height/2),cc.p(a.width/2+30,a.height/2+50),cc.p(a.width/2+60,a.height/2-50),cc.p(a.width,a.height/2),100);cc.renderContext.lineWidth="1";cc.renderContext.fillStyle="rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)"}}),
Yf=Wf.extend({e:"cc.DrawNode",h:"Testing cc.DrawNode API",ctor:function(){this._super();var a=cc.DrawNode.create();this.addChild(a,10);for(var b=0;10>b;b++)a.drawDot(cc.p(r.width/2,r.height/2),10*(10-b),cc.c4f(Math.random(),Math.random(),Math.random(),1));b=[cc.p(r.height/4,0),cc.p(r.width,r.height/5),cc.p(2*(r.width/3),r.height)];a.drawPoly(b,cc.c4f(1,0,0,0.5),4,cc.c4f(0,0,1,1));var b=80,c=20,d=50,b=[cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),
cc.p(b-d,b+c),cc.p(b,b)];a.drawPoly(b,cc.c4f(1,0,0,0.5),1,cc.c4f(0,0,1,1));b=180;c=20;d=50;b=[cc.p(b,b),cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-d,b+c)];a.drawPoly(b,cc.c4f(1,0,0,0.5),1,cc.c4f(0,0,1,1));a.drawSegment(cc.p(20,r.height),cc.p(20,r.height/2),10,cc.c4f(0,1,0,1));a.drawSegment(cc.p(10,r.height/2),cc.p(r.width/2,r.height/2),40,cc.c4f(1,0,1,0.5))}}),va=w.extend({q:function(){Sf=-1;this.addChild(Uf());q.replaceScene(this)}}),Tf=
[Yf];"browser"===sys.platform&&Tf.push(Xf);function Uf(){Sf++;Sf%=Tf.length;return new Tf[Sf]}function Vf(){Sf--;0>Sf&&(Sf+=Tf.length);return new Tf[Sf]};TAG_ACTION1_EASE_ACTIONS=1;TAG_ACTION2_EASE_ACTIONS=2;TAG_SLIDER_EASE_ACTIONS=1;
var Zf=-1,wa=w.extend({q:function(){Zf=-1;this.addChild($f());q.replaceScene(this)}}),cg=J.extend({f:i,i:i,k:i,e:i,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},title:m("No title"),onEnter:function(){this._super();this.f=cc.Sprite.create(z);this.i=cc.Sprite.create(A);this.k=cc.Sprite.create(B);this.addChild(this.f,3);this.addChild(this.k,2);this.addChild(this.i,1);this.f.setPosition(cc.p(60,r.height/5));this.k.setPosition(cc.p(60,r.height/2));this.i.setPosition(cc.p(60,4*r.height/
5));this.ue=j},C:function(){var a=new wa;a.addChild(new ag[Zf]);q.replaceScene(a)},B:function(){var a=new wa;a.addChild($f());q.replaceScene(a)},A:function(){var a=new wa;a.addChild(bg());q.replaceScene(a)},od:function(){this.ue=g;this.f.setPosition(cc.p(60,r.height/5));this.i.setPosition(cc.p(60,4*r.height/5));this.k.setVisible(j)},G:function(){return ag.length-1-Zf},D:function(){return Zf},t:2.05,n:function(){var a=60+r.width-80;return JSON.stringify(this.ue?[a,a]:[a,a,a])},m:function(){var a;a=
this.ue?[this.f.getPosition().x,this.i.getPosition().x]:[this.f.getPosition().x,this.i.getPosition().x,this.k.getPosition().x];return JSON.stringify(a)}}),dg=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseIn.create(a.copy(),2),d=c.reverse(),f=cc.EaseOut.create(a.copy(),2),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l.copy(),d,l.copy()),f=cc.Sequence.create(f,l.copy(),h,l.copy());
this.f.runAction(cc.RepeatForever.create(a)).setTag(1);this.i.runAction(cc.RepeatForever.create(c)).setTag(1);this.k.runAction(cc.RepeatForever.create(f)).setTag(1);this.scheduleOnce(this.Fi,4.1)},title:m("EaseIn - EaseOut - Stop"),Fi:function(){this.i.stopActionByTag(1);this.k.stopActionByTag(1);this.f.stopActionByTag(1)},t:4.2,n:function(){return JSON.stringify([60,60,60])},m:function(){var a=[this.f.getPosition().x,this.i.getPosition().x,this.k.getPosition().x];return JSON.stringify(a)}}),eg=cg.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=cc.EaseInOut.create(a.copy(),2),c=b.reverse(),d=cc.EaseInOut.create(a.copy(),3),f=d.reverse(),a=cc.EaseInOut.create(a.copy(),4),h=a.reverse(),l=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,l,c,l.copy()),d=cc.Sequence.create(d,l.copy(),f,l.copy()),f=cc.Sequence.create(a,l.copy(),h,l.copy());this.i.runAction(cc.RepeatForever.create(b));this.k.runAction(cc.RepeatForever.create(d));this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseInOut and rates")}),
fg=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseExponentialIn.create(a.copy()),d=c.reverse(),f=cc.EaseExponentialOut.create(a.copy()),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l.copy(),d,l.copy()),f=cc.Sequence.create(f,l.copy(),h,l.copy());this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},
title:m("ExpIn - ExpOut actions")}),gg=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseExponentialInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.od();this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c))},title:m("EaseExponentialInOut action")}),hg=cg.extend({onEnter:function(){this._super();var a=
cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseSineIn.create(a.copy()),d=c.reverse(),f=cc.EaseSineOut.create(a.copy()),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l,d,l.copy()),f=cc.Sequence.create(f,l,h,l.copy());this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("EaseSineIn - EaseSineOut")}),ig=cg.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseSineInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.od();this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c))},title:m("EaseSineInOut action")}),jg=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseElasticIn.create(a.copy()),d=c.reverse(),
f=cc.EaseElasticOut.create(a.copy()),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l.copy(),d,l.copy()),f=cc.Sequence.create(f,l.copy(),h,l.copy());this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Elastic In - Out actions")}),kg=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=cc.EaseElasticInOut.create(a.copy(),
0.3),c=b.reverse(),d=cc.EaseElasticInOut.create(a.copy(),0.45),f=d.reverse(),a=cc.EaseElasticInOut.create(a.copy(),0.6),h=a.reverse(),l=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,l,c,l.copy()),d=cc.Sequence.create(d,l.copy(),f,l.copy()),f=cc.Sequence.create(a,l.copy(),h,l.copy());this.i.runAction(cc.RepeatForever.create(b));this.k.runAction(cc.RepeatForever.create(d));this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseElasticInOut action")}),lg=cg.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseBounceIn.create(a.copy()),d=c.reverse(),f=cc.EaseBounceOut.create(a.copy()),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l.copy(),d,l.copy()),f=cc.Sequence.create(f,l.copy(),h,l.copy());this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Bounce In - Out actions")}),mg=cg.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseBounceInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.od();this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c))},title:m("EaseBounceInOut action")}),ng=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseBackIn.create(a.copy()),d=c.reverse(),
f=cc.EaseBackOut.create(a.copy()),h=f.reverse(),l=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,l,b,l.copy()),c=cc.Sequence.create(c,l.copy(),d,l.copy()),f=cc.Sequence.create(f,l.copy(),h,l.copy());this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c));this.k.runAction(cc.RepeatForever.create(f))},title:m("Back In - Out actions")}),og=cg.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(r.width-80,0)),b=a.reverse(),c=cc.EaseBackInOut.create(a.copy()),
d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.od();this.f.runAction(cc.RepeatForever.create(a));this.i.runAction(cc.RepeatForever.create(c))},title:m("EaseBackInOut action")}),pg=cg.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-r.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.Speed.create(cc.RepeatForever.create(c),
1);c.setTag(TAG_ACTION1_EASE_ACTIONS);d=c.copy();a=c.copy();d.setTag(TAG_ACTION1_EASE_ACTIONS);a.setTag(TAG_ACTION1_EASE_ACTIONS);this.f.runAction(d);this.i.runAction(a);this.k.runAction(c);this.schedule(this.dg,1)},title:m("Speed action"),dg:function(){var a=this.f.getActionByTag(TAG_ACTION1_EASE_ACTIONS),b=this.i.getActionByTag(TAG_ACTION1_EASE_ACTIONS),c=this.k.getActionByTag(TAG_ACTION1_EASE_ACTIONS);a.setSpeed(2*Math.random());b.setSpeed(2*Math.random());c.setSpeed(2*Math.random())},t:0.1,n:function(){e("Not Implemented")},
m:function(){e("Not Implemented")}}),qg=cg.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-r.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.RepeatForever.create(c),d=c.copy(),a=c.copy();this.f.runAction(cc.Speed.create(c,0.5));this.i.runAction(cc.Speed.create(d,1.5));this.k.runAction(cc.Speed.create(a,1));c=new cc.ParticleFireworks;c.initWithTotalParticles(250);c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.addChild(c)},title:m("Scheduler scaleTime Test"),t:0.1,n:function(){e("Not Implemented")},m:function(){e("Not Implemented")}}),ag=[dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg];function $f(){Zf++;Zf%=ag.length;return new ag[Zf]}function bg(){Zf--;0>Zf&&(Zf+=ag.length);return new ag[Zf]};var rg=-1,R=J.extend({code:m(""),C:function(){var a=new Aa;a.addChild(new sg[rg]);q.replaceScene(a)},B:function(){var a=new Aa;a.addChild(tg());q.replaceScene(a)},A:function(){var a=new Aa;a.addChild(ug());q.replaceScene(a)},onEnter:function(){this._super();var a=cc.Node.create();a.runAction(this.K(3));this.addChild(a);var b=cc.LayerGradient.create(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));a.addChild(b);b=cc.Sprite.create(qb);b.setPosition(cc.ia(r.width/2,r.height/2));a.addChild(b);b=cc.Sprite.create(A);
b.setPosition(cc.ia(r.width/3,r.height/2));a.addChild(b,1);var c=cc.Sprite.create(B);c.setPosition(cc.ia(2*r.width/3,r.height/2));a.addChild(c,1);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a);b.runAction(a);c.runAction(a.copy())},K:function(){return cc.MoveBy.create(2,cc.ia(10,10))},G:function(){return sg.length-1-rg},D:function(){return rg}}),vg=R.extend({title:m("Shaky 3D"),code:m("a = cc.Shaky3D.create(duration, gridSize, range, shakeZ)"),K:function(a){return cc.sj.create(a,
cc.size(15,10),5,j)}}),wg=R.extend({title:m("Waves 3D"),code:m("a = cc.Waves3D.create(duration, gridSize, range, shakeZ)"),K:function(a){return cc.Dj.create(a,cc.size(15,10),5,40)}}),xg=R.extend({title:m("FlipX3D"),code:m("a = cc.FlipX3D.create(duration )"),K:function(a){var a=cc.ej.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),yg=R.extend({title:m("FlipY3D"),code:m("a = cc.FlipY3D.create(duration )"),K:function(a){var a=cc.fj.create(a),b=cc.DelayTime.create(2),
c=a.reverse();return cc.Sequence.create(a,b,c)}}),zg=R.extend({title:m("Lens3D"),code:m("a = cc.Lens3D.create(duration, gridSize, position, radius)"),K:function(a){return cc.lj.create(a,cc.size(15,10),cc.ia(r.width/2,r.height/2),240)}}),Ag=R.extend({title:m("Ripple3D"),code:m("a = cc.Ripple3D.create(duration, gridSize, position, radius, waves, amplitude)"),K:function(a){return cc.qj.create(a,cc.size(32,24),cc.ia(r.width/2,r.height/2),240,4,160)}}),Bg=R.extend({title:m("Liquid"),code:m("a = cc.Liquid.create(duration, gridSize, waves, amplitude)"),
K:function(a){return cc.mj.create(a,cc.size(16,12),4,20)}}),Cg=R.extend({title:m("Waves"),code:m("a = cc.Waves.create(duration, gridSize, waves, amplitude, horizontal, vertical)"),K:function(a){return cc.Cj.create(a,cc.size(16,12),4,20,g,g)}}),Dg=R.extend({title:m("Twirl"),code:m("a = cc.Twirl.create(duration, gridSize, position, twirls, amplitude)"),K:function(a){return cc.zj.create(a,cc.size(12,8),cc.p(r.width/2,r.height/2),1,2.5)}}),Eg=R.extend({title:m("ShakyTiles3D"),code:m("a = cc.ShakyTiles3D.create(duration, gridSize, range, shakeZ)"),
K:function(a){return cc.tj.create(a,cc.size(16,12),5,j)}}),Fg=R.extend({title:m("ShatteredTiles3D"),code:m("a = cc.ShatteredTiles3D.create(duration, gridSize, range, shatterZ)"),K:function(a){return cc.uj.create(a,cc.size(16,12),5,j)}}),Gg=R.extend({title:m("ShuffleTiles"),code:m("a = cc.ShuffleTiles.create(duration, gridSize, seed)"),K:function(a){var a=cc.vj.create(a,cc.size(16,12),25),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Hg=R.extend({title:m("FadeOutTRTilesTest"),
code:m("a = cc.FadeOutTRTiles.create(duration, gridSize)"),K:function(a){var a=cc.cj.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Ig=R.extend({title:m("FadeOutBLTilesTest"),code:m("a = cc.FadeOutBLTiles.create(duration, gridSize)"),K:function(a){var a=cc.aj.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Jg=R.extend({title:m("FadeOutUpTilesTest"),code:m("a = cc.FadeOutUpTiles.create(duration, gridSize)"),
K:function(a){var a=cc.dj.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Kg=R.extend({title:m("FadeOutDownTilesTest"),code:m("a = cc.FadeOutDownTiles.create(duration, gridSize)"),K:function(a){var a=cc.bj.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Lg=R.extend({title:m("TurnOffTiles"),code:m("a = cc.TurnOffTiles.create(duration, gridSize, seed)"),K:function(a){var a=cc.TurnOffTiles.create(a,
cc.size(16,12),20),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Mg=R.extend({title:m("WavesTiles3D"),code:m("a = cc.WavesTiles3D.create(duration, gridSize, waves, amplitude)"),K:function(a){return cc.Ej.create(a,cc.size(16,12),4,120)}}),Ng=R.extend({title:m("JumpTiles3D"),code:m("a = cc.JumpTiles3D.create(duration, gridSize, jumps, amplitude)"),K:function(a){return cc.kj.create(a,cc.size(16,12),2,30)}}),Og=R.extend({title:m("SplitRows"),code:m("a = cc.SplitRows.create(duration, rows)"),
K:function(a){var a=cc.xj.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Pg=R.extend({title:m("SplitCols"),code:m("a = cc.SplitCols.create(duration, cols)"),K:function(a){var a=cc.wj.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Qg=R.extend({title:m("PageTurn3D"),code:m("a = cc.PageTurn3D.create(duration, gridSize)"),K:function(a){return cc.pj.create(a,cc.size(15,10))}}),Aa=w.extend({q:function(){rg=-1;this.addChild(tg());
q.replaceScene(this)}}),sg=[vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg];function tg(){rg++;rg%=sg.length;return new sg[rg]}function ug(){rg--;0>rg&&(rg+=sg.length);return new sg[rg]};var Rg="Thonburi",Sg=36,S=-1,Wg=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},Pa:function(){var a=new xa;a.addChild(new Tg[S]);q.replaceScene(a)},fb:function(){var a=new xa;a.addChild(Ug());q.replaceScene(a)},gc:function(){var a=new xa;a.addChild(Vg());q.replaceScene(a)},title:m("Event Test"),onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",24);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height-
50));if((b=this.d())&&""!==b)b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80));var b=cc.MenuItemImage.create(hb,ib,this.gc,this),c=cc.MenuItemImage.create(C,jb,this.Pa,this),d=cc.MenuItemImage.create(kb,lb,this.fb,this),f=cc.Menu.create(b,c,d);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/2-100,30));c.setPosition(cc.p(a.width/2,30));d.setPosition(cc.p(a.width/2+100,30));this.addChild(f,1)}}),Xg=Wg.extend({init:function(){this._super();this.Oa=
{};this.Eb=[];"touches"in sys.j?(this.setTouchMode(cc.TOUCH_ONE_BY_ONE),this.setTouchEnabled(g)):cc.log("TOUCH-ONE-BY-ONE test is not supported on desktop");for(var a=0;5>a;a++){var b=this.Ra=cc.Sprite.create(jb);this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.Eb.push(b)}},d:m("Touches One by One. Touch the left / right and see console"),ae:function(a,b){var c=this.Eb.pop();this.Oa[a]=c;c.setPosition(b)},
Bd:function(a,b){this.Oa[a].setPosition(b)},pd:function(a){var b=this.Oa[a];this.Oa[a]=i;this.Eb.push(b);b.setPosition(0,0)},onTouchBegan:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchBegan at: "+b.x+" "+b.y+" Id:"+a);return b.x<r.width/2?(this.ae(a,b),g):j},onTouchMoved:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchMoved at: "+b.x+" "+b.y+" Id:"+a);this.Bd(a,b)},onTouchEnded:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchEnded at: "+b.x+" "+b.y+" Id:"+
a);this.pd(a,b)},onTouchCancelled:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchCancelled at: "+b.x+" "+b.y+" Id:"+a);this.Bd(a,b)}}),Yg=Wg.extend({init:function(){this._super();this.Oa={};this.Eb=[];"touches"in sys.j?(this.setTouchMode(cc.TOUCH_ALL_AT_ONCE),this.setTouchEnabled(g)):cc.log("TOUCHES not supported");for(var a=0;5>a;a++){var b=this.Ra=cc.Sprite.create(jb);this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,
200*Math.random()+55));this.Eb.push(b)}},d:m("Touches All At Once. Touch and see console"),ae:function(a,b){var c=this.Eb.pop();this.Oa[a]=c;c.setPosition(b)},Bd:function(a,b){this.Oa[a].setPosition(b)},pd:function(a){var b=this.Oa[a];this.Oa[a]=i;this.Eb.push(b);b.setPosition(0,0)},onTouchesBegan:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesBegan at: "+d.x+" "+d.y+" Id:"+c);this.ae(c,d)}},onTouchesMoved:function(a){for(var b=0;b<
a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesMoved at: "+d.x+" "+d.y+" Id:"+c);this.Bd(c,d)}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesEnded at: "+d.x+" "+d.y+" Id:"+c);this.pd(c)}},onTouchesCancelled:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesCancelled at: "+d.x+" "+d.y+" Id:"+c);this.pd(c)}}}),Zg=Wg.extend({init:function(){this._super();
if("accelerometer"in sys.j){this.setAccelerometerInterval(1/30);this.setAccelerometerEnabled(g);var a=this.Ra=cc.Sprite.create(jb);this.addChild(a);a.setPosition(r.width/2,r.height/2);this.wf=this.vf=0}else cc.log("ACCELEROMETER not supported")},d:m("Accelerometer test. Move device and see console"),onAccelerometer:function(a){cc.log("Accel x: "+a.x+" y:"+a.y+" z:"+a.Qk+" time:"+a.timestamp);var b=r.width,c=r.height,b=b*a.x+b/2,a=c*a.y+c/2,b=0.2*b+0.8*this.vf,a=0.2*a+0.8*this.wf;this.vf=b;this.wf=
a;this.Ra.setPosition(b,a)}}),$g=Wg.extend({init:function(){this._super();var a=this.Ra=cc.Sprite.create(jb);this.addChild(a);a.setPosition(0,0);a.setScale(1);a.setColor(cc.c3b(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));"mouse"in sys.j?this.setMouseEnabled(g):cc.log("MOUSE Not supported")},d:m("Mouse test. Move mouse and see console"),onMouseDown:function(a){a=a.getLocation();cc.log("onMouseDown at: "+a.x+" "+a.y);this.Ra.setPosition(a)},onMouseDragged:function(a){a=a.getLocation();
cc.log("onMouseDragged at: "+a.x+" "+a.y);this.Ra.setPosition(a)},onMouseUp:function(a){a=a.getLocation();this.Ra.setPosition(a);cc.log("onMouseUp at: "+a.x+" "+a.y)}}),ah=Wg.extend({init:function(){this._super();"keyboard"in sys.j?this.setKeyboardEnabled(g):cc.log("KEYBOARD Not supported")},d:m("Keyboard test. Press keyboard and see console"),onKeyUp:function(a){cc.log("Key up:"+a)},onKeyDown:function(a){cc.log("Key down:"+a)},tk:function(a){cc.log("Key flags changed:"+a)}}),xa=w.extend({q:function(){S=
-1;this.addChild(Ug());q.replaceScene(this)}}),Tg=[Xg,Yg,Zg,$g,ah];function Ug(){S++;S%=Tg.length;return new Tg[S]}function Vg(){S--;0>S&&(S+=Tg.length);return new Tg[S]};var ka=40,bh=1E3,gh=[{Fa:"CCControlButtonTest",s:function(){var a=ch.getInstance().Uc();cc.Director.getInstance().replaceScene(a)}},{Fa:"CocosBuilderTest",s:function(){var a=new dh;a&&a.q()}},{Fa:"TableViewTest",s:function(){var a=cc.Scene.create(),b=eh.create();a.addChild(b);cc.Director.getInstance().replaceScene(a)}},{Fa:"EditBoxTest",s:function(){var a=cc.Scene.create(),b=fh.create();a.addChild(b);cc.Director.getInstance().replaceScene(a)}}],hh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,
cc.Layer)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);for(var c=0;c<gh.length;++c){var d=cc.MenuItemFont.create(gh[c].Fa,this.$d,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ka));b.addChild(d,bh+c)}this.addChild(b)},$d:function(a){a=a.getZOrder()-bh;gh[a].s()}}),za=w.extend({q:function(){this.addChild(new hh);cc.Director.getInstance().replaceScene(this)}});var dh=w.extend({q:function(){var a=cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary();a.registerCCNodeLoader("HelloCocosBuilderLayer",new ih);a=new cc.BuilderReader(a);a.setCCBRootPath("res/");a=a.readNodeGraphFromFile("res/ccb/HelloCocosBuilder.ccbi",this);a!=i&&this.addChild(a);cc.Director.getInstance().replaceScene(this)}});var jh=cc.Layer.extend({Ib:i,onResolveCCBCCMenuItemSelector:m(i),onResolveCCBCCControlSelector:function(a,b){return this==a&&"onCCControlButtonIdleClicked"==b?this.Xg:this==a&&"onCCControlButtonWaveClicked"==b?this.Zg:this==a&&"onCCControlButtonJumpClicked"==b?this.Yg:this==a&&"onCCControlButtonFunkyClicked"==b?this.Wg:i},de:function(a,b,c){return this.Ka==this&&"mAnimationManager"==b?(c instanceof cc.BuilderAnimationManager&&(this.Ib=c),g):j},Xg:function(){this.Ib.runAnimations("Idle",0.3)},Zg:function(){this.Ib.runAnimations("Wave",
0.3)},Yg:function(){this.Ib.runAnimations("Jump",0.3)},Wg:function(){this.Ib.runAnimations("Funky",0.3)},setAnimationManager:aa("Ib")});jh.create=function(){var a=new jh;return a&&a.init()?a:i};var kh=cc.LayerLoader.extend({Va:function(){return jh.create()}});var lh=cc.Layer.extend({za:i,onResolveCCBCCMenuItemSelector:m(i),onResolveCCBCCControlSelector:function(a,b){return a==this&&"onCCControlButtonClicked"==b?this.Vg:i},de:function(a,b,c){return this==a&&"mCCControlEventLabel"==b?(c instanceof cc.LabelBMFont&&(this.za=c),g):j},Vg:function(a,b){switch(b){case cc.CONTROL_EVENT_TOUCH_DOWN:this.za.setString("Touch Down.");break;case cc.CONTROL_EVENT_TOUCH_DRAGINSIDE:this.za.setString("Touch Drag Inside.");break;case cc.CONTROL_EVENT_TOUCH_DRAGOUTSIDE:this.za.setString("Touch Drag Outside.");
break;case cc.CONTROL_EVENT_TOUCH_DRAGENTER:this.za.setString("Touch Drag Enter.");break;case cc.CONTROL_EVENT_TOUCH_DRAGEXIT:this.za.setString("Touch Drag Exit.");break;case cc.CONTROL_EVENT_TOUCH_UPINSIDE:this.za.setString("Touch Up Inside.");break;case cc.CONTROL_EVENT_TOUCH_UPOUTSIDE:this.za.setString("Touch Up Outside.");break;case cc.CONTROL_EVENT_TOUCH_CANCEL:this.za.setString("Touch Cancel.");break;case cc.CONTROL_EVENT_VALUECHANGED:this.za.setString("Value Changed.");break;default:cc.assert(j)}}});
lh.create=function(){var a=new lh;return a&&a.init()?a:i};var mh=cc.LayerLoader.extend({Va:function(){return lh.create()}});var sh=cc.Layer.extend({Ge:i,Kd:i,rc:function(a,b,c){var d=cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary();d.registerCCNodeLoader("TestHeaderLayer",new nh);b!=i&&c!=i&&d.registerCCNodeLoader(b,c);b=new cc.BuilderReader(d);b.setCCBRootPath("res/");b=b.readNodeGraphFromFile(a,this);this.Kd.setString(a);a=cc.Scene.create();b!=i&&a.addChild(b);cc.Director.getInstance().pushScene(cc.TransitionFade.create(0.5,a,cc.black()))},onResolveCCBCCMenuItemSelector:m(i),onResolveCCBCCControlSelector:function(a,
b){return this==a&&"onMenuTestClicked"==b?this.xh:this==a&&"onSpriteTestClicked"==b?this.Kh:this==a&&"onButtonTestClicked"==b?this.Ug:this==a&&"onAnimationsTestClicked"==b?this.Rg:this==a&&"onParticleSystemTestClicked"==b?this.zh:this==a&&"onScrollViewTestClicked"==b?this.Jh:i},de:function(a,b,c){return a==this&&"mBurstSprite"==b?(c instanceof cc.Sprite&&(this.Ge=c),g):a==this&&"mTestTitleLabelTTF"==b?(c instanceof cc.LabelTTF&&(this.Kd=c),g):j},onNodeLoaded:function(){var a=cc.RotateBy.create(20,
360);this.Ge.runAction(cc.RepeatForever.create(a))},xh:function(){this.rc("res/ccb/ccb/TestMenus.ccbi","TestMenusLayer",new oh)},Kh:function(){this.rc("res/ccb/ccb/TestSprites.ccbi","TestSpritesLayer",new ph)},Ug:function(){this.rc("res/ccb/ccb/TestButtons.ccbi","TestButtonsLayer",new mh)},Rg:function(){var a,b=cc.NodeLoaderLibrary.newDefaultCCNodeLoaderLibrary();b.registerCCNodeLoader("TestHeaderLayer",new nh);b.registerCCNodeLoader("TestAnimationsLayer",new kh);var c=new cc.BuilderReader(b);c.setCCBRootPath("res/");
b=c.readNodeGraphFromFile("res/ccb/ccb/TestAnimations.ccbi",this,a);a=c.getAnimationManager();b.setAnimationManager(a);this.Kd.setString("TestAnimations.ccbi");a=cc.Scene.create();b!=i&&a.addChild(b);b=cc.c3b(0,0,0);cc.Director.getInstance().pushScene(cc.TransitionFade.create(0.5,a,b))},zh:function(){this.rc("res/ccb/ccb/TestParticleSystems.ccbi","TestParticleSystemsLayer",new qh)},Jh:function(){this.rc("res/ccb/ccb/TestScrollViews.ccbi","TestScrollViewsLayer",new rh)}});
sh.create=function(){var a=new sh;return a&&a.init()?a:i};var ih=cc.LayerLoader.extend({Va:function(){return sh.create()}});var th=cc.Layer.extend({});th.create=function(){var a=new th;return a&&a.init()?a:i};cc.LayerLoader.extend({Va:function(){return th.create()}});var uh=cc.Layer.extend({Mc:i,onResolveCCBCCMenuItemSelector:function(a,b){return a==this&&"onMenuItemAClicked"==b?this.uh:a==this&&"onMenuItemBClicked"==b?this.vh:a==this&&"onMenuItemCClicked"==b?this.wh:i},onResolveCCBCCControlSelector:m(i),de:function(a,b,c){return this==a&&"mMenuItemStatusLabelBMFont"==b?(c instanceof cc.LabelBMFont&&(this.Mc=c),g):j},uh:function(){this.Mc.setString("Menu Item A clicked.")},vh:function(){this.Mc.setString("Menu Item B clicked.")},wh:function(){this.Mc.setString("Menu Item C clicked.")}});
uh.create=function(){var a=new uh;return a&&a.init()?a:i};var oh=cc.LayerLoader.extend({Va:function(){return uh.create()}});var vh=cc.Layer.extend({});vh.create=function(){var a=new vh;return a&&a.init()?a:i};var qh=cc.LayerLoader.extend({Va:function(){return vh.create()}});var wh=cc.Layer.extend({});wh.create=function(){var a=new wh;return a&&a.init()?a:i};var rh=cc.LayerLoader.extend({Va:function(){return wh.create()}});var xh=cc.Layer.extend({});xh.create=function(){var a=new xh;return a&&a.init()?a:i};var ph=cc.LayerLoader.extend({Va:function(){return xh.create()}});var yh=cc.Layer.extend({onResolveCCBCCMenuItemSelector:function(a,b){return this==a&&"onBackClicked"==b?this.Sg:i},onResolveCCBCCControlSelector:m(i),Sg:function(){cc.Director.getInstance().popScene()}});yh.create=function(){var a=new yh;return a&&a.init()?a:i};var nh=cc.LayerLoader.extend({Va:function(){return yh.create()}});var zh=cc.Layer.extend({Ja:i,ctor:k(),ik:ba("Ja"),oi:aa("Ja"),init:function(){if(this._super()){var a=cc.Director.getInstance().getWinSize(),b=cc.MenuItemFont.create("Back",this.xc,this);b.setPosition(cc.p(a.width-50,25));b=cc.Menu.create(b);b.setPosition(cc.p(0,0));this.addChild(b,10);b=cc.Sprite.create(sd);b.setPosition(cc.p(a.width/2,a.height/2));var c=b.getTextureRect();b.setScaleX(a.width/c.size.width);b.setScaleY(a.height/c.size.height);this.addChild(b);b=cc.Scale9Sprite.create(wd,cc.RectMake(1,
1,48,55));b.setContentSize(cc.SizeMake(a.width,57));b.setPosition(cc.p(a.width/2,a.height-b.getContentSize().height/2));this.addChild(b);this.oi(cc.LabelTTF.create("Title","Arial",12));this.Ja.setPosition(cc.p(a.width/2,a.height-this.Ja.getContentSize().height/2-5));this.addChild(this.Ja,1);var b=cc.MenuItemImage.create(hb,ib,this,this.Yh),c=cc.MenuItemImage.create(C,jb,this.Pa,this),d=cc.MenuItemImage.create(kb,lb,this.fb,this),f=cc.Menu.create(b,d,c);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/
2-100,37));c.setPosition(cc.p(a.width/2,35));d.setPosition(cc.p(a.width/2+100,37));this.addChild(f,1);return g}return j},xc:function(){(new za).q()},Yh:function(){cc.Director.getInstance().replaceScene(ch.getInstance().Zh())},Pa:function(){cc.Director.getInstance().replaceScene(ch.getInstance().Uc())},fb:function(){cc.Director.getInstance().replaceScene(ch.getInstance().Og())}});zh.create=function(a){var b=cc.Scene.create(),c=new zh;c&&c.init()&&(c.Ja.setString(a),b.addChild(c));return b};var Dh=[{Fa:"ControlButtonTest_HelloVariableSize",s:function(){return Ah.create(this.Fa)}},{Fa:"ControlButtonTest_Event",s:function(){return Bh.create(this.Fa)}},{Fa:"ControlButtonTest_Styling",s:function(){return Ch.create(this.Fa)}}],ch=cc.Class.extend({Aa:0,ctor:function(){this.Aa=0},ck:ba("Aa"),yk:aa("Aa"),Og:function(){this.Aa=(this.Aa+1)%Dh.length;return this.Uc()},Zh:function(){this.Aa-=1;0>this.Aa&&(this.Aa=Dh.length-1);return this.Uc()},Uc:function(){return Dh[this.Aa].s()}});ch.re=i;
ch.getInstance=function(){ch.re==i&&(ch.re=new ch);return ch.re};var Ah=zh.extend({init:function(){if(this._super()){var a=cc.Director.getInstance().getWinSize(),b=["Hello","Variable","Size","!"],c=cc.Node.create();this.addChild(c,1);for(var d=0,f=0,h=0;h<b.length;h++){var l=this.se(b[h]);l.setPosition(cc.p(d+l.getContentSize().width/2,l.getContentSize().height/2));c.addChild(l);f=l.getContentSize().height;d+=l.getContentSize().width}c.setAnchorPoint(cc.p(0.5,0.5));c.setContentSize(cc.SizeMake(d,f));c.setPosition(cc.p(a.width/2,a.height/2));b=cc.Scale9Sprite.create(td);
b.setContentSize(cc.SizeMake(d+14,f+14));b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b);return g}return j},se:function(a){var b=cc.Scale9Sprite.create(ud),c=cc.Scale9Sprite.create(vd),a=cc.LabelTTF.create(a,"Marker Felt",30);a.setColor(cc.c3(159,168,176));b=cc.ControlButton.create(a,b);b.setBackgroundSpriteForState(c,cc.CONTROL_STATE_HIGHLIGHTED);b.setTitleColorForState(cc.De,cc.CONTROL_STATE_HIGHLIGHTED);return b}});
Ah.create=function(a){var b=cc.Scene.create(),c=new Ah;c&&c.init()&&(c.Ja.setString(a),b.addChild(c));return b};
var Bh=zh.extend({ha:i,ctor:k(),init:function(){if(this._super()){var a=cc.Director.getInstance().getWinSize();this.mi(cc.LabelTTF.create("No Event","Marker Felt",32));this.ha.setAnchorPoint(cc.p(0.5,-1));this.ha.setPosition(cc.p(a.width/2,a.height/2));this.addChild(this.ha,1);var b=cc.Scale9Sprite.create(ud),c=cc.Scale9Sprite.create(vd),d=cc.LabelTTF.create("Touch Me!","Marker Felt",30);d.setColor(cc.c3(159,168,176));b=cc.ControlButton.create(d,b);b.setBackgroundSpriteForState(c,cc.CONTROL_STATE_HIGHLIGHTED);
b.setTitleColorForState(cc.De,cc.CONTROL_STATE_HIGHLIGHTED);b.setAnchorPoint(cc.p(0.5,1));b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b,1);c=cc.Scale9Sprite.create(td);c.setContentSize(cc.SizeMake(300,170));c.setPosition(cc.p(a.width/2,a.height/2));this.addChild(c);b.addTargetWithActionForControlEvent(this,this.touchDownAction,cc.CONTROL_EVENT_TOUCH_DOWN);b.addTargetWithActionForControlEvent(this,this.Li,cc.CONTROL_EVENT_TOUCH_DRAGINSIDE);b.addTargetWithActionForControlEvent(this,this.Mi,
cc.CONTROL_EVENT_TOUCH_DRAGOUTSIDE);b.addTargetWithActionForControlEvent(this,this.Ji,cc.CONTROL_EVENT_TOUCH_DRAGENTER);b.addTargetWithActionForControlEvent(this,this.Ki,cc.CONTROL_EVENT_TOUCH_DRAGEXIT);b.addTargetWithActionForControlEvent(this,this.Ni,cc.CONTROL_EVENT_TOUCH_UPINSIDE);b.addTargetWithActionForControlEvent(this,this.Oi,cc.CONTROL_EVENT_TOUCH_UPOUTSIDE);b.addTargetWithActionForControlEvent(this,this.Ii,cc.CONTROL_EVENT_TOUCH_CANCEL);return g}return j},ek:ba("ha"),mi:aa("ha"),touchDownAction:function(){this.ha.setString("Touch Down")},
Li:function(){this.ha.setString("Drag Inside")},Mi:function(){this.ha.setString("Drag Outside")},Ji:function(){this.ha.setString("Drag Enter")},Ki:function(){this.ha.setString("Drag Exit")},Ni:function(){this.ha.setString("Touch Up Inside.")},Oi:function(){this.ha.setString("Touch Up Outside.")},Ii:function(){this.ha.setString("Touch Cancel")}});Bh.create=function(a){var b=cc.Scene.create(),c=new Bh;c&&c.init()&&(c.Ja.setString(a),b.addChild(c));return b};
var Ch=zh.extend({init:function(){if(this._super()){var a=cc.Director.getInstance().getWinSize(),b=cc.Node.create();this.addChild(b,1);for(var c=0,d=0,f=0;3>f;f++)for(var h=0;3>h;h++){var l=this.se((0|30*Math.random())+"");l.setAdjustBackgroundImage(j);l.setPosition(cc.p(l.getContentSize().width/2+(l.getContentSize().width+10)*f,l.getContentSize().height/2+(l.getContentSize().height+10)*h));b.addChild(l);c=Math.max(l.getContentSize().width*(f+1)+10*f,c);d=Math.max(l.getContentSize().height*(h+1)+
10*h,d)}b.setAnchorPoint(cc.p(0.5,0.5));b.setContentSize(cc.SizeMake(c,d));b.setPosition(cc.p(a.width/2,a.height/2));b=cc.Scale9Sprite.create(td);b.setContentSize(cc.SizeMake(c+14,d+14));b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b);return g}return j},se:function(a){var b=cc.Scale9Sprite.create(ud);b.setPreferredSize(cc.SizeMake(45,45));var c=cc.Scale9Sprite.create(vd);c.setPreferredSize(cc.SizeMake(45,45));a=cc.LabelTTF.create(a,"Marker Felt",30);a.setColor(cc.c3(159,168,176));b=cc.ControlButton.create(a,
b);b.setBackgroundSpriteForState(c,cc.CONTROL_STATE_HIGHLIGHTED);b.setTitleColorForState(cc.De,cc.CONTROL_STATE_HIGHLIGHTED);return b}});Ch.create=function(a){var b=cc.Scene.create(),c=new Ch;c&&c.init()&&(c.Ja.setString(a),b.addChild(c));return b};var fh=cc.Layer.extend({init:function(){var a=cc.EditBox.create(cc.size(170,50));a.setText("EditBoxs");a.setPosition(220,50);a.setBgClr(new cc.Color3B(255,0,0));a.setFontColor(new cc.Color3B(251,250,0));a.setBorderClr(new cc.Color3B(55,250,120));a.setFontSize(20);this.addChild(a);a=cc.EditBox.create(cc.size(130,40),new cc.Color3B(255,255,0));a.setText("EditBox Sample");a.setPosition(220,150);a.setInputFlag(cc.EDITBOX_INPUT_FLAG_PASSWORD);a.setBgClr(new cc.Color3B(55,150,120));a.setFontColor(new cc.Color3B(255,
250,0));a.setBorderClr(new cc.Color3B(55,250,120));this.addChild(a);a=cc.EditBox.create(cc.size(65,40),new cc.Color3B(255,255,0));a.setText("Image");a.setPosition(220,250);a.setBgClr(new cc.Color3B(255,250,0));a.setFontColor(new cc.Color3B(15,250,245));a.setBorderClr(new cc.Color3B(55,150,120));a.setImageStyle("res/extensions/orange_edit.png");this.addChild(a);a=cc.EditBox.create(cc.size(180,40),new cc.Color3B(255,255,0));a.setPlaceholderFontColor(new cc.Color3B(255,0,0));a.setPlaceHolder("Tooltip:");
a.setPosition(220,350);a.setBgClr(new cc.Color3B(255,210,50));a.setFontColor(new cc.Color3B(5,4,10));a.setBorderClr(new cc.Color3B(155,160,120));a.setMaxLength(10);this.addChild(a);a=cc.MenuItemFont.create("Back",this.xc,this);a.setPosition(cc.p(r.width-50,25));a=cc.Menu.create(a);a.setPosition(cc.p(0,0));this.addChild(a);return g},xc:function(){(new za).q()},scrollViewDidScroll:k(),scrollViewDidZoom:k(),tableCellTouched:function(a,b){cc.log("cell touched at index: "+b.getIdx())},cellSizeForTable:function(){return cc.SizeMake(60,
60)}});fh.create=function(){var a=new fh;return a&&a.init()?a:i};var S=-1,U=cc.SpriteFrameCache.getInstance(),Hh=cc.LayerGradient.extend({e:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));cc.SpriteFrameCache.getInstance().addSpriteFrames(Xb);cc.log("sprite frames added to sprite frame cache...")},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.e,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(r.width/2,r.height-50));""!==this.h&&(a=cc.LabelTTF.create(this.h,
"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(r.width/2,r.height-80)));var a=cc.MenuItemImage.create(hb,ib,this.A,this),b=cc.MenuItemImage.create(C,jb,this.C,this),c=cc.MenuItemImage.create(kb,lb,this.B,this),d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));var f=b.getContentSize();a.setPosition(cc.p(r.width/2-2*f.width,f.height/2));b.setPosition(cc.p(r.width/2,f.height/2));c.setPosition(cc.p(r.width/2+2*f.width,f.height/2));this.addChild(d,1)},onExit:function(){this._super()},C:function(){var a=
new Wa;a.addChild(new Eh[S]);q.replaceScene(a)},B:function(){var a=new Wa;a.addChild(Fh());q.replaceScene(a)},A:function(){var a=new Wa;a.addChild(Gh());q.replaceScene(a)}}),Ih=Hh.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9BatchNodeBasic ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode created with : res/Images/blocks9.png");
var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeBasic done.")}}),Jh=Hh.extend({e:"Scale9Sprite from sprite sheet",h:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheet ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");
cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheet done.")}}),Kh=Hh.extend({e:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetRotated ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");
this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotated done.")}}),Lh=Hh.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9BatchNodeScaledNoInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();
cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");d.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(d);cc.log("this..addChild");cc.log("... S9BtchNodeScaledNoInsets done.")}}),Mh=Hh.extend({e:"Scale9Sprite from sprite sheet",h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=r.width/
2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetScaledNoInsets done.")}}),Nh=Hh.extend({e:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",
ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetRotatedScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedScaledNoInsets done.")}}),Oh=Hh.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",
h:"updateWithBatchNode(); capInsets=(32, 32, 32, 32)",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9BatchNodeScaleWithCapInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled_with_insets created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(32,32,32,32));cc.log("... updateWithBatchNode");d.setContentSize(cc.size(432,240));cc.log("... setContentSize");
d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeScaleWithCapInsets done.")}}),Ph=Hh.extend({e:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,
b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsets done.")}}),Qh=Hh.extend({e:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,
240));cc.log("... setContentSize");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsetsScaled done.")}}),Rh=Hh.extend({e:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png",
cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsets done.")}}),Sh=Hh.extend({e:"Scale9Sprite from a spritesheet created with TexturePacker",h:"createWithSpriteFrameName('button_normal.png');createWithSpriteFrameName('button_actived.png');",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/ui.plist");var a=r.width/4,b=0+r.height/
2;cc.log("S9_TexturePacker ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("button_normal.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");a=3*r.width/4;c=cc.Scale9Sprite.createWithSpriteFrameName("button_actived.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);
cc.log("this..addChild");cc.log("... S9_TexturePacker done.")}}),Th=Hh.extend({e:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=r.width/2,b=0+r.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,240));cc.log("... setContentSize");
c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsetsScaled done.")}}),Wa=w.extend({q:function(){S=-1;this.addChild(Fh());q.replaceScene(this)}}),Eh=[Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh,Th,Sh];function Fh(){S++;S%=Eh.length;return new Eh[S]}function Gh(){S--;0>S&&(S+=Eh.length);return new Eh[S]};var Uh=cc.TableViewCell.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.TableViewCell)},draw:function(a){this._super(a)}}),eh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer)},init:function(){if(!this._super())return j;var a=cc.Director.getInstance().getWinSize(),b=cc.TableView.create(this,cc.size(600,60));b.setDirection(cc.SCROLLVIEW_DIRECTION_HORIZONTAL);b.setPosition(cc.p(20,a.height/2-150));b.setDelegate(this);this.addChild(b);b.reloadData();
b=cc.TableView.create(this,cc.size(60,350));b.setDirection(cc.SCROLLVIEW_DIRECTION_VERTICAL);b.setPosition(cc.p(a.width-150,a.height/2-150));b.setDelegate(this);b.setVerticalFillOrder(cc.TABLEVIEW_FILL_TOPDOWN);this.addChild(b);b.reloadData();b=cc.MenuItemFont.create("Back",this.xc,this);b.setPosition(cc.p(a.width-50,25));a=cc.Menu.create(b);a.setPosition(cc.p(0,0));this.addChild(a);return g},xc:function(){(new za).q()},scrollViewDidScroll:k(),scrollViewDidZoom:k(),tableCellTouched:function(a,b){cc.log("cell touched at index: "+
b.getIdx())},cellSizeForTable:function(){return cc.size(60,60)},tableCellAtIndex:function(a,b){var c=b.toFixed(0),d=a.dequeueCell(),f;d?(f=d.getChildByTag(123),f.setString(c)):(d=new Uh,f=cc.Sprite.create(xd),f.setAnchorPoint(cc.p(0,0)),f.setPosition(cc.p(0,0)),d.addChild(f),f=cc.LabelTTF.create(c,"Helvetica",20),f.setPosition(cc.p(0,0)),f.setAnchorPoint(cc.p(0,0)),f.setTag(123),d.addChild(f));return d},numberOfCellsInTableView:m(25)});eh.create=function(){var a=new eh;return a&&a.init()?a:i};var Vh=-1,Zh=J.extend({e:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},C:function(){var a=new Ca;a.addChild(new Wh[Vh]);q.replaceScene(a)},B:function(){var a=new Ca;a.addChild(Xh());q.replaceScene(a)},A:function(){var a=new Ca;a.addChild(Yh());q.replaceScene(a)},G:function(){return Wh.length-1-Vh},D:function(){return Vh}}).extend({e:"Testing FilenameLookup ",h:"You should see a grossini on the screen",ctor:function(){this._super();var a=sys.platform;"mobile"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-mobile.plist"):
"desktop"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-desktop.plist"):cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-html5.plist");var b=cc.Sprite.create("grossini.bmp");this.addChild(b);b.setPosition(r.width/2,r.height/2);v&&(this.Eg="mobile"==a?"grossini_pvr_rgba4444.pvr":"desktop"==a?"grossini_pvr_rgba8888.pvr":"grossini.png")},n:ba("Eg"),m:function(){return cc.FileUtils.getInstance().fullPathForFilename("grossini.bmp").replace(/^.*(\\|\/|\:)/,"")}}),Ca=
w.extend({q:function(){Vh=-1;this.addChild(Xh());q.replaceScene(this)}}),Wh=[Zh];function Xh(){Vh++;Vh%=Wh.length;return new Wh[Vh]}function Yh(){Vh--;0>Vh&&(Vh+=Wh.length);return new Wh[Vh]};var $h=0,ai="Verdana;Lucida Sans Unicode;Bookman Old Style;Symbol;Georgia;Trebuchet MS;Comic Sans MS;Arial Black;Tahoma;Impact;American Typewriter;Marker Felt;A Damn Mess;Abberancy;Abduction;Paint Boy;Schwarzwald;Scissor Cuts".split(";");function bi(){$h++;$h%=ai.length;return ai[$h]}function ci(){$h--;0>$h&&($h+=ai.length);return ai[$h]}FontTestScene=w.extend({q:function(){this.addChild(FontTest.create());q.replaceScene(this)}});
FontTest=J.extend({ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.sd(ai[$h])},sd:function(a){this.removeChildByTag(550,g);this.removeChildByTag(551,g);this.removeChildByTag(552,g);this.removeChildByTag(553,g);var b=q.getWinSize(),c=cc.LabelTTF.create(a,a,24),d=cc.LabelTTF.create("alignment left",a,32,cc.size(b.width,50),cc.TEXT_ALIGNMENT_LEFT),f=cc.LabelTTF.create("alignment center",a,32,cc.size(b.width,50),cc.TEXT_ALIGNMENT_CENTER),a=cc.LabelTTF.create("alignment right",
a,32,cc.size(b.width,50),cc.TEXT_ALIGNMENT_RIGHT);c.setPosition(b.width/2,3*b.height/4);d.setPosition(b.width/2,b.height/2);f.setPosition(b.width/2,3*b.height/8);a.setPosition(b.width/2,b.height/4);this.addChild(d,0,550);this.addChild(a,0,551);this.addChild(f,0,552);this.addChild(c,0,553)},A:function(){this.sd(ci())},C:function(){this.sd(ai[$h])},B:function(){this.sd(bi())},d:m("Font test"),title:function(){return""+ai[$h]},G:function(){return ai.length-1-$h},D:function(){return $h}});
FontTest.create=function(){return new FontTest};IntervalLayer=cc.LayerGradient.extend({Zc:i,$c:i,ad:i,bd:i,cd:i,vd:i,wd:i,xd:i,yd:i,zd:i,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.vd=this.wd=this.xd=this.yd=this.zd=0;var a=q.getWinSize(),b=cc.ParticleSun.create();b.setTexture(cc.TextureCache.getInstance().addImage(D));b.setPosition(a.width-32,a.height-32);b.setTotalParticles(130);b.setLife(0.6);this.addChild(b);this.Zc=cc.LabelTTF.create("0","Arial",24);this.$c=
cc.LabelTTF.create("0","Arial",24);this.ad=cc.LabelTTF.create("0","Arial",24);this.bd=cc.LabelTTF.create("0","Arial",24);this.cd=cc.LabelTTF.create("0","Arial",24);this.scheduleUpdate();this.schedule(this.wi);this.schedule(this.xi,0);this.schedule(this.yi,1);this.schedule(this.zi,2);this.Zc.setPosition(1*a.width/6,a.height/2);this.$c.setPosition(2*a.width/6,a.height/2);this.ad.setPosition(3*a.width/6,a.height/2);this.bd.setPosition(4*a.width/6,a.height/2);this.cd.setPosition(5*a.width/6,a.height/
2);this.addChild(this.Zc);this.addChild(this.$c);this.addChild(this.ad);this.addChild(this.bd);this.addChild(this.cd);b=cc.Sprite.create(z);b.setPosition(40,50);var c=cc.JumpBy.create(3,cc.p(a.width-80,0),50,4);this.addChild(b);b.runAction(cc.RepeatForever.create(cc.Sequence.create(c,c.reverse())));b=cc.MenuItemFont.create("Pause",this.ie,this);b=cc.Menu.create(b);b.setPosition(a.width/2,a.height-50);this.addChild(b)},ie:function(){q.isPaused()?q.resume():q.pause()},onExit:function(){q.isPaused()&&
q.resume();this._super()},wi:function(a){this.wd+=a;this.$c.setString(this.wd.toFixed(1))},xi:function(a){this.xd+=a;this.ad.setString(this.xd.toFixed(1))},yi:function(a){this.yd+=a;this.bd.setString(this.yd.toFixed(1))},zi:function(a){this.zd+=a;this.cd.setString(this.zd.toFixed(1))},update:function(a){this.vd+=a;this.Zc.setString(this.vd.toFixed(1))}});IntervalTestScene=w.extend({q:function(){this.addChild(new IntervalLayer);q.replaceScene(this)}});var di=-1,Fa=w.extend({q:function(){di=-1;this.addChild(ei());q.replaceScene(this)}}),V=J.extend({title:m("No title"),d:m(""),C:function(){var a=new Fa;a.addChild(new fi[di]);q.replaceScene(a)},B:function(){var a=new Fa;a.addChild(ei());q.replaceScene(a)},A:function(){var a=new Fa;a.addChild(gi());q.replaceScene(a)},G:function(){return fi.length-1-di},D:function(){return di}}),hi=V.extend({time:i,ctor:function(){this._super();this.time=0;var a=cc.LabelAtlas.create("123 Test",y+"fonts/tuffy_bold_italic-charmap.plist");
this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789",y+"fonts/tuffy_bold_italic-charmap.plist");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setOpacity(32);this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity"),d:m("Updating label should be fast"),n:function(){return JSON.stringify([200,
32])},m:function(){var a=[],b=[660,661],c;for(c in b)a.push(this.getChildByTag(b[c]).getOpacity());return JSON.stringify(a)}}),ii=V.extend({time:i,ctor:function(){this._super();var a=cc.LabelAtlas.create("123 Test",y+"fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789",y+"fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setColor(cc.c3b(255,0,0));
var b=cc.FadeOut.create(1),c=b.reverse(),d=cc.DelayTime.create(0.25),b=cc.Sequence.create(b,d,c,d.copy()),b=cc.RepeatForever.create(b);a.runAction(b);this.time=0;this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity Color"),d:m("Opacity + Color should work at the same time"),t:1,n:function(){return JSON.stringify([200,{r:255,g:255,
b:255},0,{r:255,g:0,b:0}])},m:function(){var a=[],b=[660,661],c;for(c in b){var d=b[c];a.push(this.getChildByTag(d).getOpacity());a.push(this.getChildByTag(d).getColor())}return JSON.stringify(a)}}),ji=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelAtlas.create("TESTING RETINA DISPLAY",y+"fonts/larabie-16.plist");b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("LabelAtlas with Retina Display"),d:m("loading larabie-16 / larabie-16-hd")}),
ki=V.extend({time:0,ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(128,128,128,255)),-10);var a=cc.LabelBMFont.create("Test",y+"fonts/bitmapFontTest2.fnt");a.setAnchorPoint(cc.p(0,0));this.addChild(a,0,1);var b=cc.FadeOut.create(1),c=b.reverse(),b=cc.Sequence.create(b,c),c=cc.RepeatForever.create(b);a.runAction(c);b=cc.LabelBMFont.create("Test",y+"fonts/bitmapFontTest2.fnt");b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.ze);this.addChild(b,0,2);b.runAction(c.copy());c=cc.LabelBMFont.create("Test",
y+"fonts/bitmapFontTest.fnt");c.setAnchorPoint(cc.p(1,1));this.addChild(c,0,3);var d=q.getWinSize();a.setPosition(cc.p(0,0));b.setPosition(cc.p(d.width/2,d.height/2));c.setPosition(cc.p(d.width,d.height));this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+"Test j";this.getChildByTag(1).setString(a);this.getChildByTag(2).setString(a);this.getChildByTag(3).setString(a)},title:m("cc.LabelBMFont"),d:m("Testing alignment. Testing opacity + tint")}),li=V.extend({time:i,ctor:function(){this._super();
this.time=0;var a=cc.LabelBMFont.create("Bitmap Font Atlas",y+"fonts/bitmapFontTest.fnt");this.addChild(a);var b=q.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5));var c=a.getChildByTag(0),d=a.getChildByTag(7),a=a.getChildByTag(12),f=cc.RotateBy.create(2,360),f=cc.RepeatForever.create(f),h=cc.ScaleBy.create(2,1.5),l=h.reverse(),h=cc.Sequence.create(h,l),h=cc.RepeatForever.create(h),l=cc.JumpBy.create(0.5,cc.p(0,0),60,1),l=cc.RepeatForever.create(l),o=cc.FadeOut.create(1),
u=cc.FadeIn.create(1),o=cc.Sequence.create(o,u),o=cc.RepeatForever.create(o);c.runAction(f);c.runAction(h);d.runAction(l);a.runAction(o);c=cc.LabelBMFont.create("00.0",y+"fonts/bitmapFontTest.fnt");this.addChild(c,0,2);c.setPosition(cc.p(b.width/2,80));c.getChildByTag(3).runAction(f.copy());this.schedule(this.step,0.1)},step:function(a){this.time+=a;a=this.time.toFixed(1);this.getChildByTag(2).setString(10>a?"0"+a:a)},draw:function(){var a=q.getWinSize(),b=cc.c3b(255,0,0);cc.renderContext.strokeStyle=
"rgba("+b.r+","+b.g+","+b.b+",1)";cc.drawingUtil.drawLine(cc.p(0,a.height/2),cc.p(a.width,a.height/2));cc.drawingUtil.drawLine(cc.p(a.width/2,0),cc.p(a.width/2,a.height))},title:m("cc.LabelBMFont"),d:m("Using fonts as cc.Sprite objects. Some characters should rotate.")}),mi=V.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("abcdefg",y+"fonts/bitmapFontTest4.fnt");this.addChild(a);var b=q.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),
d:m("Testing padding")}),ni=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=i,b=cc.LabelBMFont.create("FaFeFiFoFu",y+"fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2+50));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("fafefifofu",y+"fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("aeiou",y+"fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/
2,a.height/2-50));b.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),d:m("Rendering should be OK. Testing offset")}),oi=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=i,b=cc.LabelBMFont.create("Blue",y+"fonts/bitmapFontTest5.fnt");b.setColor(cc.c3b(0,0,255));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("Red",y+"fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/4));b.setAnchorPoint(cc.p(0.5,
0.5));b.setColor(cc.c3b(255,0,0));b=cc.LabelBMFont.create("G",y+"fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,3*a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.c3b(0,255,0));b.setString("Green")},title:m("cc.LabelBMFont"),d:m("Testing color")}),pi=V.extend({ctor:function(){this._super();for(var a=0;100>a;a++){var b=cc.LabelBMFont.create("-"+a+"-",y+"fonts/bitmapFontTest.fnt");this.addChild(b);var c=q.getWinSize(),c=cc.p(Math.random()*c.width,Math.random()*c.height);
b.setPosition(c);b.setAnchorPoint(cc.p(0.5,0.5))}},title:m("cc.LabelBMFont"),d:m("Creating several cc.LabelBMFont with the same .fnt file should be fast")}),qi=V.extend({ctor:function(){this._super();var a,b=cc.LabelBMFont.create("Multi line\nLeft",y+"fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Multi line\nCenter",y+"fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,
0.5));this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\nRight\nThree lines Three",y+"fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=q.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),d:m("Multiline + anchor point")}),ri=V.extend({ctor:function(){this._super();
var a,b=cc.LabelBMFont.create("Multi line\n\nAligned to the left",y+"fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));b.setAlignment(cc.TEXT_ALIGNMENT_LEFT);b.setWidth(400);this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Error\n\nSome error message",y+"fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));c.setAlignment(cc.TEXT_ALIGNMENT_CENTER);c.setWidth(290);this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+
a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\n\nAligned to the right",y+"fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));d.setAlignment(cc.TEXT_ALIGNMENT_RIGHT);d.setWidth(400);this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=q.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),d:m("Multiline with 2 new lines. All characters should appear")}),
si=V.extend({rd:i,ctor:function(){this._super();var a=cc.LabelBMFont.create("",y+"fonts/bitmapFontTest3.fnt");this.addChild(a,0,1);a.setPosition(r.width/2,r.height-100);a=cc.LabelTTF.create("","Arial",24);this.addChild(a,0,2);a.setPosition(r.width/2,r.height/2);a=cc.LabelAtlas.create("",y+"fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,3);a.setPosition(r.width/2,100);this.schedule(this.Th,1);this.rd=j},Th:function(){var a=this.getChildByTag(1),b=this.getChildByTag(2),c=this.getChildByTag(3);
this.rd?(a.setString(""),b.setString(""),c.setString(""),this.rd=j):(a.setString("not empty"),b.setString("not empty"),c.setString("hi"),this.rd=g)},title:m("Testing empty labels"),d:m("3 empty labels: LabelAtlas, LabelTTF and LabelBMFont")}),ti=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelBMFont.create("TESTING RETINA DISPLAY",y+"fonts/konqa32.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Retina Display BMFont"),d:m("loading arista16 or arista16-hd")}),
ui=V.extend({ctor:function(){this._super();var a=q.getWinSize();this.addChild(cc.LayerColor.create(cc.c4b(128,128,128,255)),-10);var b=cc.LabelBMFont.create("Testing Glyph Designer",y+"fonts/futura-48.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Glyph Designer"),d:m("You should see a font with shawdows and outline")}),vi=V.extend({ob:i,Lb:i,Vb:i,ctor:function(){this._super();var a=cc.size(200,160),b=q.getWinSize(),c=cc.LayerColor.create(cc.c4b(100,100,100,255),
a.width,a.height);c.setAnchorPoint(cc.p(0,0));c.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(c);cc.MenuItemFont.setFontSize(30);a=cc.Menu.create(cc.MenuItemFont.create("Left",this.hi,this),cc.MenuItemFont.create("Center",this.gi,this),cc.MenuItemFont.create("Right",this.ji,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(50,b.height/2-20));this.addChild(a);a=cc.Menu.create(cc.MenuItemFont.create("Top",this.ki,this),cc.MenuItemFont.create("Middle",this.ii,
this),cc.MenuItemFont.create("Bottom",this.fi,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(b.width-50,b.height/2-20));this.addChild(a);this.ob=i;this.Lb=cc.TEXT_ALIGNMENT_LEFT;this.Vb=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this.Fb()},Fb:function(){var a=cc.size(200,160),b=q.getWinSize();this.ob&&this.ob.removeFromParent();this.ob=cc.LabelTTF.create(this.Gg(),"Arial",32,a,this.Lb,this.Vb);this.ob.setAnchorPoint(cc.p(0,0));this.ob.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));
this.addChild(this.ob)},hi:function(){this.Lb=cc.TEXT_ALIGNMENT_LEFT;this.Fb()},gi:function(){this.Lb=cc.TEXT_ALIGNMENT_CENTER;this.Fb()},ji:function(){this.Lb=cc.TEXT_ALIGNMENT_RIGHT;this.Fb()},ki:function(){this.Vb=cc.VERTICAL_TEXT_ALIGNMENT_TOP;this.Fb()},ii:function(){this.Vb=cc.VERTICAL_TEXT_ALIGNMENT_CENTER;this.Fb()},fi:function(){this.Vb=cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM;this.Fb()},Gg:function(){var a=i,b=i;switch(this.Vb){case cc.VERTICAL_TEXT_ALIGNMENT_TOP:a="Top";break;case cc.VERTICAL_TEXT_ALIGNMENT_CENTER:a=
"Middle";break;case cc.VERTICAL_TEXT_ALIGNMENT_BOTTOM:a="Bottom"}switch(this.Lb){case cc.TEXT_ALIGNMENT_LEFT:b="Left";break;case cc.TEXT_ALIGNMENT_CENTER:b="Center";break;case cc.TEXT_ALIGNMENT_RIGHT:b="Right"}return"Alignment "+a+" "+b},title:m("Testing cc.LabelTTF"),d:m("Select the buttons on the sides to change alignment")}),wi=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("word wrap \"testing\" (bla0) bla1 'bla2' [bla3] (bla4) {bla5} {bla6} [bla7] (bla8) [bla9] 'bla0' \"bla1\"",
"Arial",32,cc.size(a.width/2,200),cc.TEXT_ALIGNMENT_CENTER,cc.VERTICAL_TEXT_ALIGNMENT_TOP);b.setPosition(cc.p(a.width/2,150));this.addChild(b)},title:m("Testing cc.LabelTTF Word Wrap"),d:m("Word wrap using cc.LabelTTF")}),xi=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("\u4e2d\u56fd","Microsoft Yahei",30);b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelTTF with Chinese character")}),yi=V.extend({ctor:function(){this._super();
var a=q.getWinSize(),b=cc.LabelBMFont.create("\u4e2d\u56fd",y+"fonts/bitmapFontChinese.fnt");b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelBMFont with Chinese character")}),zi=V.extend({ea:i,ka:i,qa:i,Yd:i,Xd:i,ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=q.getWinSize();this.ea=cc.LabelBMFont.create("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
y+"fonts/markerFelt.fnt",a.width/2,cc.TEXT_ALIGNMENT_CENTER,cc.p(0,0));this.ka=cc.Sprite.create(y+"Images/arrowsBar.png");this.qa=cc.Sprite.create(y+"Images/arrows.png");cc.MenuItemFont.setFontSize(20);var b=cc.MenuItemFont.create("Long Flowing Sentences",this.je,this),c=cc.MenuItemFont.create("Short Sentences With Intentional Line Breaks",this.je,this),d=cc.MenuItemFont.create("Long Sentences Mixed With Intentional Line Breaks",this.je.bind(this)),f=cc.Menu.create(b,c,d);f.alignItemsVertically();
b.setColor(cc.c3b(255,0,0));this.Yd=b;b.setTag(0);c.setTag(1);d.setTag(2);cc.MenuItemFont.setFontSize(30);var b=cc.MenuItemFont.create("Left",this.ce,this),c=cc.MenuItemFont.create("Center",this.ce,this),d=cc.MenuItemFont.create("Right",this.ce.bind(this)),h=cc.Menu.create(b,c,d);h.alignItemsHorizontallyWithPadding(50);c.setColor(cc.c3b(255,0,0));this.Xd=c;b.setTag(0);c.setTag(1);d.setTag(2);this.ea.setPosition(cc.p(a.width/2,a.height/2));this.ka.setVisible(j);this.ka.setScaleX(0.25*a.width/this.ka.getContentSize().width);
this.ka.setAnchorPoint(cc.p(0,0.5));this.ka.setPosition(cc.p(0.7*a.width,this.ea.getPosition().y));this.qa.setPosition(this.ka.getPosition());f.setPosition(cc.p(a.width/2,a.height-50));h.setPosition(cc.p(a.width/2,65));this.addChild(this.ea);this.addChild(this.ka);this.addChild(this.qa);this.addChild(f);this.addChild(h)},title:m(""),d:m(""),je:function(a){a.setColor(cc.c3b(255,0,0));this.Yd.setColor(cc.c3b(255,255,255));this.Yd=a;switch(a.getTag()){case 0:this.ea.setString("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.");
break;case 1:this.ea.setString("Lorem ipsum dolor\nsit amet\nconsectetur adipisicing elit\nblah\nblah");break;case 2:this.ea.setString("ABC\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt\nDEF")}this.Ff()},ce:function(a){a.setColor(cc.c3b(255,0,0));this.Xd.setColor(cc.c3b(255,255,255));this.Xd=a;switch(a.getTag()){case 0:this.ea.setAlignment(cc.TEXT_ALIGNMENT_LEFT);break;case 1:this.ea.setAlignment(cc.TEXT_ALIGNMENT_CENTER);break;case 2:this.ea.setAlignment(cc.TEXT_ALIGNMENT_RIGHT)}this.Ff()},
onTouchesBegan:function(a){a=a[0].getLocation();cc.rectContainsPoint(this.qa.getBoundingBox(),a)&&this.ka.setVisible(g)},onTouchesEnded:function(){this.ka.setVisible(j)},onTouchesMoved:function(a){var a=a[0].getLocation(),b=q.getWinSize();this.qa.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.qa.getPosition().y));this.ea.setWidth(2*Math.abs(this.qa.getPosition().x-this.ea.getPosition().x))},onMouseDown:function(a){a=a.getLocation();cc.rectContainsPoint(this.qa.getBoundingBox(),
a)&&this.ka.setVisible(g)},onMouseDragged:function(a){var a=a.getLocation(),b=q.getWinSize();this.qa.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.qa.getPosition().y));this.ea.setWidth(2*Math.abs(this.qa.getPosition().x-this.ea.getPosition().x))},onMouseUp:function(){this.ka.setVisible(j)},Ff:function(){var a=q.getWinSize();this.qa.setPosition(cc.p(0.7*a.width,this.ka.getPosition().y))}}),Ai=V.extend({ctor:function(){this._super();var a=q.getWinSize();this.addChild(cc.LayerColor.create(cc.c4b(128,
128,128,255)),-10);var b=cc.LabelTTF.create("Testing A8 Format","Arial",48);this.addChild(b);b.setColor(cc.c3b(255,0,0));b.setPosition(cc.p(a.width/2,a.height/2));var a=cc.FadeOut.create(2),c=cc.FadeIn.create(2),a=cc.Sequence.create(a,c),a=cc.RepeatForever.create(a);b.runAction(a)},title:m("Testing A8 Format"),d:m("RED label, fading In and Out in the center of the screen")}),Bi=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelBMFont.create("This is Helvetica",y+"fonts/helvetica-32.fnt",
cc.LabelAutomaticWidth,cc.TEXT_ALIGNMENT_LEFT,cc.p(0,0));this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/3));b=cc.LabelBMFont.create("And this is Geneva",y+"fonts/geneva-32.fnt",cc.LabelAutomaticWidth,cc.TEXT_ALIGNMENT_LEFT,cc.p(0,128));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/3))},title:m("cc.LabelBMFont with one texture"),d:m("Using 2 .fnt definitions that share the same texture atlas.")}),Ci=V.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("Buen d\u00eda",
y+"fonts/arial-unicode-26.fnt",200,cc.TEXT_ALIGNMENT_LEFT);this.addChild(a);a.setPosition(r.width/2,r.height/4);a=cc.LabelBMFont.create("\u7f8e\u597d\u7684\u4e00\u5929",y+"fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(r.width/2,r.height/2.2);a=cc.LabelBMFont.create("\u826f\u3044\u4e00\u65e5\u3092",y+"fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(r.width/2,r.height/1.5)},title:m("cc.LabelBMFont with Unicode support"),d:m("You should see 3 different labels: In Spanish, Chinese and Korean")}),
Di=V.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create();a.setFntFile(y+"fonts/helvetica-32.fnt");a.setString("It is working!");this.addChild(a);a.setPosition(r.width/2,r.height/2)},title:m("cc.LabelBMFont init"),d:m("Test for support of init method without parameters.")}),Ei=V.extend({ctor:function(){this._super();var a=cc.LabelTTF.create();a.setFontName("Courier New");a.setFontSize(48);a.setString("It is working!");this.addChild(a);a.setPosition(r.width/2,r.height/2)},title:m("cc.LabelTTF init"),
d:m("Test for support of init method without parameters.")}),Fi=V.extend({ctor:function(){this._super();var a=q.getWinSize(),b=cc.LabelTTF.create("Alignment 0\nnew line","Arial",12,cc.size(256,32),cc.TEXT_ALIGNMENT_LEFT);b.setPosition(cc.p(a.width/2,2*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 1\nnew line","Arial",12,cc.size(256,32),cc.TEXT_ALIGNMENT_CENTER);b.setPosition(cc.p(a.width/2,3*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);
b=cc.LabelTTF.create("Alignment 2\nnew line","Arial",12,cc.size(256,32),cc.TEXT_ALIGNMENT_RIGHT);b.setPosition(cc.p(a.width/2,4*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b)},title:m("cc.LabelTTF alignment"),d:m("Tests alignment values"),n:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},m:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).Hg();a.push(c)}return JSON.stringify(a)}}),Gi=V.extend({ctor:function(){this._super();
this.label=cc.LabelBMFont.create("YRGB",y+"fonts/konqa32.fnt");this.addChild(this.label);this.label.setPosition(r.width/2,r.height/2);this.label.setColor(cc.Fj);var a=this.label.getChildByTag(1);a.setColor(cc.ze);a=this.label.getChildByTag(2);a.setColor(cc.gj);a=this.label.getChildByTag(3);a.setColor(cc.Zi);this.scheduleUpdate();this.cb=0},update:function(a){this.cb+=a;this.label.setString("YRGB "+parseInt(this.cb,10).toString())},title:m("cc.LabelBMFont color parent / child"),d:m("Yellow Red Green Blue and numbers in Yellow"),
n:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},m:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).Hg();a.push(c)}return JSON.stringify(a)}}),fi=[hi,ii,ji,ki,li,mi,ni,oi,pi,qi,ri,zi,Bi,Ci,Di,Gi,ti,ui,yi,vi,wi,xi,Ai,Ei,Fi,si];function ei(){di++;di%=fi.length;return new fi[di]}function gi(){di--;0>di&&(di+=fi.length);return new fi[di]};cc.TAG_LAYER=1;
var Hi=-1,Ga=w.extend({q:function(){Hi=-1;this.addChild(Ii());q.replaceScene(this)}}),Li=J.extend({e:i,title:m("No title"),d:m(""),C:function(){var a=new Ga;a.addChild(new Ji[Hi]);q.replaceScene(a)},B:function(){var a=new Ga;a.addChild(Ii());q.replaceScene(a)},A:function(){var a=new Ga;a.addChild(Ki());q.replaceScene(a)},G:function(){return Ji.length-1-Hi},D:function(){return Hi}}),Mi=Li.extend({onEnter:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);
var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,0,0,128),200,200);b.ignoreAnchorPointForPosition(j);b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b,1,cc.TAG_LAYER)},title:m("ColorLayer resize (tap & move)"),Lf:function(a){a=cc.size(2*Math.abs(a.x-r.width/2),2*Math.abs(a.y-r.height/2));this.getChildByTag(cc.TAG_LAYER).setContentSize(a)},onMouseDragged:function(a){this.Lf(a.getLocation());return g},onTouchesMoved:function(a){this.Lf(a[0].getLocation())}}),Ni=Li.extend({onEnter:function(){this._super();
var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #1"),d:m("red:true  green:true")}),Oi=Li.extend({onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/
2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #2"),d:m("red:true  green:false")}),Pi=Li.extend({onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),
a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #3"),d:m("red:false  green:false")}),Qi=Li.extend({onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.c4b(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/
2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #4"),d:m("red:false  green:true")}),Ri=Li.extend({onEnter:function(){this._super();var a=q.getWinSize(),b=cc.LayerColor.create(cc.c4b(255,255,0,80),100,300);b.setPosition(cc.p(a.width/3,a.height/2));b.ignoreAnchorPointForPosition(j);this.addChild(b,1);var c=cc.LayerColor.create(cc.c4b(0,0,255,255),100,300);c.setPosition(cc.p(2*(a.width/3),a.height/2));c.ignoreAnchorPointForPosition(j);this.addChild(c,1);var a=cc.TintBy.create(2,-255,
-127,0),d=a.reverse(),a=cc.Sequence.create(a,d);b.runAction(a);b=cc.FadeOut.create(2);a=b.reverse();b=cc.Sequence.create(b,a);c.runAction(b)},title:m("ColorLayer: fade and tint")}),Si=Li.extend({Kc:g,ctor:function(){this._super();var a=cc.LayerColor.create(cc.c4b(255,255,255,80)),b=cc.Sprite.create(A),c=cc.Sprite.create(B);this.addChild(b);this.addChild(c);this.addChild(a,100,cc.TAG_LAYER);b.setPosition(cc.p(160,r.height/2));c.setPosition(cc.p(320,r.height/2));this.schedule(this.yh,1);this.Kc=g},
yh:function(){var a=this.getChildByTag(cc.TAG_LAYER),b,c;this.Kc?(b=gl.SRC_ALPHA,c=gl.ONE_MINUS_SRC_ALPHA):(b=gl.ONE_MINUS_DST_COLOR,c=gl.ZERO);a.setBlendFunc(b,c);this.Kc=!this.Kc},title:m("ColorLayer: blend")}),Ti=Li.extend({Wa:j,ctor:function(){this._super();this.addChild(cc.LayerGradient.create(cc.c4b(255,0,0,255),cc.c4b(0,255,0,255),cc.p(0.9,0.9)),0,cc.TAG_LAYER);"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Compressed Interpolation: Enabled",
"Marker Felt",26),b=cc.LabelTTF.create("Compressed Interpolation: Disabled","Marker Felt",26),a=cc.MenuItemLabel.create(a),b=cc.MenuItemLabel.create(b),b=cc.MenuItemToggle.create(a,b,this.Ph,this),b=cc.Menu.create(b);this.addChild(b);b.setPosition(cc.p(r.width/2,100))},ve:function(a){a=cc.pSub(cc.p(r.width/2,r.height/2),a);a=cc.pNormalize(a);this.getChildByTag(1).setVector(a)},onTouchesBegan:function(a){this.Wa=g;this.ve(a[0].getLocation())},onTouchesMoved:function(a){this.Wa&&this.ve(a[0].getLocation())},
onTouchesEnded:function(){this.Wa=j},onMouseDragged:function(a){this.ve(a.getLocation());return g},Ph:function(){var a=this.getChildByTag(cc.TAG_LAYER);a.setCompressedInterpolation(!a.isCompressedInterpolation())},title:m("LayerGradient"),d:m("Touch the screen and move your finger")}),Ji=[Mi,Ri,Si,Ti,Ni,Oi,Pi,Qi];function Ii(){Hi++;Hi%=Ji.length;return new Ji[Hi]}function Ki(){Hi--;0>Hi&&(Hi+=Ji.length);return new Ji[Hi]};var Ui=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName("Courier New");"touches"in sys.j||"browser"==sys.platform?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.Sprite.create(Cb,cc.rect(0,46,115,23)),b=cc.Sprite.create(Cb,cc.rect(0,23,115,23)),c=cc.Sprite.create(Cb,cc.rect(0,0,115,23)),b=cc.MenuItemSprite.create(a,b,c,this.V,this),c=cc.MenuItemImage.create(Gb,
Hb,this.he,this),a=cc.LabelAtlas.create("0123456789",Kc,16,24,"."),a=cc.MenuItemLabel.create(a,this.qh,this);a.setDisabledColor(cc.c3b(32,32,64));a.setColor(cc.c3b(200,200,255));var d=cc.MenuItemFont.create("I toggle enable items",this.rh,this);d.setFontSize(20);cc.MenuItemFont.setFontName("Marker Felt");var f=cc.LabelBMFont.create("configuration",$c),f=cc.MenuItemLabel.create(f,this.ph,this);f.setScale(0.8);var h=cc.MenuItemFont.create("Priority Test",this.th,this),l=cc.MenuItemFont.create("Quit",
this.nf,this);l.setColor(cc.c3b(255,255,255));var o=cc.TintBy.create(0.5,0,-255,-255),u=o.reverse(),o=cc.Sequence.create(o,u);l.runAction(cc.RepeatForever.create(o));b=cc.Menu.create(b,c,a,d,f,h,l);b.alignItemsVertically();c=q.getWinSize();f=b.getChildren();for(h=0;h<f.length&&f[h]!==i;h++)d=f[h],l=d.getPosition(),o=c.width/2+50,0===h%2&&(o=-o),d.setPosition(cc.p(l.x+o,l.y)),d.runAction(cc.EaseElasticOut.create(cc.MoveBy.create(2,cc.p(l.x-o,0)),0.35));this.Ha=a;this.Ha.setEnabled(j);this.addChild(b)},
registerWithTouchDispatcher:function(){q.getTouchDispatcher().addTargetedDelegate(this,cc.MENU_HANDLER_PRIORITY+1,g)},onTouchBegan:m(g),V:function(){this.getParent().switchTo(1)},ph:function(){this.getParent().switchTo(3)},Qg:function(){q.getTouchDispatcher().setPriority(cc.MENU_HANDLER_PRIORITY+1,this);this.unscheduleAllCallbacks();cc.log("TOUCHES ALLOWED AGAIN")},qh:function(){q.getTouchDispatcher().setPriority(cc.MENU_HANDLER_PRIORITY-1,this);this.schedule(this.Qg,5);cc.log("TOUCHES DISABLED FOR 5 SECONDS")},
rh:function(){this.Ha.setEnabled(!this.Ha.isEnabled())},he:function(){this.getParent().switchTo(2)},th:function(){this.getParent().switchTo(4)},nf:function(){cc.log("Quit called")}}),Vi=cc.Layer.extend({Gd:i,Ic:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();for(var a=0;2>a;a++){var b=cc.MenuItemImage.create(ub,vb,this.V,this),c=cc.MenuItemImage.create(yb,zb,this.sh,this),d=cc.MenuItemImage.create(wb,xb,this.oh,this);b.setScaleX(1.5);c.setScaleX(0.5);
d.setScaleX(0.5);b=cc.Menu.create(b,c,d);b.setTag(77771);b.setPosition(cc.p(q.getWinSize().width/2,q.getWinSize().height/2));this.addChild(b,0,100+a);this.Gd=b.getPosition()}this.Ic=g;this.Pe()},Pe:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.Gd);0===b?(c.alignItemsHorizontally(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(0,30)))):(c.alignItemsHorizontallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(0,30))))}},cg:function(){for(var a,b=
0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.Gd);0===b?(c.alignItemsVertically(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(100,0)))):(c.alignItemsVerticallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(100,0))))}},V:function(){this.getParent().switchTo(0)},sh:function(a){a=a.getParent();128==a.getOpacity()?a.setOpacity(255):a.setOpacity(128)},oh:function(){(this.Ic=!this.Ic)?this.Pe():this.cg()}}),Wi=cc.Layer.extend({Ha:i,ctor:function(){cc.associateWithNative(this,
cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(28);var a=cc.LabelBMFont.create("Enable AtlasItem",$c),a=cc.MenuItemLabel.create(a,this.he,this),b=cc.MenuItemFont.create("--- Go Back ---",this.V,this),c=cc.Sprite.create(Cb,cc.rect(0,46,115,23)),d=cc.Sprite.create(Cb,cc.rect(0,23,115,23)),f=cc.Sprite.create(Cb,cc.rect(0,0,115,23));this.Ha=c=cc.MenuItemSprite.create(c,d,f,this.nh,this);this.Ha.setEnabled(j);d=cc.Menu.create(a,
b,c);d.setPosition(cc.p(0,0));f=q.getWinSize();a.setPosition(cc.p(f.width/2-150,f.height/2));b.setPosition(cc.p(f.width/2-200,f.height/2));c.setPosition(cc.p(f.width/2,f.height/2-100));f=cc.JumpBy.create(3,cc.p(400,0),50,4);b.runAction(cc.RepeatForever.create(cc.Sequence.create(f,f.reverse())));var f=cc.RotateBy.create(3,360),h=f.copy(),l=f.copy();a.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(h));c.runAction(cc.RepeatForever.create(l));this.addChild(d);d.setPosition(cc.p(0,
0))},V:function(){this.getParent().switchTo(0)},he:function(){this.Ha.setEnabled(!this.Ha.isEnabled());this.Ha.stopAllActions()},nh:k()}),Xi=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Sound");a.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var b=cc.MenuItemToggle.create(cc.MenuItemFont.create("On"),
cc.MenuItemFont.create("Off"));b.setCallback(this.V,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var c=cc.MenuItemFont.create("Music");c.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var d=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("On"),this.V.bind(this));cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var f=cc.MenuItemFont.create("Quality");
f.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var h=cc.MenuItemToggle.create(cc.MenuItemFont.create("High"),cc.MenuItemFont.create("Low"),this.V,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var l=cc.MenuItemFont.create("Orientation");l.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var o=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("33%"),
cc.MenuItemFont.create("66%"),cc.MenuItemFont.create("100%"),this.V,this);o.setSelectedIndex(2);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var u=cc.LabelBMFont.create("go back",$c),u=cc.MenuItemLabel.create(u,this.A,this),a=cc.Menu.create(a,c,b,d,f,l,h,o,u);a.alignItemsInColumns(2,2,2,2,1);this.addChild(a);b=q.getWinSize();a.setPosition(b.width/2,b.height/2)},V:function(){cc.log("Callback called")},A:function(){this.getParent().switchTo(0)}}),Yi=cc.Layer.extend({Ya:i,
dc:i,Oc:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init();this.Ya=cc.Menu.create();this.dc=cc.Menu.create();cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Return to Main Menu",this.V,this),b=cc.MenuItemFont.create("Disable menu for 5 seconds",this.bh,this);this.Ya.addChild(a);this.Ya.addChild(b);this.Ya.alignItemsVerticallyWithPadding(2);this.addChild(this.Ya);this.Oc=g;cc.MenuItemFont.setFontSize(48);a=cc.MenuItemFont.create("Toggle priority",
this.Rh,this);a.setColor(cc.c3b(0,0,255));this.dc.addChild(a);this.addChild(this.dc)},V:function(){this.getParent().switchTo(0)},bh:function(){this.Ya.setEnabled(j);var a=cc.DelayTime.create(5),b=cc.CallFunc.create(this.dh,this);this.Ya.runAction(cc.Sequence.create(a,b))},dh:function(){this.Ya.setEnabled(g)},Rh:function(){this.Oc?(this.dc.setHandlerPriority(cc.MENU_HANDLER_PRIORITY+20),this.Oc=j):(this.dc.setHandlerPriority(cc.MENU_HANDLER_PRIORITY-20),this.Oc=g)}}),Ia=w.extend({q:function(){var a=
new Ui,b=new Vi,c=new Wi,d=new Xi,f=new Yi;this.addChild(cc.LayerMultiplex.create(a,b,c,d,f),0);q.replaceScene(this)}});var Zi=-1,Ka=w.extend({q:function(){Zi=-1;this.addChild($i());q.replaceScene(this)}}),cj=J.extend({f:i,i:i,k:i,O:i,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},title:m("OpenGLTest"),d:m(""),A:function(){var a=new Ka;a.addChild(aj());q.replaceScene(a)},C:function(){var a=new Ka;a.addChild(new bj[Zi]);q.replaceScene(a)},B:function(){var a=new Ka;a.addChild($i());q.replaceScene(a)},G:function(){return bj.length-1-Zi},D:function(){return Zi}}),dj=cj.extend({ctor:function(){this._super();
if("opengl"in sys.j){var a=r.width,b=r.height,c=cc.LayerColor.create(cc.c4b(0,0,255,255)),d=cc.LayerColor.create(cc.c4b(255,0,0,255)),f=cc.LayerColor.create(cc.c4b(0,255,0,255)),h=cc.LayerColor.create(cc.c4b(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/4,b/4);h.setScale(0.5);h.setPosition(a/4,b/4);this.addChild(c,10);this.addChild(h,11);this.addChild(f,12);this.addChild(d,13)}},title:m("gl.ReadPixels()"),d:m("Tests ReadPixels. See console"),
n:function(){return JSON.stringify([{"0":255,1:0,2:0,3:255},{"0":0,1:255,2:0,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:255,2:255,3:255}])},m:function(){var a=r.width,b=r.height,c=new Uint8Array(4),d=new Uint8Array(4),f=new Uint8Array(4),h=new Uint8Array(4);gl.readPixels(0,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,f);gl.readPixels(a-1,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,c);gl.readPixels(0,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,d);gl.readPixels(a-1,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,h);return JSON.stringify([c,d,f,h])}}),
ej=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){this.addChild(cc.LayerColor.create(cc.c4b(0,0,255,255)),1);var a=new cc.Zb;a.init();a.draw=function(){gl.clear(gl.COLOR_BUFFER_BIT)};this.addChild(a,10);a.setPosition(r.width/2,r.height/2)}},title:m("gl.clear(gl.COLOR_BUFFER_BIT)"),d:m("Testing gl.clear() with cc.GLNode"),n:function(){return JSON.stringify({"0":0,1:0,2:0,3:255})},m:function(){var a=this.readPixels(r.width/2,r.height/2,1,1);return JSON.stringify(a)}}),fj=cj.extend({ctor:function(){this._super();
if("opengl"in sys.j){var a=this.compileShader("\n#ifdef GL_ES\nprecision mediump float;\n#endif\nvarying vec4 vColor;\nvoid main(void) {\n gl_FragColor = vColor;\n}\n","fragment"),b=this.compileShader("\nattribute vec3 aVertexPosition;\nattribute vec4 aVertexColor;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvarying vec4 vColor;\nvoid main(void) {\n gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n vColor = aVertexColor;\n}\n","vertex"),c=this.ya=gl.createProgram();gl.attachShader(c,
b);gl.attachShader(c,a);gl.linkProgram(c);gl.getProgramParameter(c,gl.LINK_STATUS)||e("Could not initialise shaders");gl.useProgram(c);c.Dd=gl.getAttribLocation(c,"aVertexPosition");gl.enableVertexAttribArray(c.Dd);c.Cd=gl.getAttribLocation(c,"aVertexColor");gl.enableVertexAttribArray(c.Cd);c.tf=gl.getUniformLocation(c,"uPMatrix");c.lf=gl.getUniformLocation(c,"uMVMatrix");this.jc();a=cc.Zb.create();this.addChild(a,10);a.draw=function(){this.kd=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.kf=
new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);gl.useProgram(this.ya);gl.uniformMatrix4fv(this.ya.tf,j,this.kd);gl.uniformMatrix4fv(this.ya.lf,j,this.kf);gl.enableVertexAttribArray(this.ya.Dd);gl.enableVertexAttribArray(this.ya.Cd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Sa);gl.vertexAttribPointer(this.ya.Dd,this.Sa.Ab,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.td);gl.vertexAttribPointer(this.ya.Cd,this.td.Ab,gl.FLOAT,j,0,0);this.ni();gl.drawArrays(gl.TRIANGLE_STRIP,0,this.Sa.lc);gl.bindBuffer(gl.ARRAY_BUFFER,
this.yc);gl.vertexAttribPointer(this.ya.Dd,this.yc.Ab,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ad);gl.vertexAttribPointer(this.ya.Cd,this.Ad.Ab,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLES,0,this.yc.lc);gl.bindBuffer(gl.ARRAY_BUFFER,i)}.bind(this)}},ni:function(){gl.uniformMatrix4fv(this.ya.tf,j,this.kd);gl.uniformMatrix4fv(this.ya.lf,j,this.kf)},jc:function(){var a=this.yc=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);var b=[0,1,0,-1,-1,0,1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),
gl.STATIC_DRAW);a.Ab=3;a.lc=3;a=this.Ad=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.Ab=4;a.lc=3;a=this.Sa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,1,0,-1,1,0,1,-1,0,-1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.Ab=3;a.lc=4;a=this.td=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),
gl.STATIC_DRAW);a.Ab=4;a.lc=4;gl.bindBuffer(gl.ARRAY_BUFFER,i)},compileShader:function(a,b){var c;c="fragment"==b?gl.createShader(gl.FRAGMENT_SHADER):gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(c,a);gl.compileShader(c);gl.getShaderParameter(c,gl.COMPILE_STATUS)||(cc.log(gl.getShaderInfoLog(c)),e("Could not compile "+b+" shader"));return c},title:m("GLNode + WebGL API"),d:m("blue background with a red triangle in the middle"),n:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,
1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},m:function(){var a=this.readPixels(10,r.height-1,1,1),b=this.readPixels(r.width-10,r.height-1,1,1),c=this.readPixels(r.width/2,r.height/2,1,1);return JSON.stringify([a,b,c])}}),gj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=cc.Zb.create();this.addChild(a,10);this.X=cc.Hc.getInstance().Ma("ShaderPositionColor");this.jc();a.draw=function(){this.X.we();this.X.Cf();cc.ef(cc.Aj|cc.Ce);gl.bindBuffer(gl.ARRAY_BUFFER,this.Sa);gl.vertexAttribPointer(cc.$b,
2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.td);gl.vertexAttribPointer(cc.Xf,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,this.yc);gl.vertexAttribPointer(cc.$b,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ad);gl.vertexAttribPointer(cc.Xf,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,3);gl.bindBuffer(gl.ARRAY_BUFFER,i)}.bind(this)}},jc:function(){var a=this.yc=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[r.width/2,r.height,0,0,
r.width,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Ad=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Sa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[r.width,r.height,0,r.height,r.width,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.td=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];
gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,i)},title:m("GLNode + cocos2d API"),d:m("blue background with a red triangle in the middle"),n:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},m:function(){var a=this.readPixels(10,r.height-1,1,1),b=this.readPixels(r.width-10,r.height-1,1,1),c=this.readPixels(r.width/2,r.height/2,1,1);return JSON.stringify([a,b,c])}}),hj=cc.Zb.extend({ctor:function(a,
b){this._super();cc.associateWithNative(this,cc.Zb);this.init();if("opengl"in sys.j){this.setContentSize(cc.size(256,256));this.setAnchorPoint(cc.p(0.5,0.5));this.X=cc.Of.create(a,b);this.X.retain();this.X.Oe("aVertex",cc.$b);this.X.link();this.X.Vi();var c=this.X.Ma();this.Qi=gl.getUniformLocation(c,"center");this.Ri=gl.getUniformLocation(c,"resolution");this.jc();this.scheduleUpdate()}},draw:function(){this.X.we();this.X.Cf();this.X.qe(this.Qi,r.width/2,r.height/2);this.X.qe(this.Ri,256,256);cc.ef(cc.Ce);
gl.bindBuffer(gl.ARRAY_BUFFER,this.Sa);gl.vertexAttribPointer(cc.$b,2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,i)},update:k(),jc:function(){var a=this.Sa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);vertices=[256,256,0,256,256,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,i)}}),ij=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=new hj("res/Shaders/example_Heart.vsh",
"res/Shaders/example_Heart.fsh");this.addChild(a,10);a.setPosition(r.width/2,r.height/2)}},title:m("Shader Heart Test"),d:m("You should see a heart in the center"),n:function(){return JSON.stringify({"0":255,1:0,2:0,3:255})},m:function(){var a=this.readPixels(r.width/2,r.height/2,1,1);a[0]=240<a[0]?255:0;a[3]=240<a[3]?255:0;return JSON.stringify(a)}}),jj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=new hj("res/Shaders/example_Plasma.vsh","res/Shaders/example_Plasma.fsh");this.addChild(a,
10);a.setPosition(r.width/2,r.height/2)}},title:m("Shader Plasma Test"),d:m("You should see a plasma in the center"),n:function(){return JSON.stringify(g)},m:function(){var a=this.readPixels(r.width/2,r.height/2,1,1);return JSON.stringify(300<a[0]+a[1]+a[2])}}),kj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=new hj("res/Shaders/example_Flower.vsh","res/Shaders/example_Flower.fsh");this.addChild(a,10);a.setPosition(r.width/2,r.height/2)}},title:m("Shader Flower Test"),d:m("You should see a moving Flower in the center"),
n:function(){return JSON.stringify(g)},m:function(){var a=this.readPixels(r.width/2,r.height/2,1,1);return JSON.stringify(30>a[0]+a[1]+a[2])}}),lj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=new hj("res/Shaders/example_Julia.vsh","res/Shaders/example_Julia.fsh");this.addChild(a,10);a.setPosition(r.width/2,r.height/2)}},title:m("Shader Julia Test"),d:m("You should see Julia effect"),n:function(){return JSON.stringify(g)},m:function(){var a=this.readPixels(r.width/2,r.height/
2,1,1);return JSON.stringify(300<a[0]+a[1]+a[2])}}),mj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=cc.Of.create("res/Shaders/example_ColorBars.vsh","res/Shaders/example_ColorBars.fsh");a.Oe(cc.Xi,cc.$b);a.Oe(cc.Yi,cc.Yf);a.link();a.Vi();var b=cc.LabelBMFont.create("RETRO EFFECT","res/fonts/west_england-64.fnt");b.setShaderProgram(a);b.setPosition(r.width/2,r.height/2);this.addChild(b);this.scheduleUpdate();this.label=b;this.cb=0}},update:function(a){this.cb+=a;var a=this.label.getChildren(),
b;for(b in a){var c=a[b],d=c.getPosition();c.setPosition(d.x,20*Math.sin(2*this.cb+b/2));c.setScaleY(Math.sin(2*this.cb+b/2+0.707))}},title:m("Shader Retro Effect"),d:m("Should see moving colors, and a sin effect on the letters")}),nj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=this.Ra=cc.Sprite.create("res/Images/grossini.png");a.setPosition(r.width/2,r.height/2);this.addChild(a);this.scheduleOnce(this.Mh,0.5)}},Mh:function(){cc.log(this.m())},title:m("gl.getActive***"),d:m("Tests gl.getActiveUniform / getActiveAttrib. See console"),
n:function(){return JSON.stringify([{size:1,type:35666,name:"a_position"},{size:1,type:35678,name:"CC_Texture"},[2,3]])},m:function(){var a=[],b=this.Ra.getShaderProgram().Ma();a.push(gl.getActiveAttrib(b,0));a.push(gl.getActiveUniform(b,0));a.push(gl.getAttachedShaders(b));return JSON.stringify(a)}}),oj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j){var a=cc.Zb.create();this.addChild(a,10);a.setPosition(r.width/2,r.height/2);a.setContentSize(cc.size(128,128));a.setAnchorPoint(cc.p(0.5,
0.5));this.X=cc.Hc.getInstance().Ma("ShaderPositionTexture");this.Lg();a.draw=function(){this.X.we();this.X.Cf();gl.bindTexture(gl.TEXTURE_2D,this.Ng);cc.ef(cc.Bj|cc.Ce);gl.bindBuffer(gl.ARRAY_BUFFER,this.Sa);gl.vertexAttribPointer(cc.$b,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.ui);gl.vertexAttribPointer(cc.Yf,2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindTexture(gl.TEXTURE_2D,i);gl.bindBuffer(gl.ARRAY_BUFFER,i)}.bind(this)}},Lg:function(){var a=this.Ng=gl.createTexture();
gl.bindTexture(gl.TEXTURE_2D,a);for(var a=new Uint8Array(4096),b=0;b<a.length;)a[b++]=b/4,a[b++]=b/16,a[b++]=b/8,a[b++]=255;gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,32,32,0,gl.RGBA,gl.UNSIGNED_BYTE,a);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.bindTexture(gl.TEXTURE_2D,i);a=this.Sa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([128,128,0,128,128,0,0,0]),gl.STATIC_DRAW);
a=this.ui=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,i)},title:m("TexImage2DTest"),d:m("Testing Texture creation"),n:function(){return JSON.stringify({"0":239,1:123,2:247,3:255,4:239,5:123,6:247,7:255,8:240,9:124,10:248,11:255,12:240,13:124,14:248,15:255,16:239,17:123,18:247,19:255,20:239,21:123,22:247,23:255,24:240,25:124,26:248,27:255,28:240,29:124,30:248,31:255,32:15,33:131,34:7,
35:255,36:15,37:131,38:7,39:255,40:16,41:132,42:8,43:255,44:16,45:132,46:8,47:255,48:15,49:131,50:7,51:255,52:15,53:131,54:7,55:255,56:16,57:132,58:8,59:255,60:16,61:132,62:8,63:255})},m:function(){var a=this.readPixels(r.width/2-2,r.height/2-2,4,4);return JSON.stringify(a)}}),pj=cj.extend({ctor:function(){this._super();if("opengl"in sys.j&&!v){var a=gl.getSupportedExtensions();cc.log(JSON.stringify(a));0<a.length&&cc.log(gl.getExtension(a[0]))}},title:m("GetSupportedExtensionsTest"),d:m("See console for the supported GL extensions"),
n:function(){return JSON.stringify(["[object Array]",i])},m:function(){var a=gl.getSupportedExtensions(),a=Object.prototype.toString.call(a),b=gl.getExtension("do_no_exist");return JSON.stringify([a,b])}}),qj=cj.extend({ctor:function(){this._super();"opengl"in sys.j&&(v||cc.log(this.df()))},title:m("GLTexParamterTest"),d:m("tests texParameter()"),df:function(){gl.bindTexture(gl.TEXTURE_2D,i);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,
gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);var a=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER),b=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER),c=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S),d=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S);return[a,b,c,d]},n:function(){return JSON.stringify([9728,9728,33071,33071])},m:function(){var a=this.df();return JSON.stringify(a)}}),
rj=cj.extend({ctor:function(){this._super();"opengl"in sys.j&&(v||cc.log(JSON.stringify(this.kb())))},title:m("GLGetUniformTest"),d:m("tests texParameter()"),kb:function(){var a=cc.Hc.getInstance().Ma("ShaderPositionTextureColor"),b=a.Ma();a.we();a=gl.getUniformLocation(b,"CC_MVPMatrix");this.kd=new Float32Array([1,2,3,4,4,3,2,1,1,2,4,8,1.1,1.2,1.3,1.4]);gl.uniformMatrix4fv(a,j,this.kd);return gl.getUniform(b,a)},n:function(){return JSON.stringify({"0":1,1:2,2:3,3:4,4:4,5:3,6:2,7:1,8:1,9:2,10:4,11:8,
12:1.100000023841858,13:1.2000000476837158,14:1.2999999523162842,15:1.399999976158142})},m:function(){var a=this.kb();return JSON.stringify(a)}}),bj=[ij,jj,kj,lj,mj,nj,oj,pj,dj,ej,fj,gj,qj,rj];function $i(){Zi++;Zi%=bj.length;return new bj[Zi]}function aj(){Zi--;0>Zi&&(Zi+=bj.length);return new bj[Zi]};var yd=9960,sj=-1;ParallaxDemo=J.extend({Zf:i,ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(160,32,32,255))},title:m("No title"),A:function(){var a=new ParallaxTestScene;a.addChild(tj());q.replaceScene(a)},C:function(){var a=new ParallaxTestScene;a.addChild(new uj[sj]);q.replaceScene(a)},B:function(){var a=new ParallaxTestScene;a.addChild(vj());q.replaceScene(a)},G:function(){return uj.length-1-sj},D:function(){return sj}});
Parallax1=ParallaxDemo.extend({Sb:i,u:i,Lj:i,Hj:i,ctor:function(){this._super();_cocosimage=cc.Sprite.create(Ib);_cocosimage.setScale(1.5);_cocosimage.setAnchorPoint(cc.p(0,0));_tilemap=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test2.tmx");_tilemap.setAnchorPoint(cc.p(0,0));_background=cc.Sprite.create(nb);_background.setAnchorPoint(cc.p(0,0));_parent=cc.ParallaxNode.create();_parent.addChild(_background,-1,cc.p(0.4,0.5),cc.p(0,0));_parent.addChild(_tilemap,1,cc.p(2.2,1),cc.p(0,0));_parent.addChild(_cocosimage,
2,cc.p(3,2.5),cc.p(0,0));var a=cc.MoveBy.create(2,cc.p(0,100)),b=cc.MoveBy.create(2,cc.p(200,0)),c=cc.DelayTime.create(2),d=a.reverse(),f=b.reverse(),a=cc.Sequence.create(a,b,c,d,f);_parent.runAction(cc.RepeatForever.create(a));this.addChild(_parent)},title:m("Parallax: parent and 3 children"),t:5,n:function(){var a={};a.Xh=cc.p(200,100);a.Uh=cc.p(-120,-50);a.Vh=cc.p(240,0);a.Wh=cc.p(400,150);return JSON.stringify(a)},m:function(){var a={};a.Xh=cc.p(Math.round(_parent.getPosition().x),Math.round(_parent.getPosition().y));
a.Uh=cc.p(Math.round(_background.getPosition().x),Math.round(_background.getPosition().y));a.Vh=cc.p(Math.round(_tilemap.getPosition().x),Math.round(_tilemap.getPosition().y));a.Wh=cc.p(Math.round(_cocosimage.getPosition().x),Math.round(_cocosimage.getPosition().y));return JSON.stringify(a)}});
Parallax2=ParallaxDemo.extend({Ij:i,Ka:i,Kj:i,ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.Sprite.create(Ib);a.setScale(1.5);a.setAnchorPoint(cc.p(0,0));var b=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test2.tmx");b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.create(nb);c.setAnchorPoint(cc.p(0,0));var d=cc.ParallaxNode.create();d.addChild(c,-1,cc.p(0.4,0.5),cc.p(0,0));d.addChild(b,1,cc.p(1,1),cc.p(0,0));d.addChild(a,2,cc.p(3,
2.5),cc.p(0,0));this.addChild(d,0,yd)},onTouchesMoved:function(a){var a=a[0],b=this.getChildByTag(yd),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},onMouseDragged:function(a){var b=this.getChildByTag(yd),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},title:m("Parallax: drag screen")});ParallaxTestScene=w.extend({q:function(){sj=-1;this.addChild(vj());q.replaceScene(this)}});var uj=[Parallax1,Parallax2];function vj(){sj++;sj%=uj.length;return new uj[sj]}
function tj(){sj--;0>sj&&(sj+=uj.length);return new uj[sj]};var wj=1,xj=-1,Na=w.extend({q:function(){xj=-1;this.addChild(yj());q.replaceScene(this)}}),Vj=[function(){return new zj},function(){return new Aj},function(){return new Bj},function(){return new Cj},function(){return new Dj},function(){return new Ej},function(){return new Fj},function(){return new Gj},function(){return new Hj},function(){return new Ij},function(){return new Jj},function(){return new Kj},function(){return new Lj},function(){return new Mj},function(){return new Nj},function(){return new Oj("BoilingFoam")},
function(){return new Oj("BurstPipe")},function(){return new Oj("Comet")},function(){return new Oj("debian")},function(){return new Oj("ExplodingRing")},function(){return new Oj("LavaFlow")},function(){return new Oj("SpookyPeas")},function(){return new Oj("Upsidedown")},function(){return new Oj("Flower")},function(){return new Oj("Spiral")},function(){return new Oj("Galaxy")},function(){return new Pj},function(){return new Qj},function(){return new Rj},function(){return new Sj},function(){return new Oj("Phoenix")},
function(){return new Tj},function(){return new Uj}];function yj(){xj++;xj%=Vj.length;return Vj[xj]()}function Wj(){xj--;0>xj&&(xj+=Vj.length);return Vj[xj]()}
var W=J.extend({c:i,u:i,qb:i,sb:i,Wa:j,setColor:k(),ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.Wa=j;this.c=i;"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=q.getWinSize(),b=cc.Sprite.create(Fb,cc.rect(0,46,123,23)),c=cc.Sprite.create(Fb,cc.rect(0,23,123,23)),d=cc.Sprite.create(Fb,cc.rect(0,0,123,23)),f=cc.Sprite.create(Fb,cc.rect(123,46,138,23)),h=cc.Sprite.create(Fb,cc.rect(123,23,138,23)),l=cc.Sprite.create(Fb,cc.rect(123,
0,138,23)),o=cc.Sprite.create(Fb,cc.rect(261,46,136,23)),u=cc.Sprite.create(Fb,cc.rect(261,23,136,23)),x=cc.Sprite.create(Fb,cc.rect(261,0,136,23)),p=this;this.Kb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setPositionType(cc.PARTICLE_TYPE_RELATIVE);p.pb.setVisible(g);p.Kb.setVisible(j);p.nb.setVisible(j)});this.Kb.setPosition(10,150);this.Kb.setAnchorPoint(cc.p(0,0));this.pb=cc.MenuItemSprite.create(f,h,l,function(){p.c.setPositionType(cc.PARTICLE_TYPE_GROUPED);p.pb.setVisible(j);p.Kb.setVisible(j);
p.nb.setVisible(g)});this.pb.setVisible(j);this.pb.setPosition(10,150);this.pb.setAnchorPoint(cc.p(0,0));this.nb=cc.MenuItemSprite.create(o,u,x,function(){p.c.setPositionType(cc.PARTICLE_TYPE_FREE);p.pb.setVisible(j);p.Kb.setVisible(g);p.nb.setVisible(j)});this.nb.setVisible(j);this.nb.setPosition(10,150);this.nb.setAnchorPoint(cc.p(0,0));b=cc.Sprite.create(Db,cc.rect(0,46,115,23));c=cc.Sprite.create(Db,cc.rect(0,23,115,23));d=cc.Sprite.create(Db,cc.rect(0,0,115,23));this.qb=cc.MenuItemSprite.create(b,
c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.PARTICLE_TEXTURE_MODE);p.sb.setVisible(g);p.qb.setVisible(j)});this.qb.setPosition(10,100);this.qb.setAnchorPoint(cc.p(0,0));"browser"!=sys.platform&&this.qb.setEnabled(j);b=cc.Sprite.create(Eb,cc.rect(0,46,115,23));c=cc.Sprite.create(Eb,cc.rect(0,23,115,23));d=cc.Sprite.create(Eb,cc.rect(0,0,115,23));this.sb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.PARTICLE_SHAPE_MODE);p.sb.setVisible(j);p.qb.setVisible(g)});
this.sb.setVisible(j);this.sb.setPosition(10,100);this.sb.setAnchorPoint(cc.p(0,0));b=cc.Menu.create(this.qb,this.sb,this.Kb,this.pb,this.nb);b.setPosition(0,0);this.addChild(b,100);b=cc.LabelAtlas.create("0123456789",Kc,16,24,".");this.addChild(b,100,wj);b.setPosition(a.width-66,50);this.u=cc.Sprite.create(qb);this.addChild(this.u,5);this.u.setPosition(a.width/2,a.height-180);a=cc.MoveBy.create(4,cc.p(300,0));b=a.reverse();a=cc.Sequence.create(a,b);this.u.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},
onEnter:function(){this._super();this.getChildByTag(11).setString(this.title())},title:m("No title"),d:m("(Tap the Screen)"),C:function(){this.c.resetSystem()},B:function(){var a=new Na;a.addChild(yj());q.replaceScene(a)},A:function(){var a=new Na;a.addChild(Wj());q.replaceScene(a)},Ok:function(){this.c.getPositionType()==cc.PARTICLE_TYPE_GROUPED?this.c.setPositionType(cc.PARTICLE_TYPE_FREE):this.c.getPositionType()==cc.PARTICLE_TYPE_FREE?this.c.setPositionType(cc.PARTICLE_TYPE_RELATIVE):this.c.getPositionType()==
cc.PARTICLE_TYPE_RELATIVE&&this.c.setPositionType(cc.PARTICLE_TYPE_GROUPED)},onTouchesBegan:function(a){this.Wa=g;this.Ie(a)},onTouchesMoved:function(a){this.Wa&&this.Ie(a)},Ie:function(a){if(0<a.length){var a=a[0].getLocation(),b=cc.p(0,0);this.u&&(b=this.u.convertToWorldSpace(cc.p(0,0)));this.c.setPosition(cc.pSub(a,b))}},onTouchesEnded:function(){this.Wa=j},onMouseDragged:function(a){var a=a.getLocation(),b=cc.p(0,0);this.u&&(b=this.u.convertToWorldSpace(cc.p(0,0)));this.c.setPosition(cc.pSub(a,
b));return g},update:function(){this.c&&this.getChildByTag(wj).setString(this.c.getParticleCount().toFixed(0))},T:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(200,70)},G:function(){return Vj.length-1-xj},D:function(){return xj}}),Bj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleFireworks.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(rb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);
this.T()},title:m("ParticleFireworks")}),Fj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleFire.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.T()},title:m("ParticleFire")}),Dj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSun.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);
this.T()},title:m("ParticleSun")}),Aj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleGalaxy.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.T()},title:m("ParticleGalaxy")}),zj=W.extend({e:"ParticleFlower",onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(rb));this.c.setShapeType&&
this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.T()},title:ba("e")}),Kj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(80);this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(rb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);
this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSizeVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(80);this.c.setStartSizeVar(40);this.c.setEndSize(cc.PARTICLE_START_SIZE_EQUAL_TO_END_SIZE);
this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(g);this.T()},title:m("ParticleBigFlower")}),Lj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(150);this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(sb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);
this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(3);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(2E3);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,
0.1,0.2));this.c.setStartSize(30);this.c.setStartSizeVar(0);this.c.setEndSize(cc.PARTICLE_START_SIZE_EQUAL_TO_END_SIZE);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);this.T()},title:m("ParticleRotFlower")}),Ej=W.extend({onEnter:function(){this._super();this.c=cc.ParticleMeteor.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.T()},title:m("ParticleMeteor")}),
Cj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSpiral.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.T()},title:m("ParticleSpiral")}),Hj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleExplosion.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(rb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);
this.c.setAutoRemoveOnFinish(g);this.T()},title:m("ParticleExplosion")}),Gj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSmoke.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.T()},title:m("ParticleSmoke")}),Ij=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSnow.create();this.u.addChild(this.c,10);this.c.setLife(3);this.c.setLifeVar(1);this.c.setGravity(cc.p(0,-10));this.c.setSpeed(130);this.c.setSpeedVar(30);var a=
this.c.getStartColor();a.r=0.9;a.g=0.9;a.b=0.9;this.c.setStartColor(a);a=this.c.getStartColorVar();a.b=0.1;this.c.setStartColorVar(a);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setTexture(cc.TextureCache.getInstance().addImage(tb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.T()},title:m("ParticleSnow")}),Jj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleRain.create();this.u.addChild(this.c,10);this.c.setLife(4);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));
this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.T()},title:m("ParticleRain")}),Mj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(200);this.u.addChild(this.c,10);q.getWinSize();this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(0);this.c.setAngleVar(360);this.c.setRadialAccel(70);this.c.setRadialAccelVar(10);this.c.setTangentialAccel(80);this.c.setTangentialAccelVar(0);this.c.setSpeed(50);this.c.setSpeedVar(10);this.c.setLife(2);
this.c.setLifeVar(0.3);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(1);this.c.setStartSizeVar(1);this.c.setEndSize(32);this.c.setEndSizeVar(8);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.c.setBlendAdditive(j);
this.T()},title:m("Varying size")}),Nj=W.extend({onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.u.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(rb));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.c.setLifeVar(0);this.c.setLife(10);this.c.setSpeed(100);this.c.setSpeedVar(0);this.c.setEmissionRate(1E4);this.T()},title:m("Ring Demo")});
W.extend({onEnter:function(){this._super();this.u.getParent().removeChild(this.u,g);this.u=i;var a=cc.ParallaxNode.create();this.addChild(a,5);var b=cc.Sprite.create(qb),c=cc.Sprite.create(qb);a.addChild(b,1,cc.p(0.5,1),cc.p(0,250));a.addChild(c,2,cc.p(1.5,1),cc.p(0,50));this.c=cc.ParticleFlower.create();this.c.setTexture(cc.TextureCache.getInstance().addImage(D));b.addChild(this.c,10);this.c.setPosition(250,200);b=cc.ParticleSun.create();c.addChild(b,10);b.setTexture(cc.TextureCache.getInstance().addImage(D));
c=cc.MoveBy.create(4,cc.p(300,0));b=c.reverse();c=cc.Sequence.create(c,b,i);a.runAction(cc.RepeatForever.create(c))},title:m("Parallax + Particles")});
var Oj=W.extend({e:"",ctor:function(a){this._super();this.e=a},onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.u,g);this.u=i;this.c=cc.ParticleSystem.create(y+"Particles/"+this.e+".plist");this.addChild(this.c,10);"Flower"==this.e&&this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_STAR_SHAPE);this.T()},T:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(q.getWinSize().width/2,q.getWinSize().height/2-50)},title:ba("e")}),Pj=W.extend({onEnter:function(){this._super();
this.setColor(cc.c3b(0,0,0));this.removeChild(this.u,g);this.u=i;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(Kb));this.c.setDuration(cc.PARTICLE_DURATION_INFINITY);this.c.setEmitterMode(cc.PARTICLE_MODE_RADIUS);this.c.setStartRadius(0);this.c.setStartRadiusVar(0);this.c.setEndRadius(160);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(180);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);
var a=q.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.PARTICLE_START_SIZE_EQUAL_TO_END_SIZE);
this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Spiral")}),Qj=W.extend({onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.u,g);this.u=i;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(Kb));this.c.setDuration(cc.PARTICLE_DURATION_INFINITY);this.c.setEmitterMode(cc.PARTICLE_MODE_RADIUS);this.c.setStartRadius(100);
this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.PARTICLE_START_RADIUS_EQUAL_TO_END_RADIUS);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(45);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=q.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,
0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.PARTICLE_START_SIZE_EQUAL_TO_END_SIZE);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Semi Circle")}),Rj=W.extend({onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.u,g);this.u=i;this.c=cc.ParticleSystem.createWithTotalParticles(100);
this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage(D));this.c.setShapeType&&this.c.setShapeType(cc.PARTICLE_BALL_SHAPE);this.c.setDuration(cc.PARTICLE_DURATION_INFINITY);this.c.setEmitterMode(cc.PARTICLE_MODE_RADIUS);this.c.setStartRadius(50);this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.PARTICLE_START_RADIUS_EQUAL_TO_END_RADIUS);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(0);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=
q.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.c4f(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.c4f(0.5,0.5,0.5,1));this.c.setEndColor(cc.c4f(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.c4f(0.1,0.1,0.1,0.2));this.c.setStartSize(16);this.c.setStartSizeVar(0);this.c.setEndSize(cc.PARTICLE_START_SIZE_EQUAL_TO_END_SIZE);
this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);a=cc.RotateBy.create(16,360);this.c.runAction(cc.RepeatForever.create(a))},title:m("Issue 704. Free + Rot"),d:m("Emitted particles should not rotate")}),Sj=W.extend({Mb:0,onEnter:function(){this._super();this.setColor(cc.c3b(0,0,0));this.removeChild(this.u,g);this.u=i;var a=cc.ParticleSystem.create(y+"Particles/SpinningPeas.plist");a.setTextureWithRect(cc.TextureCache.getInstance().addImage(qd),cc.rect(0,
0,32,32));this.addChild(a,10);this.c=a;this.c.setDrawMode&&this.c.setDrawMode(cc.PARTICLE_TEXTURE_MODE);this.c.setPosition(q.getWinSize().width/2,q.getWinSize().height/2-50);this.Mb=0;this.schedule(this.Ui,2)},title:m("Issue 870. SubRect"),d:m("Every 2 seconds the particle should change"),Ui:function(){this.Mb=(this.Mb+1)%4;var a=cc.rect(32*this.Mb,0,32,32);this.c.setTextureWithRect(this.c.getTexture(),a)}}),Tj=W.extend({Mb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create(y+"Particles/LavaFlow.plist");
a.setStartColor(cc.c4f(1,0,0,1));var b=cc.ParticleSystem.create(y+"Particles/LavaFlow.plist");b.setStartColor(cc.c4f(0,1,0,1));var c=cc.ParticleSystem.create(y+"Particles/LavaFlow.plist");c.setStartColor(cc.c4f(0,0,1,1));a.setPosition(r.width/1.25,r.height/1.25);b.setPosition(r.width/2,r.height/2);c.setPosition(r.width/4,r.height/4);var d=cc.ParticleBatchNode.createWithTexture(a.getTexture());d.addChild(a);d.addChild(b);d.addChild(c);this.addChild(d,10);this.removeChild(this.u,g);this.u=i;this.c=
a},title:m("Particle Batch Test"),d:m("You should 3 particles. They are batched")}),Uj=W.extend({Mb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create(y+"Particles/LavaFlow.plist");a.setPosition(r.width/2,r.height/2);this.addChild(a);this.schedule(this.Ih,2);this.removeChild(this.u,g);this.u=i;this.c=a},Ih:function(){this.c.setTotalParticles(50);this.scheduleOnce(this.Hh,1)},Hh:function(){this.c.setTotalParticles(400)},title:m("Particle Resize Test"),d:m("In 2 seconds, the emitter should have only 15 particles. Shall not crash.")});var Xj=0,Zj=Yj.extend({Qa:function(){var a=i;switch(this.I){case 0:a=Zj.tc()}Xj=this.I;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.c3b(255,255,40));b=this.d();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)))},title:m("no title"),d:m("no subtitle"),
md:k()}).extend({xa:i,hf:i,kc:i,init:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontSize(65);var b=cc.MenuItemFont.create(" - ",this.Bb,this);b.setColor(cc.c3b(0,200,20));var c=cc.MenuItemFont.create(" + ",this.gb,this);c.setColor(cc.c3b(0,200,20));b=cc.Menu.create(b,c);b.alignItemsHorizontally();b.setPosition(cc.p(a.width/2,a.height/2+100));this.addChild(b,1);b=cc.LabelTTF.create("0 nodes","Marker Felt",24);b.setColor(cc.c3b(0,200,20));b.setPosition(cc.p(a.width/
2,a.height-90));this.addChild(b,1,$j);this.xa=0;this.We()},md:function(){this.init()},title:m("Animation Performance Test"),d:m(""),We:function(){this.kc=cc.Node.create();this.addChild(this.kc);for(var a=cc.Director.getInstance().getWinSize(),b=0;10>b;b++){var c=new ak;c.init();c.setPosition(cc.p(a.width/2-15*b-200,a.height/2-15*b));this.xa++;cc.log("create"+this.xa);this.kc.addChild(c,0,this.xa)}a=cc.MoveBy.create(1,cc.p(20,0));this.kc.runAction(cc.RepeatForever.create(a));this.zc()},gb:function(){this.We()},
Bb:function(){if(0<this.xa)for(var a=0;10>a;a++)cc.log("remove"+this.xa),this.kc.removeChildByTag(this.xa,g),this.xa--;this.zc()},zc:function(){if(this.xa!=this.hf){var a=this.xa+" nodes";this.getChildByTag($j).setString(a);this.hf=this.xa}}}),ak=cc.Node.extend({nk:i,ok:i,wk:i,xk:i,pk:i,ctor:function(){this._super();cc.associateWithNative(this,cc.Node)},init:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/crystals.plist");var a=0;rightData=Array(10);for(a=
0;10>a;a++){var b=cc.Sprite.createWithSpriteFrameName("crystals/4.png");b.setPosition(cc.p(50,10*a-40));b.setRotation(-90);b.setScale(1);this.addChild(b);rightData[a]=b;0==a&&(rightItem=b)}for(a=0;10>a;a++){b=cc.Sprite.createWithSpriteFrameName("crystals/1.png");b.setPosition(cc.p(5*a,50));this.addChild(b);b.setScale(1.5);b.setRotation(350);var c=cc.RotateBy.create(0.01,5);b.runAction(cc.RepeatForever.create(c))}leftData=Array(10);for(a=0;10>a;a++)b=cc.Sprite.createWithSpriteFrameName("crystals/2.png"),
b.setPosition(cc.p(10,5*a-20)),b.setRotation(90),this.addChild(b),leftData[a]=b,0==a&&(leftItem=b)},zk:function(){leftX=leftItem.getPositionX()}});Zj.tc=function(){var a=cc.Scene.create(),b=new Zj(j,1,Xj);a.addChild(b);return a};var bk=0,gk=Yj.extend({Nb:4,Qa:function(){var a=this.getParent().J,b=i;switch(this.I){case 0:b=new ck;break;case 1:b=new dk;break;case 2:b=new ek;break;case 3:b=new fk}bk=this.I;b&&(b.Xc(a),cc.Director.getInstance().replaceScene(b))}}),hk=cc.Scene.extend({ta:i,J:i,U:i,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},Xc:function(a){var b=cc.Director.getInstance().getWinSize(),c=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(c,1);c.setPosition(cc.p(b.width/
2,b.height-32));c.setColor(cc.c3b(255,255,40));c=this.d();c.length&&(c=cc.LabelTTF.create(c,"Thonburi",16),this.addChild(c,1),c.setPosition(cc.p(b.width/2,b.height-80)));this.U=this.ta=0;this.J=a;cc.MenuItemFont.setFontSize(65);a=cc.MenuItemFont.create(" - ",this.Bb,this);a.setColor(cc.c3b(0,200,20));c=cc.MenuItemFont.create(" + ",this.gb,this);c.setColor(cc.c3b(0,200,20));a=cc.Menu.create(a,c);a.alignItemsHorizontally();a.setPosition(cc.p(b.width/2,b.height/2+15));this.addChild(a,1);a=cc.LabelTTF.create("0 nodes",
"Marker Felt",30);a.setColor(cc.c3b(0,200,20));a.setPosition(cc.p(b.width/2,b.height/2-15));this.addChild(a,1,$j);a=new gk(g,4,bk);this.addChild(a);this.Gb();this.Ac()},title:m("No title"),d:m(""),Ac:k(),Bb:function(){this.J-=50;0>this.J&&(this.J=0);this.Gb();this.Ac()},gb:function(){this.J+=50;1500<this.J&&(this.J=1500);this.Gb();this.Ac()},Gb:function(){if(this.J!=this.ta){var a=this.J+" nodes";this.getChildByTag($j).setString(a);this.ta=this.J}},hk:ba("J")}),ik=hk.extend({l:i,Z:i,ctor:function(){this._super();
cc.ga&&(this.Z=new cc.Sf)},Ac:function(){var a=cc.Director.getInstance().getWinSize();if(this.U<this.J)for(var b=0;b<this.J-this.U;b++){var c=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(0,0,32,32));this.l.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height))}else if(this.U>this.J)for(b=0;b<this.U-this.J;b++)this.l.removeChildAtIndex(this.U-b-1,g);this.U=this.J},Xc:function(a){this.l=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.l);
this._super(a);cc.ga&&(this.Z=cc.Rf.Gi(this.jb(),this));this.scheduleUpdate()},update:k(),jb:m("none")});ik.extend({update:function(){var a=this.l.getChildren();cc.ga&&cc.Fc(this.Z);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.ga&&cc.Gc(this.Z)},title:m("A - Iterate SpriteSheet"),d:m("Iterate children using Fast Enum API. See console"),jb:m("iter fast enum")});
var ck=ik.extend({update:function(){var a=this.l.getChildren();cc.ga&&cc.Fc(this.Z);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.ga&&cc.Gc(this.Z)},title:m("B - Iterate SpriteSheet"),d:m("Iterate children using Array API. See console"),jb:m("iter c-array")}),jk=hk.extend({l:i,ctor:function(){this._super();cc.ga&&(this.Z=new cc.Sf)},Ac:function(){var a=cc.Director.getInstance().getWinSize();if(this.U<this.J)for(var b=0;b<this.J-this.U;b++){var c=cc.Sprite.createWithTexture(this.l.getTexture(),
cc.rect(0,0,32,32));this.l.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height));c.setVisible(j)}else if(this.U>this.J)for(b=0;b<this.U-this.J;b++)this.l.removeChildAtIndex(this.U-b-1,g);this.U=this.J},Xc:function(a){this.l=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.l);this._super(a);cc.ga&&(this.Z=cc.Rf.Gi(this.jb(),this));this.scheduleUpdate()},update:k(),jb:m("none")}),dk=jk.extend({update:function(){var a=0.15*this.U;if(0<a){for(var b=[],
c=[],d=0;d<a;d++){var f=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(0,0,32,32));b.push(f);c[d]=50*(2*Math.random()-1)}cc.ga&&cc.Fc(this.Z)}for(d=0;d<a;d++)this.l.addChild(b[d],c[d],2E3+d);cc.ga&&cc.Gc(this.Z);for(d=0;d<a;d++)this.l.removeChildByTag(2E3+d,g);delete c},title:m("C - Add to spritesheet"),d:m("Adds %10 of total sprites with random z. See console"),jb:m("add sprites")}),ek=jk.extend({update:function(){var a=0.15*this.U;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.l.getTexture(),
cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.l.addChild(b[c],50*(2*Math.random()-1),2E3+c);cc.ga&&cc.Fc(this.Z);for(c=0;c<a;c++)this.l.removeChildByTag(2E3+c,g);cc.ga&&cc.Gc(this.Z)}},title:m("D - Del from spritesheet"),d:m("Remove %10 of total sprites placed randomly. See console"),jb:m("remove sprites")}),fk=jk.extend({update:function(){var a=0.15*this.U;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.l.addChild(b[c],
50*(2*Math.random()-1),2E3+c);cc.ga&&cc.Fc(this.Z);for(c=0;c<a;c++)this.l.reorderChild(this.l.getChildren()[c],50*(2*Math.random()-1));cc.ga&&cc.Gc(this.Z)}for(c=0;c<a;c++)this.l.removeChildByTag(2E3+c,g)},title:m("E - Reorder from spritesheet"),d:m("Reorder %10 of total sprites placed randomly. See console"),jb:m("reorder sprites")});var wj=4,kk=0,pk=Yj.extend({Nb:4,Qa:function(){var a=this.getParent(),b=a.F,a=a.W,c=i;switch(this.I){case 0:c=new lk;break;case 1:c=new mk;break;case 2:c=new nk;break;case 3:c=new ok}kk=this.I;c&&(c.zb(b,a),cc.Director.getInstance().replaceScene(c))}}),qk=cc.Scene.extend({ta:i,W:i,F:i,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},zb:function(a,b){this.F=a;var c=cc.Director.getInstance().getWinSize();this.ta=0;this.W=b;cc.MenuItemFont.setFontSize(65);var d=cc.MenuItemFont.create(" - ",
this.Bb,this);d.setColor(cc.c3b(0,200,20));var f=cc.MenuItemFont.create(" + ",this.gb,this);f.setColor(cc.c3b(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height/2+15));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.c3b(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,$j);d=cc.LabelAtlas.create("0000","res/Images/fps_images.png",16,24,".");this.addChild(d,0,wj);d.setPosition(cc.p(c.width-66,50));
d=new pk(g,4,kk);this.addChild(d,1,1E3);cc.MenuItemFont.setFontSize(40);d=cc.Menu.create();for(f=1;3>=f;++f){var h=cc.MenuItemFont.create(f.toString(),this.te,this);h.setTag(f);d.addChild(h,10);1>=f?h.setColor(cc.c3b(200,20,20)):h.setColor(cc.c3b(0,200,20))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));this.addChild(d,2);d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.c3b(255,255,40));this.Gb();this.Qd();this.schedule(this.step)},
title:m("No title"),step:function(){var a=this.getChildByTag(wj),b=this.getChildByTag(3).getParticleCount();a.setString(b)},Qd:function(){var a=i;this.removeChildByTag(3,g);a=cc.TextureCache.getInstance().addImage("res/Images/fire.png");cc.TextureCache.getInstance().removeTexture(a);a=cc.ParticleSystem.createWithTotalParticles(this.W);switch(this.F){case 1:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
break;case 2:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA4444);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;case 3:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_A8);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;default:a=i,cc.log("Shall not happen!")}this.addChild(a,0,3);this.ca();"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888)},
Bb:function(){this.W-=50;0>this.W&&(this.W=0);this.Gb();this.Qd()},gb:function(){this.W+=50;1E3<this.W&&(this.W=1E3);this.Gb();this.Qd()},te:function(a){this.F=a.getTag();this.getChildByTag(1E3).Pa(a)},Gb:function(){if(this.W!=this.ta){var a=this.W+" particles";this.getChildByTag($j).setString(a);this.ta=this.W}},Jg:ba("F"),gk:ba("W"),ca:k()}),lk=qk.extend({title:function(){return"A "+this.F+" size=4"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);
b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(4);b.setStartSize(4);b.setEndSizeVar(0);
b.setStartSizeVar(0);b.setBlendAdditive(j)}}),mk=qk.extend({title:function(){return"B "+this.F+" size=8"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,
0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(8);b.setStartSize(8);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),nk=qk.extend({title:function(){return"C "+this.F+" size=32"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);
b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(32);b.setStartSize(32);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),ok=qk.extend({title:function(){return"D "+
this.F+" size=64"},ca:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());a=cc.c4f(0.5,0.5,0.5,1);b.setStartColor(a);a=cc.c4f(0.5,0.5,0.5,1);b.setStartColorVar(a);a=cc.c4f(0.1,
0.1,0.1,0.2);b.setEndColor(a);a=cc.c4f(0.1,0.1,0.1,0.2);b.setEndColorVar(a);b.setEndSize(64);b.setStartSize(64);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}});var $j=1,rk=0,sk=cc.Class.extend({F:i,l:i,Sb:i,$h:function(a){switch(this.F){case 1:case 4:case 7:this.Sb.removeChildByTag(a+100,g);break;case 2:case 3:case 5:case 6:case 8:case 9:this.l.removeChildAtIndex(a,g)}},vg:function(a){"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);var b=i;switch(this.F){case 1:b=cc.Sprite.create("res/Images/grossinis_sister1.png");this.Sb.addChild(b,0,a+100);break;case 2:case 3:b=cc.Sprite.createWithTexture(this.l.getTexture(),
cc.rect(0,0,52,139));this.l.addChild(b,0,a+100);break;case 4:var c=parseInt(14*Math.random())+1,c=10>c?"0"+c:c.toString(),b=cc.Sprite.create("res/Images/grossini_dance_"+c+".png");this.Sb.addChild(b,0,a+100);break;case 5:case 6:c=0|14*Math.random();b=85*(c%5);c=121*(0|c/5);b=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(b,c,85,121));this.l.addChild(b,0,a+100);break;case 7:b=0|64*Math.random();c=parseInt(b/8);b=parseInt(b%8);b=cc.Sprite.create("res/Images/sprites_test/sprite-"+b+"-"+c+".png");
this.Sb.addChild(b,0,a+100);break;case 8:case 9:b=0|64*Math.random(),c=32*(0|b/8),b=32*(b%8),b=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(b,c,32,32)),this.l.addChild(b,0,a+100)}"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_DEFAULT);return b},zb:function(a,b){this.F=a;this.Sb=b;this.l=i;var c=cc.TextureCache.getInstance();c.removeTexture(c.addImage("res/Images/grossinis_sister1.png"));c.removeTexture(c.addImage("res/Images/grossini_dance_atlas.png"));
c.removeTexture(c.addImage("res/Images/spritesheet1.png"));switch(this.F){case 2:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);this.l=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.l,0);break;case 3:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA4444);this.l=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.l,0);break;case 5:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);
this.l=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",100);b.addChild(this.l,0);break;case 6:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA4444);this.l=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",100);b.addChild(this.l,0);break;case 8:"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);this.l=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",100);b.addChild(this.l,0);break;case 9:"opengl"in
sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA4444),this.l=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",100),b.addChild(this.l,0)}"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_DEFAULT)}}),Ak=Yj.extend({Nb:7,Qa:function(){var a=i,b=this.getParent(),c=b.F,b=b.ja;Math.oe("perftest");switch(this.I){case 0:a=new tk;break;case 1:a=new uk;break;case 2:a=new vk;break;case 3:a=new wk;break;case 4:a=new xk;break;case 5:a=new yk;break;
case 6:a=new zk}rk=this.I;a&&(a.zb(c,b),cc.Director.getInstance().replaceScene(a))}}),Bk=cc.Scene.extend({ta:i,ja:i,Pc:i,F:1,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},title:m("No title"),zb:function(a,b){this.F=a;this.Pc=new sk;this.Pc.zb(a,this);var c=cc.Director.getInstance().getWinSize();this.ja=this.ta=0;var d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.c3b(255,255,40));cc.MenuItemFont.setFontSize(65);
d=cc.MenuItemFont.create(" - ",this.Bb,this);d.setColor(cc.c3b(0,200,20));var f=cc.MenuItemFont.create(" + ",this.gb,this);f.setColor(cc.c3b(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height-65));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.c3b(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,$j);d=new Ak(g,7,rk);this.addChild(d,1,2E3);cc.MenuItemFont.setFontSize(32);d=cc.Menu.create();for(f=
1;9>=f;++f){var h=cc.MenuItemFont.create(f.toString(),this.te,this);h.setTag(f);d.addChild(h,10);3>=f?h.setColor(cc.c3b(200,20,20)):6>=f?h.setColor(cc.c3b(0,200,20)):h.setColor(cc.c3b(0,20,200))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));for(this.addChild(d,2);this.ja<b;)this.gb(this)},zc:function(){if(this.ja!=this.ta){var a=this.ja+" nodes";this.getChildByTag($j).setString(a);this.ta=this.ja}},te:function(a){this.F=a.getTag();this.getChildByTag(2E3).Pa(a)},gb:function(){if(!(1E3<=
this.ja)){for(var a=0;50>a;a++)this.ca(this.Pc.vg(this.ja)),this.ja++;this.zc()}},Bb:function(){if(!(0>=this.ja)){for(var a=0;50>a;a++)this.ja--,this.Pc.$h(this.ja);this.zc()}},ca:k(),Jg:ba("F"),fk:ba("ja")}),tk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)))},title:function(){return"A ("+this.F+") position"}}),uk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*
b.width),parseInt(Math.random()*b.height)));a.setScale(100*Math.random()/50)},title:function(){return"B ("+this.F+") scale"}}),vk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setRotation(360*Math.random());a.setScale(2*Math.random())},title:function(){return"C ("+this.F+") scale + rot"}}),wk=Bk.extend({ca:function(a){a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"D ("+this.F+
") 100% out"}}),xk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"E ("+this.F+") 80% out"}}),yk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),
c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,b.reverse()));a.runAction(b)},title:function(){return"F ("+this.F+") actions"}}),zk=Bk.extend({ca:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3));var b=cc.RotateBy.create(0.5+
1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,b.reverse()));a.runAction(b)},title:function(){return"G ("+this.F+") actions 80% out"}});function Ck(a){this.name=a;this.totalTime=this.numberOfCalls=0;this.fd=1E4;this.dd=0;this.jg=function(){var a=1E3*q.getSecondsPerFrame();this.totalTime+=a;this.numberOfCalls++;this.fd=Math.min(this.fd,a);this.dd=Math.max(this.dd,a)};this.reset=function(){this.totalTime=0;this.fd=1E5;this.numberOfCalls=this.dd=0};this.zg=function(){cc.log("Profiling info for: "+this.name+"\nNumber of calls: "+this.numberOfCalls+"\nAverage Time: "+this.totalTime/this.numberOfCalls/1E3+"\nMin Time: "+this.fd/1E3+"\nMax Time: "+
this.dd/1E3+"\nTotal Time: "+this.totalTime/1E3+"\n")}}
var Dk=-1,Fk=[cc.Layer.extend({e:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.e,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(r.width/2,r.height-50));""!==this.h&&(a=cc.LabelTTF.create(this.h,"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(r.width/2,r.height-80)));var a=cc.MenuItemImage.create(hb,ib,this.A,this),b=cc.MenuItemImage.create(C,jb,this.C,this),c=cc.MenuItemImage.create(kb,
lb,this.B,this),d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(r.width/2-2*f.width,f.height/2);b.setPosition(r.width/2,f.height/2);c.setPosition(r.width/2+2*f.width,f.height/2);this.addChild(d,1)},C:function(){var a=new Ek;a.addChild(new Fk[Dk]);q.replaceScene(a)},B:function(){var a=new Ek;a.addChild(Gk());q.replaceScene(a)},A:function(){var a=new Ek;a.addChild(Hk());q.replaceScene(a)}}).extend({e:"Performance Test 1",h:"Let it run until you see the 'done' message. See console for results.",
ctor:function(){this._super();this.Jf=[this.Di,this.Ei];this.Cg=[this.Ag,this.Bg];this.Kf=[100,500,1E3,2E3,5E3,1E4];this.Wc=0;this.wc=-1;this.sc();this.scheduleUpdate();this.schedule(this.$e,5);this.Sd=g},sc:function(){-1!=this.wc&&this.Cg[this.Wc].bind(this)();this.wc++;if(this.wc>=this.Kf.length&&(this.wc=0,this.Wc++,this.Wc>=this.Jf.length))return cc.log("No more tests"),j;var a=this.Kf[this.wc];this.Jf[this.Wc].bind(this)(a);return g},Di:function(a){this.me=new Ck("Test A - Total Sprites: "+a);
Math.oe("perftest");var b=cc.Node.create();this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*r.width,Math.random()*r.height)}},Ag:function(){this.removeChildByTag(10,g)},Ei:function(a){this.me=new Ck("Test B - Total Sprites: "+a);Math.oe("perftest");var b=cc.SpriteBatchNode.create("res/Images/grossini.png",a);this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);
d.setPosition(Math.random()*r.width,Math.random()*r.height)}},Bg:function(){this.removeChildByTag(10,g)},update:function(){this.Sd?this.Sd=j:this.me.jg()},$e:function(){this.me.zg();this.Sd=g;this.sc()||this.unschedule(this.$e)}})],Ek=w.extend({q:function(){Dk=-1;this.addChild(Gk());q.replaceScene(this)}});function Gk(){Dk++;Dk%=Fk.length;return new Fk[Dk]}function Hk(){Dk--;0>Dk&&(Dk+=Fk.length);return new Fk[Dk]};var bh=1E3,Ik=0,Jk="PerformanceNodeChildrenTest;PerformanceParticleTest;PerformanceSpriteTest;PerformanceTextureTest;PerformanceTouchesTest;PerformanceAnimationTest;Automated Sprite Performance Test".split(";"),Ok=cc.LayerGradient.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");
cc.MenuItemFont.setFontSize(24);for(var c=0;c<Jk.length;c++){var d=cc.MenuItemFont.create(Jk[c],this.$d,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ka));b.addChild(d,bh+c)}this.addChild(b)},$d:function(a){switch(a.getZOrder()-bh){case 0:a=new ck;a.Xc(50);cc.Director.getInstance().replaceScene(a);break;case 1:a=new lk;a.zb(1,50);cc.Director.getInstance().replaceScene(a);break;case 2:Math.oe("perftest");a=new tk;a.zb(1,50);cc.Director.getInstance().replaceScene(a);break;case 3:Kk=0;a=Lk.tc();
cc.Director.getInstance().replaceScene(a);break;case 4:Mk=0;var a=cc.Scene.create(),b=new Nk(g,2,Mk);a.addChild(b);cc.Director.getInstance().replaceScene(a);break;case 5:Xj=0;a=Zj.tc();cc.Director.getInstance().replaceScene(a);break;case 6:(new Ek).q()}}}),Yj=cc.Layer.extend({$f:g,Nb:1,I:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();this.I=Ik},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);
var b=cc.MenuItemFont.create("Back",this.Hi,this);b.setPosition(cc.p(a.width-50,25));b=cc.Menu.create(b);b.setPosition(cc.p(0,0));if(this.$f){var c=cc.MenuItemImage.create(hb,ib,this.gc,this),d=cc.MenuItemImage.create(C,jb,this.Pa,this),f=cc.MenuItemImage.create(kb,lb,this.fb,this);c.setPosition(cc.p(a.width/2-100,30));d.setPosition(cc.p(a.width/2,30));f.setPosition(cc.p(a.width/2+100,30));b.addChild(c,bh);b.addChild(d,bh);b.addChild(f,bh)}this.addChild(b)},Pa:function(){this.Qa()},fb:function(){this.I++;
Ik=this.I%=this.Nb;this.Qa()},gc:function(){this.I--;0>this.I&&(this.I+=this.Nb);Ik=this.I;this.Qa()},Qa:k(),Hi:function(){(new Oa).q()}}),Oa=w.extend({q:function(){this.addChild(new Ok);cc.Director.getInstance().replaceScene(this)}});var Kk=0,Lk=Yj.extend({Qa:function(){var a=i;switch(this.I){case 0:a=Lk.tc()}Kk=this.I;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.c3b(255,255,40));b=this.d();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)));this.md()},title:m("no title"),
d:m("no subtitle"),md:k()}).extend({md:function(){cc.log("--------");cc.log("--- PNG 128x128 ---");this.nd("res/Images/test_image.png");cc.log("--- PNG 512x512 ---");this.nd("res/Images/texture512x512.png");cc.log("EMPTY IMAGE");cc.log("--- PNG 1024x1024 ---");this.nd("res/Images/texture1024x1024.png");cc.log("LANDSCAPE IMAGE");cc.log("--- PNG 1024x1024 ---");this.nd("res/Images/landscape-1024x1024.png")},title:m("Texture Performance Test"),d:m("See console for results"),nd:function(a){var b=Date.now(),
c,d=cc.TextureCache.getInstance();if("opengl"in sys.j)var f=cc.Texture2D.dk();cc.log("RGBA 8888");"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA8888);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGBA 4444");"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGBA4444);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);
cc.log("RGBA 5551");"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGB5A1);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGB 565");"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.TEXTURE_PIXELFORMAT_RGB565);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);"opengl"in sys.j&&cc.Texture2D.setDefaultAlphaPixelFormat(f)}});
Lk.tc=function(){var a=cc.Scene.create(),b=new Lk(j,1,Kk);a.addChild(b);return a};var Mk=0,Qk=Yj.extend({Nb:2,Nc:i,Ob:0,Rb:0,Qb:0,Pb:0,Ia:i,Qa:function(){var a=i;switch(this.I){case 0:a=new Nk(g,2,this.I);break;case 1:a=new Pk(g,2,this.I)}Mk=this.I;if(a){var b=cc.Scene.create();b.addChild(a);cc.Director.getInstance().replaceScene(b)}},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",32);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-50));this.scheduleUpdate();this.Nc=cc.LabelTTF.create("00.0","Arial",
16);this.Nc.setPosition(cc.p(a.width/2,a.height/2));this.addChild(this.Nc);this.Ob=this.Rb=this.Qb=this.Pb=this.Ia=0},title:m("No title"),update:function(a){this.Ia+=a;if(1<this.Ia){var a=(this.Ob/this.Ia).toFixed(1),b=(this.Rb/this.Ia).toFixed(1),c=(this.Qb/this.Ia).toFixed(1),d=(this.Pb/this.Ia).toFixed(1);this.Ob=this.Rb=this.Qb=this.Pb=this.Ia=0;this.Nc.setString(a+" "+b+" "+c+" "+d)}}}),Nk=Qk.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Targeted touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addTargetedDelegate(this,
0,g)},onTouchBegan:function(){this.Ob++;return g},onTouchMoved:function(){this.Rb++},onTouchEnded:function(){this.Qb++},onTouchCancelled:function(){this.Pb++}}),Pk=Qk.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Standard touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addStandardDelegate(this,0)},onTouchesBegan:function(a){this.Ob+=a.length},onTouchesMoved:function(a){this.Rb+=a.length},onTouchesEnded:function(a){this.Qb+=
a.length},onTouchesCancelled:function(a){this.Pb+=a.length}});(function(a,b,c,d,f,h,l){function o(a){var b,d,f=this,h=a.length,l=0,o=f.Wd=f.ff=f.rk=0;f.lb=[];f.Zj=[];for(h||(a=[h++]);l<c;)f.lb[l]=l++;for(l=0;l<c;l++)b=f.lb[l],o=o+b+a[l%h]&c-1,d=f.lb[o],f.lb[l]=d,f.lb[o]=b;f.g=function(a){var b=f.lb,d=f.Wd+1&c-1,h=b[d],l=f.ff+h&c-1,o=b[l];b[d]=o;b[l]=h;for(var p=b[h+o&c-1];--a;)d=d+1&c-1,h=b[d],l=l+h&c-1,o=b[l],b[d]=o,b[l]=h,p=p*c+b[h+o&c-1];f.Wd=d;f.ff=l;return p};f.g(c)}function u(a,b){var c,d,f;c=[];f=typeof a;if(b&&"object"==f)for(d in a)if(5>d.indexOf("S"))try{c.push(u(a[d],
b-1))}catch(h){}return c.length?c:a+("string"!=f?"\x00":"")}function x(a,b){var d,f,a=a+"";for(f=d=0;f<a.length;f++){var h=b,l=f&c-1,o=(d^=19*b[f&c-1])+a.charCodeAt(f);h[l]=o&c-1}a="";for(f in b)a+=String.fromCharCode(b[f]);return a}b.seedrandom=function(p,t){var K=[],T,p=x(u(t?[p,a]:arguments.length?p:[(new Date).getTime(),a,window],3),K);T=new o(K);x(T.lb,a);b.random=function(){for(var a=T.g(d),b=l,o=0;a<f;)a=(a+o)*c,b*=c,o=T.g(1);for(;a>=h;)a/=2,b/=2,o>>>=1;return(a+o)/b};return p};l=b.pow(c,d);
f=b.pow(2,f);h=2*f;x(b.random(),a)})([],Math,256,6,52);var Rk=-1,Sk=cc.p(0,0);function X(){J.call(this,cc.c4b(0,0,0,255),cc.c4b(98,99,117,255));this.e="No title";this.h="No Subtitle";this.da=j}cc.inherits(X,J);n=X.prototype;
n.onEnter=function(){J.prototype.onEnter.call(this);var a=36,b=this.e.length,a=1.6*(r.width/b);0.09<a/r.width&&(a=0.09*r.width);this.label=cc.LabelTTF.create(this.e,"Gill Sans",a);this.addChild(this.label,100);var c=this.da;c===g?this.label.setPosition(Sk):this.label.setPosition(r.width/2,11*r.height/12);var d=this.h;""!==d?(b=this.h.length,b=1.3*(r.width/b),b>0.4*a&&(b=0.4*a),this.ud=cc.LabelTTF.create(d,"Thonburi",b),this.addChild(this.ud,90),c?this.ud.setPosition(cc.p(r.width/2,3*r.height/8)):
this.ud.setPosition(cc.p(r.width/2,4*r.height/5))):this.ud=i;d=this.getChildByTag(10);a=d.getChildByTag(1);c=d.getChildByTag(2);d=d.getChildByTag(3);[a,c,d].forEach(function(a){a.getNormalImage().setOpacity(45);a.getSelectedImage().setOpacity(45)});this.removeChildByTag(11);this.removeChildByTag(12)};n.Wb=function(){for(var a="",b=0;b<arguments.length;b++)0!==b&&(a+="\n"),a+="- "+arguments[b];a=cc.LabelTTF.create(a,"Gill Sans",0.07*r.height);a.setPosition(Sk);this.addChild(a,80)};
function Tk(a,b){var c=cc.Sprite.create(b);c.setPosition(Sk);a.addChild(c,70)}n.C=function(){var a=new gb;a.addChild(new Uk[Rk]);q.replaceScene(a)};n.B=function(){var a=new gb;a.addChild(Vk());q.replaceScene(a)};n.A=function(){var a=new gb;a.addChild(Wk());q.replaceScene(a)};n.G=function(){return Uk.length-1-Rk};n.D=function(){return Rk};function Xk(){X.call(this);this.e="cocos2d JS";this.h="Game Development Kit";this.da=g}cc.inherits(Xk,X);
function Yk(){X.call(this);this.e="Goals";this.h="";this.da=j;this.Wb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code","Good performance")}cc.inherits(Yk,X);function Zk(){X.call(this);this.e="Options";this.h="HTML5 engines";this.da=j;this.Wb("cocos2d HTML5","Impact JS","LimeJS","Construct 2","etc...")}cc.inherits(Zk,X);
function $k(){X.call(this);this.e="HTML5 Features";this.h="";this.da=j;this.Wb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code ???","Good Performance ???")}cc.inherits($k,X);function al(){X.call(this);this.e="HTML5 Mobile performance";this.h="Bad performance, even with accel frameworks";this.da=j;Tk(this,"res/Presentation/comparison.png")}cc.inherits(al,X);
function bl(){X.call(this);this.e="Performance";this.h="But what we want is...";this.da=j;this.Wb("Hundreds of sprites... at 60 FPS","Physics... at 60 FPS","Particles... at 60 FPS")}cc.inherits(bl,X);function cl(){X.call(this);this.hc=cc.SpriteBatchNode.create(z,50);this.addChild(this.hc);this.Ea=function(a){this.hc.addChild(this.ba(a))};this.e="Performance";this.h="Physics and Sprites";this.yb();dl(this)}cc.inherits(cl,X);n=cl.prototype;n.Qh=function(){this.Vc.setVisible(!this.Vc.isVisible())};
function dl(a){cc.MenuItemFont.setFontSize(16);var b=cc.MenuItemFont.create("Toggle Physics Debug",a.Qh,a),b=cc.Menu.create(b);a.addChild(b,99);b.setPosition(cc.p(r.width-80,r.height-100))}
n.yb=function(){this.o=new cp.Space;for(var a=this.o.jk(),a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(r.width,0),0),new cp.SegmentShape(a,cp.v(0,r.height),cp.v(r.width,r.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,r.height),0),new cp.SegmentShape(a,cp.v(r.width,0),cp.v(r.width,r.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.o.addStaticShape(c)}this.o.Na=cp.v(0,-100);this.Vc=cc.PhysicsDebugNode.create(this.o.handle);this.Vc.setVisible(j);this.addChild(this.Vc,
100)};n.ba=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.o.addBody(b);a=cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.o.addShape(a);a=cc.PhysicsSprite.create(z);a.setBody(b.handle);return a};n.onEnter=function(){X.prototype.onEnter.call(this);for(var a=0;20>a;a++)this.Ea(cp.v(40+Math.random()*(r.width-80),r.height/2+80*Math.random()));"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g)};n.onExitTransitionDidStart=function(){q.setDisplayStats(j)};
n.onEnterTransitionDidFinish=function(){q.setDisplayStats(g);this.scheduleUpdate()};n.update=function(a){this.o.step(a)};n.onMouseDown=function(a){for(var b=0;10>b;b++)this.Ea(a.getLocation())};n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ea(a[c].getLocation())};
function el(){X.call(this);this.e="Performance";this.h="Particles";var a=cc.ParticleFireworks.create();this.addChild(a);a.setPosition(Sk);var b=cc.ParticleSun.create();this.addChild(b);b.setPosition(cc.p(r.width/4,r.height/2));b=cc.ParticleMeteor.create();this.addChild(b);b.setPosition(cc.p(3*r.width/4,r.height/2));b=cc.ParticleSystem.create("res/Particles/Flower.plist");this.addChild(b);b.setPosition(Sk);this.uf=a;"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);
this.onMouseDown=function(a){this.uf.setPosition(a.getLocation())};this.onMouseDragged=function(a){return this.onMouseDown(a)};this.onTouchesEnded=function(a){for(var b=a.length,f=0;f<b;f++)this.uf.setPosition(a[f].getLocation())};this.onTouchesMoved=function(a,b){return this.onTouchesEnded(a,b)};this.onExitTransitionDidStart=function(){q.setDisplayStats(j)};this.onEnterTransitionDidFinish=function(){q.setDisplayStats(g)}}cc.inherits(el,X);
function fl(){X.call(this);this.e="Improving the performance";this.h='Redefining "fast" for mobile';this.da=g}cc.inherits(fl,X);function hl(){X.call(this);this.e="HTML5 Mobile Accelerators";this.h="";this.da=j;Tk(this,"res/Presentation/html5accelerator.png")}cc.inherits(hl,X);function il(){X.call(this);this.e="cocos2d Acceleration";this.h="";this.da=j;Tk(this,"res/Presentation/gdkaccelerator.png")}cc.inherits(il,X);
function jl(){X.call(this);this.e="Components";this.h="";this.da=j;this.Wb("Game engine: cocos2d","Physics engine: Chipmunk","World Editor: CocosBuilder")}cc.inherits(jl,X);function kl(){X.call(this);this.e="Who is using it";this.h="";this.da=j;this.Wb("Zynga","...and you ?")}cc.inherits(kl,X);function ll(){X.call(this);this.e="Demo";this.h="";this.da=g}cc.inherits(ll,X);function ml(){X.call(this);this.e="Thanks";this.h="";this.da=g}cc.inherits(ml,X);function gb(){w.call(this)}cc.inherits(gb,w);
gb.prototype.q=function(){Rk=-1;Sk=cc.p(r.width/2,r.height/2);this.addChild(Vk());q.replaceScene(this)};var Uk=[Xk,Yk,Zk,$k,al,bl,cl,el,fl,hl,il,jl,ll,kl,ml];function Vk(){Rk++;Rk%=Uk.length;return new Uk[Rk]}function Wk(){Rk--;0>Rk&&(Rk+=Uk.length);return new Uk[Rk]};var nl=-1,rl=J.extend({title:m("ProgressActionsTest"),title:m(""),A:function(){var a=new Pa;a.addChild(ol());q.replaceScene(a)},C:function(){var a=new Pa;a.addChild(new pl[nl]);q.replaceScene(a)},B:function(){var a=new Pa;a.addChild(ql());q.replaceScene(a)},G:function(){return pl.length-1-nl},D:function(){return nl}}),sl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create(A));c.setType(cc.PROGRESS_TIMER_TYPE_RADIAL);
this.addChild(c);c.setPosition(200,r.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create(mb));a.setType(cc.PROGRESS_TIMER_TYPE_RADIAL);a.setReverseDirection(g);this.addChild(a);a.setPosition(r.width-200,r.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Radial")}),tl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create(A));c.setType(cc.PROGRESS_TIMER_TYPE_BAR);
c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(1,0));this.addChild(c);c.setPosition(200,r.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create(B));a.setType(cc.PROGRESS_TIMER_TYPE_BAR);a.setMidpoint(cc.p(1,0));a.setBarChangeRate(cc.p(1,0));this.addChild(a);a.setPosition(r.width-200,r.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Horizontal")}),ul=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,
100),c=cc.ProgressTimer.create(cc.Sprite.create(A));c.setType(cc.PROGRESS_TIMER_TYPE_BAR);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(0,1));this.addChild(c);c.setPosition(200,r.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create(B));a.setType(cc.PROGRESS_TIMER_TYPE_BAR);a.setMidpoint(cc.p(0,1));a.setBarChangeRate(cc.p(0,1));this.addChild(a);a.setPosition(r.width-200,r.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Vertical")}),
vl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create(mb));b.setType(cc.PROGRESS_TIMER_TYPE_RADIAL);this.addChild(b);b.setMidpoint(cc.p(0.25,0.75));b.setPosition(200,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create(mb));b.setType(cc.PROGRESS_TIMER_TYPE_RADIAL);b.setMidpoint(cc.p(0.75,0.25));this.addChild(b);b.setPosition(r.width-200,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},
title:m("Radial w/ Different Midpoints")}),wl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create(A));b.setType(cc.PROGRESS_TIMER_TYPE_BAR);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,0));this.addChild(b);b.setPosition(150,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create(B));b.setType(cc.PROGRESS_TIMER_TYPE_BAR);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
1));this.addChild(b);b.setPosition(r.width/2,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create(B));b.setType(cc.PROGRESS_TIMER_TYPE_BAR);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,1));this.addChild(b);b.setPosition(r.width-150,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("ProgressTo Bar Mid")}),xl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100),b=cc.Sequence.create(cc.TintTo.create(1,
255,0,0),cc.TintTo.create(1,0,255,0),cc.TintTo.create(1,0,0,255)),c=cc.Sequence.create(cc.FadeTo.create(1,0),cc.FadeTo.create(1,255)),d=cc.ProgressTimer.create(cc.Sprite.create(A));d.setType(cc.PROGRESS_TIMER_TYPE_BAR);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,0));this.addChild(d);d.setPosition(150,r.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(b.copy()));d.addChild(cc.LabelTTF.create("Tint","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create(B));
d.setType(cc.PROGRESS_TIMER_TYPE_BAR);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,1));this.addChild(d);d.setPosition(r.width/2,r.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Fade","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create(B));d.setType(cc.PROGRESS_TIMER_TYPE_BAR);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(0,1));this.addChild(d);d.setPosition(r.width-150,r.height/2);d.runAction(cc.RepeatForever.create(a.copy()));
d.runAction(cc.RepeatForever.create(b.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Tint and Fade","Marker Felt",20))},title:m("ProgressTo Bar Mid")}),yl=rl.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100);cc.SpriteFrameCache.getInstance().addSpriteFrames(H);var b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png"));b.setType(cc.PROGRESS_TIMER_TYPE_BAR);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
0));this.addChild(b);b.setPosition(150,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_02.png"));b.setType(cc.PROGRESS_TIMER_TYPE_BAR);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,1));this.addChild(b);b.setPosition(r.width/2,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_03.png"));b.setType(cc.PROGRESS_TIMER_TYPE_RADIAL);
b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,1));this.addChild(b);b.setPosition(r.width-150,r.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("Progress With Sprite Frame")}),Pa=w.extend({q:function(){nl=-1;this.addChild(ql());q.replaceScene(this)}}),pl=[sl,tl,ul,vl,wl,xl,yl];function ql(){nl++;nl%=pl.length;return new pl[nl]}function ol(){nl--;0>nl&&(nl+=pl.length);return new pl[nl]};var zl=-1,Dl=J.extend({ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},title:m("Render Texture"),d:m(""),code:m(""),C:function(){var a=new Qa;a.addChild(new Al[zl]);q.replaceScene(a)},B:function(){var a=new Qa;a.addChild(Bl());q.replaceScene(a)},A:function(){var a=new Qa;a.addChild(Cl());q.replaceScene(a)},G:function(){return Al.length-1-zl},D:function(){return zl}}),El=Dl.extend({sa:i,Ka:i,Xa:i,Ua:0,onEnter:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):
"mouse"in sys.j&&this.setMouseEnabled(g);this.sa=cc.Sprite.create(D);this.sa.retain();this.sa.setColor(cc.ze);this.sa.setOpacity(20);var a=cc.MenuItemFont.create("Save",this.ei,this),b=cc.MenuItemFont.create("Clear",this.kg.bind(this)),a=cc.Menu.create(a,b);a.alignItemsVertically();a.setPosition(r.width-70,r.height-80);this.addChild(a,10);a=cc.RenderTexture.create(r.width,r.height);a.setPosition(r.width/2,r.height/2);this.addChild(a,1);this.Ka=a;this.Xa=cc.p(r.width/2,r.height/2)},onExit:function(){this.sa.release()},
ei:function(){var a="image-"+this.Ua+".png";this.Ka.saveToFile("image-"+this.Ua+".jpg",cc.IMAGE_FORMAT_JPEG);this.Ka.saveToFile(a,cc.IMAGE_FORMAT_PNG);cc.log("images saved!");this.Ua++},kg:function(){this.Ka.clear(Math.random(),Math.random(),Math.random(),1)},Ye:function(a){var b=cc.pDistance(a,this.Xa);if(1<b){this.Ka.begin();for(var c=0;c<b;c++){var d=c/b;this.sa.setPosition(a.x+(this.Xa.x-a.x)*d,a.y+(this.Xa.y-a.y)*d);this.sa.setRotation(360*Math.random());this.sa.setScale(2*Math.random());this.sa.setColor(cc.Gj(255*
Math.random(),255,255));this.sa.visit()}this.Ka.end()}this.Xa=a},onTouchesBegan:function(a){this.Xa=a[0].getLocation();return g},onTouchesMoved:function(a){this.Ye(a[0].getLocation());return g},onMouseDown:function(a){this.Xa=a.getLocation();return g},onMouseDragged:function(a){this.Ye(a.getLocation());return g},d:m("Testing 'save'")}),Fl=Dl.extend({sa:i,Ka:i,Xa:i,Ua:0,ctor:function(){this._super();var a=cc.Sprite.create(F),b=cc.RenderTexture.create(r.width/2,r.height/2);b.setPosition(r.width/2,r.height/
2);this.addChild(b,1);a.setPosition(r.width/4,r.height/4);b.begin();a.visit();b.end();var a=cc.FadeOut.create(2),c=a.reverse(),d=cc.DelayTime.create(0.25),a=cc.Sequence.create(a,d,c,d.copy()),a=cc.RepeatForever.create(a);b.getSprite().runAction(a)},title:m("Issue 1464"),d:m("Sprites should fade in / out correctly"),t:2.1,n:function(){return JSON.stringify({"0":0,1:0,2:0,3:255,4:0,5:0,6:0,7:255,8:0,9:0,10:0,11:255,12:0,13:0,14:0,15:255,16:0,17:0,18:0,19:255,20:0,21:0,22:0,23:255,24:0,25:0,26:0,27:255,
28:0,29:0,30:0,31:255,32:0,33:0,34:0,35:255,36:0,37:0,38:0,39:255,40:0,41:0,42:0,43:255,44:0,45:0,46:0,47:255,48:0,49:0,50:0,51:255,52:0,53:0,54:0,55:255,56:0,57:0,58:0,59:255,60:0,61:0,62:0,63:255})},m:function(){var a=this.readPixels(r.width/2-2,r.height/2-2,4,4);return JSON.stringify(a)}}),Qa=w.extend({q:function(){zl=-1;this.addChild(Bl());q.replaceScene(this)}}),Al=[El,Fl];function Bl(){zl++;zl%=Al.length;return new Al[zl]}function Cl(){zl--;0>zl&&(zl+=Al.length);return new Al[zl]};var Ra=w.extend({q:function(){this.addChild(Gl.create());this.runAction(cc.RotateBy.create(4,-360));q.replaceScene(this)}}),Hl=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=q.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create(z),c=cc.Sprite.create(A),f=cc.Sprite.create(B);d.setScale(1.5);c.setScale(1.5);f.setScale(1.5);d.setPosition(a/2,b/2);c.setPosition(40,b/2);f.setPosition(a-40,b/2);a=cc.RotateBy.create(16,
-3600);this.addChild(d);this.addChild(c);this.addChild(f);d.runAction(a);a=cc.JumpBy.create(4,cc.p(-400,0),100,4);d=a.reverse();b=cc.RotateBy.create(4,720);var h=b.reverse();c.runAction(cc.Repeat.create(cc.Sequence.create(d,a),5));f.runAction(cc.Repeat.create(cc.Sequence.create(a.copy(),d.copy()),5));c.runAction(cc.Repeat.create(cc.Sequence.create(b,h),5));f.runAction(cc.Repeat.create(cc.Sequence.create(h.copy(),b.copy()),5))}});Hl.create=function(){return new Hl};
var Il=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b;b=q.getWinSize();a=b.width;b=b.height;var c=cc.LabelTTF.create("cocos2d","Tahoma",64);c.setPosition(a/2,b/2);this.addChild(c)}});Il.create=function(){return new Il};
var Gl=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=q.getWinSize();a=c.width;b=c.height;var c=cc.LayerColor.create(cc.c4b(0,0,255,255)),d=cc.LayerColor.create(cc.c4b(255,0,0,255)),f=cc.LayerColor.create(cc.c4b(0,255,0,255)),h=cc.LayerColor.create(cc.c4b(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);c.addChild(Hl.create());d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/
4,b/4);f.addChild(Il.create());h.setScale(0.5);h.setPosition(a/4,b/4);this.addChild(c,-1);this.addChild(h);this.addChild(f);this.addChild(d);a=cc.RotateBy.create(8,720);c.runAction(a);d.runAction(a.copy());f.runAction(a.copy());h.runAction(a.copy())}});Gl.create=function(){return new Gl};SceneTestLayer1=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=q.getWinSize(),b=cc.MenuItemFont.create("Test pushScene",this.Ah,this),c=cc.MenuItemFont.create("Test pushScene w/transition",this.Bh,this),d=cc.MenuItemFont.create("Quit",function(){cc.log("quit!")},this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create(z);this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,360);
a=cc.RepeatForever.create(a);b.runAction(a);this._super()},onEnter:function(){cc.log("SceneTestLayer1#onEnter");this._super()},onEnterTransitionDidFinish:function(){cc.log("SceneTestLayer1#onEnterTransitionDidFinish");this._super()},If:k(),Ah:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);q.pushScene(a)},Bh:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);q.pushScene(cc.TransitionSlideInT.create(1,a))},nf:k()});
SceneTestLayer2=cc.Layer.extend({Nk:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=q.getWinSize(),b=cc.MenuItemFont.create("replaceScene",this.Fh,this),c=cc.MenuItemFont.create("replaceScene w/transition",this.Gh,this),d=cc.MenuItemFont.create("Go Back",this.fh,this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create(z);this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,360);a=cc.RepeatForever.create(a);
b.runAction(a)},If:k(),fh:function(){q.popScene()},Fh:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);q.replaceScene(a)},Gh:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);q.replaceScene(cc.TransitionSlideInT.create(2,a))}});
SceneTestLayer3=cc.LayerColor.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerColor);this.init(cc.c4b(0,128,255,255));"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Touch to popScene","Arial",28);this.addChild(a);var b=q.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a=cc.Sprite.create(z);this.addChild(a);a.setPosition(cc.p(b.width-40,b.height/2));b=cc.RotateBy.create(2,360);b=cc.RepeatForever.create(b);
a.runAction(b)},If:k(),onTouchesEnded:function(){q.popScene()},onMouseUp:function(){q.popScene()}});SceneTestScene=w.extend({q:function(){this.addChild(new SceneTestLayer1);q.replaceScene(this)}});var Jl=-1,Ml=J.extend({title:m("No title"),d:m(""),A:function(){var a=new Sa,b;Jl--;0>Jl&&(Jl+=Kl.length);b=new Kl[Jl];a.addChild(b);q.replaceScene(a)},B:function(){var a=new Sa,b=Ll();a.addChild(b);q.replaceScene(a)},C:function(){var a=new Sa,b=new Kl[Jl];a.addChild(b);q.replaceScene(a)},G:function(){return Kl.length-1-Jl},D:function(){return Jl}}),Nl=Ml.extend({ra:0,onEnter:function(){this._super();this.schedule(this.mf,0.5);this.schedule(this.ke,0.5);this.ra=0},title:m("Self-remove an scheduler"),
d:m("1 scheduler will be autoremoved in 3 seconds. See console"),mf:function(a){this.ra+=a;cc.log("Time: "+this.ra);3<this.ra&&(this.unschedule(this.mf),cc.log("scheduler removed"))},ke:function(){cc.log("This scheduler should not be removed")}}),Ol=Ml.extend({onEnter:function(){this._super();this.schedule(this.hb,0.5);this.schedule(this.ib,0.5);this.schedule(this.ie,3)},title:m("Pause / Resume"),d:m("Scheduler should be paused after 3 seconds. See console"),hb:function(){cc.log("tick1")},ib:function(){cc.log("tick2")},
ie:function(){q.getScheduler().pauseTarget(this)}}),Pl=Ml.extend({onEnter:function(){this._super();this.schedule(this.hb,0.5);this.schedule(this.ib,1);this.schedule(this.pc,1.5);this.schedule(this.qc,1.5);this.schedule(this.le,4)},title:m("Unschedule All callbacks"),d:m("All scheduled callbacks will be unscheduled in 4 seconds. See console"),hb:function(){cc.log("tick1")},ib:function(){cc.log("tick2")},pc:function(){cc.log("tick3")},qc:function(){cc.log("tick4")},le:function(){this.unscheduleAllCallbacks()}}),
Ql=Ml.extend({onEnter:function(){this._super();this.schedule(this.hb,0.5);this.schedule(this.ib,1);this.schedule(this.pc,1.5);this.schedule(this.qc,1.5);this.schedule(this.le,4)},title:m("Unschedule All callbacks #2"),d:m("Unschedules all callbacks after 4s. Uses CCScheduler. See console"),hb:function(){cc.log("tick1")},ib:function(){cc.log("tick2")},pc:function(){cc.log("tick3")},qc:function(){cc.log("tick4")},le:function(){q.getScheduler().unscheduleAllCallbacks()}}),Rl=Ml.extend({onEnter:function(){this._super();
this.schedule(this.hb,0.5);this.schedule(this.ib,1);this.schedule(this.of,4)},title:m("Schedule from Schedule"),d:m("Will unschedule and schedule callbacks in 4s. See console"),hb:function(){cc.log("tick1")},ib:function(){cc.log("tick2")},pc:function(){cc.log("tick3")},qc:function(){cc.log("tick4")},of:function(){this.unschedule(this.hb);this.unschedule(this.ib);this.unschedule(this.of);this.schedule(this.pc,1);this.schedule(this.qc,1)}}),Sl=cc.Node.extend({Ke:"",ctor:function(a,b){cc.associateWithNative(this,
cc.Layer);this.init();this._super();this.Ke=a;this.scheduleUpdateWithPriority(b)},update:function(){cc.log(this.Ke)}}),Tl=Ml.extend({onEnter:function(){this._super();this.addChild(new Sl("---",50));this.addChild(new Sl("3rd",0));this.addChild(new Sl("1st",-10));this.addChild(new Sl("4th",10));this.addChild(new Sl("5th",20));this.addChild(new Sl("2nd",-5));this.schedule(this.Eh,4)},title:m("Schedule update with priority"),d:m("3 scheduled updates. Priority should work. Stops in 4s. See console"),Eh:function(){for(var a=
this.getChildren(),b=0;b<a.length;b++){var c=a[b];c&&c.unscheduleAllCallbacks()}}}),Ul=Ml.extend({onEnter:function(){this._super();this.scheduleUpdate();this.schedule(this.ke);this.schedule(this.Lh,4)},title:m("Schedule Update + custom callback"),d:m("Update + custom callback at the same time. Stops in 4s. See console"),update:function(a){cc.log("update called:"+a)},ke:function(a){cc.log("custom callback called:"+a)},Lh:function(){this.unscheduleAllCallbacks()}}),Vl=Ml.extend({onEnter:function(){this._super();
this.schedule(this.Cb,2)},title:m("Schedule Update in 2 sec"),d:m("Update schedules in 2 secs. Stops 2 sec later. See console"),update:function(a){cc.log("update called:"+a)},Cb:function(){this.unschedule(this.Cb);this.scheduleUpdate();this.schedule(this.rf,2)},rf:function(){this.unscheduleUpdate();this.unschedule(this.rf)}}),Wl=Ml.extend({bc:1,Qc:0,onEnter:function(){this._super();this.bc=1;this.Qc=0;this.schedule(this.Cb,this.bc)},title:m("Reschedule Callback"),d:m("Interval is 1 second, then 2, then 3..."),
Cb:function(a){this.Qc++;cc.log("schedUpdate: "+a.toFixed(2));3<this.Qc&&(this.bc+=1,this.schedule(this.Cb,this.bc),this.Qc=0)}}),Xl=Ml.extend({ra:0,onEnter:function(){this._super();this.ra=0;var a=q.getScheduler();a.scheduleUpdateForTarget(this,0,j);var b=cc.REPEAT_FOREVER;a.scheduleCallbackForTarget(this,this.Cb,0.25,b,2,j)},title:m("Schedule / Unschedule using Scheduler"),d:m("After 5 seconds all callbacks should be removed"),update:function(a){cc.log("update: "+a)},Cb:function(a){cc.log("onSchedUpdate delta: "+
a);this.ra+=a;3<this.ra&&q.getScheduler().unscheduleAllCallbacksForTarget(this);cc.log("onSchedUpdate accum: "+this.ra)}}),Sa=w.extend({q:function(){Jl=-1;this.addChild(Ll());q.replaceScene(this)}}),Kl=[Nl,Ol,Pl,Ql,Rl,Tl,Ul,Vl,Wl,Xl];function Ll(){Jl++;Jl%=Kl.length;return new Kl[Jl]};var Y=1,yd=2,P=0,Q=1,xf=2,Yl=-1,U=cc.SpriteFrameCache.getInstance(),Z=J.extend({e:"",h:"",ctor:function(){0===arguments.length?this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255)):this._super.apply(this,arguments)},C:function(){var a=new Ua;a.addChild(new Zl[Yl]);q.replaceScene(a)},B:function(){var a=new Ua;a.addChild($l());q.replaceScene(a)},A:function(){var a=new Ua;a.addChild(am());q.replaceScene(a)},G:function(){return Zl.length-1-Yl},D:function(){return Yl}}),bm=Z.extend({e:"Non Batched Sprite ",
h:"Tap screen to add more sprites",ctor:function(){this._super();this.Da(cc.p(r.width/2,r.height/2));"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g)},Da:function(a){var b=0|14*Math.random(),b=cc.Sprite.create(E,cc.rect(85*(b%5),121*(0|b/5),85,121));this.addChild(b);b.setPosition(cc.p(a.x,a.y));var a=Math.random(),a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2),c=
a.reverse(),a=cc.Sequence.create(a,c);b.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.Da(c.getLocation())}},onMouseDown:function(a){this.Da(a.getLocation());return g}}),cm=Z.extend({e:"Batched Sprite ",h:"Tap screen to add more sprites",ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);this.addChild(cc.SpriteBatchNode.create(E,50),0,1);this.Da(cc.p(r.width/2,r.height/
2))},Da:function(a){var b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=
a[b];if(!c)break;this.Da(c.getLocation())}},onMouseDown:function(a){this.Da(a.getLocation());return g}}),dm=Z.extend({e:"Sprite: Color & Opacity",ctor:function(){this._super();var a=cc.Sprite.create(E,cc.rect(0,121,85,121)),b=cc.Sprite.create(E,cc.rect(85,121,85,121)),c=cc.Sprite.create(E,cc.rect(170,121,85,121)),d=cc.Sprite.create(E,cc.rect(255,121,85,121)),f=cc.Sprite.create(E,cc.rect(0,121,85,121)),h=cc.Sprite.create(E,cc.rect(85,121,85,121)),l=cc.Sprite.create(E,cc.rect(170,121,85,121)),o=cc.Sprite.create(E,
cc.rect(255,121,85,121));a.setPosition(cc.p(r.width/5,r.height/3));b.setPosition(cc.p(2*(r.width/5),r.height/3));c.setPosition(cc.p(3*(r.width/5),r.height/3));d.setPosition(cc.p(4*(r.width/5),r.height/3));f.setPosition(cc.p(r.width/5,2*(r.height/3)));h.setPosition(cc.p(2*(r.width/5),2*(r.height/3)));l.setPosition(cc.p(3*(r.width/5),2*(r.height/3)));o.setPosition(cc.p(4*(r.width/5),2*(r.height/3)));var u=cc.FadeIn.create(2),x=u.reverse(),u=cc.RepeatForever.create(cc.Sequence.create(u,x)),x=cc.TintBy.create(2,
0,-255,-255),p=x.reverse(),x=cc.RepeatForever.create(cc.Sequence.create(x,p)),p=cc.TintBy.create(2,-255,0,-255),t=p.reverse(),p=cc.RepeatForever.create(cc.Sequence.create(p,t)),t=cc.TintBy.create(2,-255,-255,0),K=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,K));f.runAction(x);h.runAction(p);l.runAction(t);o.runAction(u);this.addChild(a,0,P);this.addChild(b,0,Q);this.addChild(c,0,xf);this.addChild(d,0,3);this.addChild(f,0,4);this.addChild(h,0,5);this.addChild(l,0,6);this.addChild(o,0,
7);this.schedule(this.ne,2)},ne:function(){var a=this.getChildByTag(4);this.removeChild(a,j);this.addChild(a,0,4)}}),em=Z.extend({e:"SpriteBatchNode: Color & Opacity",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(E,1);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),f=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(255,121,85,121)),h=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),l=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),o=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),u=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121));b.setPosition(cc.p(1*(r.width/5),1*(r.height/3)));c.setPosition(cc.p(2*(r.width/5),1*(r.height/3)));d.setPosition(cc.p(3*(r.width/5),1*(r.height/3)));f.setPosition(cc.p(4*(r.width/5),1*(r.height/3)));
h.setPosition(cc.p(1*(r.width/5),2*(r.height/3)));l.setPosition(cc.p(2*(r.width/5),2*(r.height/3)));o.setPosition(cc.p(3*(r.width/5),2*(r.height/3)));u.setPosition(cc.p(4*(r.width/5),2*(r.height/3)));var x=cc.FadeIn.create(2),p=x.reverse(),x=cc.RepeatForever.create(cc.Sequence.create(x,p)),p=cc.TintBy.create(2,0,-255,-255),p=cc.RepeatForever.create(cc.Sequence.create(p,p.reverse())),t=cc.TintBy.create(2,-255,0,-255),K=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,K)),K=cc.TintBy.create(2,
-255,-255,0),T=K.reverse(),K=cc.RepeatForever.create(cc.Sequence.create(K,T));h.runAction(p);l.runAction(t);o.runAction(K);u.runAction(x);a.addChild(b,0,P);a.addChild(c,0,Q);a.addChild(d,0,xf);a.addChild(f,0,3);a.addChild(h,0,4);a.addChild(l,0,5);a.addChild(o,0,6);a.addChild(u,0,7);this.schedule(this.ne,2)},ne:function(){var a=this.getChildByTag(1),b=a.getChildByTag(4);a.removeChild(b,j);a.addChild(b,0,4)}}),fm=Z.extend({na:0,e:"Sprite: Z order",ctor:function(){this._super();this.na=1;for(var a,b=
r.width/11,c=0;5>c;c++)a=cc.Sprite.create(E,cc.rect(0,121,85,121)),a.setPosition(cc.p((c+1)*b,r.height/2)),this.addChild(a,c);for(c=5;10>c;c++)a=cc.Sprite.create(E,cc.rect(85,0,85,121)),a.setPosition(cc.p((c+1)*b,r.height/2)),this.addChild(a,14-c);a=cc.Sprite.create(E,cc.rect(255,0,85,121));this.addChild(a,-1,P);a.setPosition(cc.p(r.width/2,r.height/2-20));a.setScaleX(10);a.setColor(cc.c3b(255,0,0));this.schedule(this.ma,1)},ma:function(){var a=this.getChildByTag(P),b=a.getZOrder();-1>b&&(this.na=
1);10<b&&(this.na=-1);b+=3*this.na;this.reorderChild(a,b)}}),gm=Z.extend({na:0,e:"SpriteBatch: Z order",ctor:function(){this._super();this.na=1;var a=cc.SpriteBatchNode.create(E,1);this.addChild(a,0,1);for(var b,c=r.width/11,d=0;5>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),b.setPosition(cc.p((d+1)*c,r.height/2)),a.addChild(b,d);for(d=5;10>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,0,85,121)),b.setPosition(cc.p((d+1)*c,r.height/2)),a.addChild(b,14-
d);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,0,85,121));a.addChild(b,-1,P);b.setPosition(cc.p(r.width/2,r.height/2-20));b.setScaleX(10);b.setColor(cc.c3b(255,0,0));this.schedule(this.ma,1)},ma:function(){var a=this.getChildByTag(1),b=a.getChildByTag(P),c=b.getZOrder();-1>c&&(this.na=1);10<c&&(this.na=-1);c+=3*this.na;a.reorderChild(b,c)}}),hm=Z.extend({e:"SpriteBatchNode: reorder #1",h:"Should not crash",ctor:function(){this._super();for(var a=[],b=cc.SpriteBatchNode.create(Qb),c=0;10>
c;c++){var d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(0,0,50,50));a.push(d);b.addChild(d,10)}for(c=0;10>c;c++)5!=c&&b.reorderChild(a[c],9);d=b.getChildren();for(c=0;c<d.length;c++){a=d[c];if(!a)break;a.getAtlasIndex()}b=b.getDescendants();for(c=0;c<b.length;c++){a=b[c];if(!a)break;a.getAtlasIndex()}}}),im=Z.extend({e:"SpriteBatchNode: reorder issue #744",h:"Should not crash",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(E,15);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,0,85,121));b.setPosition(cc.p(r.width/2,r.height/2));a.addChild(b,3);a.reorderChild(b,1)}}),jm=Z.extend({l:i,L:i,Q:i,Ba:i,e:"SpriteBatchNode: reorder issue #766",h:"In 2 seconds 1 sprite will be reordered",ctor:function(){this._super();this.l=cc.SpriteBatchNode.create(Lb,15);this.addChild(this.l,1,0);this.L=this.Zd(2);this.L.setPosition(cc.p(200,160));this.Q=this.Zd(3);this.Q.setPosition(cc.p(264,160));this.Ba=this.Zd(4);this.Ba.setPosition(cc.p(328,160));this.schedule(this.ma,2)},ma:function(){this.unschedule(this.ma);
this.l.reorderChild(this.L,4)},Zd:function(a){var b=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(128,0,64,64));this.l.addChild(b,a+1,0);var c=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(0,0,64,64));c.setOpacity(128);b.addChild(c,a,3);c=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(64,0,64,64));b.addChild(c,a+2,3);return b}}),km=Z.extend({e:"SpriteBatchNode: reorder issue #767",h:"Should not crash",ctor:function(){this._super();U.addSpriteFrames($b,Qb);var a=cc.SpriteBatchNode.create(Qb);
this.addChild(a,0,P);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("father.gif"));b.setPosition(cc.p(r.width/2,r.height/2));a.addChild(b,0,Q);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister1.gif"));d.setPosition(cc.p(-25+c.width/2,0+c.height/2));b.addChild(d,-1,2);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister2.gif"));a.setPosition(cc.p(25+c.width/2,0+c.height/2));b.addChild(a,1,3);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));
c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,-1);c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,1);d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d,-1);d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,50+b.height/
2));a.addChild(d,1);this.schedule(this.ai,1)},ai:function(){var a=this.getChildByTag(P).getChildByTag(Q),b=a.getChildByTag(2),c=a.getChildByTag(3),d=1;1==b.getZOrder()&&(d=-1);a.reorderChild(b,d);a.reorderChild(c,-d)}}),lm=Z.extend({na:0,bg:0,e:"Sprite: openGL Z vertex",h:"Scene should rotate",ctor:function(){this._super(cc.c4b(255,0,0,80),cc.c4b(255,98,117,20));if("opengl"in sys.j){gl.enable(gl.DEPTH_TEST);var a=cc.Hc.getInstance().Ma(cc.Tf),b=a.Ma(),c=gl.getUniformLocation(b,cc.Wf);gl.useProgram(b);
a.qe(c,0.5);this.na=1;b=r.width/12;c=cc.Node.create();c.setContentSize(cc.size(r.width,r.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(r.width/2,r.height/2));this.addChild(c,0);for(var d,f=0;5>f;f++)d=cc.Sprite.create(E,cc.rect(0,121,85,121)),d.setPosition(cc.p((f+1)*b,r.height/2)),d.setVertexZ(10+40*f),d.setShaderProgram(a),c.addChild(d,0);for(f=5;11>f;f++)d=cc.Sprite.create(E,cc.rect(85,0,85,121)),d.setPosition(cc.p((f+1)*b,r.height/2)),d.setVertexZ(10+40*(10-f)),d.setShaderProgram(a),
c.addChild(d,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.j&&(q.setProjection(cc.DIRECTOR_PROJECTION_3D),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.j&&(q.setProjection(cc.DIRECTOR_PROJECTION_2D),gl.disable(gl.DEPTH_TEST));this._super()}}),mm=Z.extend({na:0,bg:0,
e:"SpriteBatchNode: openGL Z vertex",h:"Scene should rotate",ctor:function(){this._super(cc.c4b(255,0,0,80),cc.c4b(255,98,117,20));if("opengl"in sys.j){var a=cc.Hc.getInstance().Ma(cc.Tf),b=a.Ma(),c=gl.getUniformLocation(b,cc.Wf);gl.useProgram(b);a.qe(c,0.5);b=r.width/12;c=cc.SpriteBatchNode.create(E,1);c.setContentSize(cc.size(r.width,r.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(r.width/2,r.height/2));c.setShaderProgram(a);this.addChild(c,0,1);for(var d=0;5>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),
cc.rect(0,121,85,121)),a.setPosition(cc.p((d+1)*b,r.height/2)),a.setVertexZ(10+40*d),c.addChild(a,0);for(d=5;11>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(85,0,85,121)),a.setPosition(cc.p((d+1)*b,r.height/2)),a.setVertexZ(10+40*(10-d)),c.addChild(a,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.j&&(q.setProjection(cc.DIRECTOR_PROJECTION_3D),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),
this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.j&&(q.setProjection(cc.DIRECTOR_PROJECTION_2D),gl.disable(gl.DEPTH_TEST));this._super()}}),nm=Z.extend({e:"Sprite: anchor point",ctor:function(){this._super();for(var a=0;3>a;a++){var b=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(b),c=cc.Sprite.create(E,cc.rect(85*a,121,85,121));c.setPosition(cc.p(r.width/4*(a+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());
this.addChild(d,10);switch(a){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());c.runAction(b);this.addChild(c,a)}}}),om=Z.extend({e:"SpriteBatchNode: anchor point",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(E,1);this.addChild(a,0,1);for(var b=0;3>b;b++){var c=cc.RotateBy.create(10,360),c=cc.RepeatForever.create(c),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*b,121,85,
121));d.setPosition(cc.p(r.width/4*(b+1),r.height/2));var f=cc.Sprite.create(C);f.setScale(0.25);f.setPosition(d.getPosition());this.addChild(f,1);switch(b){case 0:d.setAnchorPoint(cc.p(0,0));break;case 1:d.setAnchorPoint(cc.p(0.5,0.5));break;case 2:d.setAnchorPoint(cc.p(1,1))}f.setPosition(d.getPosition());d.runAction(c);a.addChild(d,b)}}}),pm=Z.extend({e:"SpriteBatchNode transformation",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(E,1);this.addChild(a,0,1);a.ignoreAnchorPointForPosition(g);
a.setAnchorPoint(cc.p(0.5,0.5));a.setContentSize(cc.size(r.width,r.height));for(var b=cc.RotateBy.create(5,360),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.RepeatForever.create(b),c=cc.ScaleBy.create(5,1.5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=r.width/4,f=0;3>f;f++){var h=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*f,121,85,121));h.setPosition(cc.p((f+1)*d,r.height/2));var l=cc.RotateBy.create(5,360),l=cc.RepeatForever.create(l);h.runAction(l.copy());a.addChild(h,
f)}a.runAction(c);a.runAction(b)}}),qm=Z.extend({e:"Sprite Flip X & Y",ctor:function(){this._super();var a=cc.Sprite.create(E,cc.rect(85,121,85,121));a.setPosition(cc.p(r.width/2-100,r.height/2));this.addChild(a,0,P);a=cc.Sprite.create(E,cc.rect(85,121,85,121));a.setPosition(cc.p(r.width/2+100,r.height/2));this.addChild(a,0,Q);this.schedule(this.nc,1)},nc:function(){var a=this.getChildByTag(P),b=this.getChildByTag(Q);a.setFlipX(!a.isFlippedX());b.setFlipY(!b.isFlippedY())}}),rm=Z.extend({e:"SpriteBatchNode Flip X & Y",
ctor:function(){this._super();var a=cc.SpriteBatchNode.create(E,10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(r.width/2-100,r.height/2));a.addChild(b,0,P);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(r.width/2+100,r.height/2));a.addChild(b,0,Q);this.schedule(this.nc,1)},nc:function(){var a=this.getChildByTag(1),b=a.getChildByTag(P),a=a.getChildByTag(Q);b.setFlipX(!b.isFlippedX());a.setFlipY(!a.isFlippedY())}}),
sm=Z.extend({e:"Sprite Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.Sprite.create(E,cc.rect(85,121,85,121));a.setPosition(cc.p(r.width/2-100,r.height/2));this.addChild(a,0,P);var b=cc.Sprite.create(E,cc.rect(85,121,85,121));b.setPosition(cc.p(r.width/2+100,r.height/2));this.addChild(b,0,Q);var c=cc.ScaleBy.create(2,5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);
a.runAction(c);b.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(r.width/2,r.height/2))}else this.getChildByTag(P).getTexture().setAliasTexParameters()},onExit:function(){"browser"!=sys.platform&&this.getChildByTag(P).getTexture().setAntiAliasTexParameters();this._super()}}),tm=Z.extend({e:"SpriteBatchNode Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();
var a=cc.SpriteBatchNode.create(E,10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(r.width/2-100,r.height/2));a.addChild(b,0,P);var c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));c.setPosition(cc.p(r.width/2+100,r.height/2));a.addChild(c,0,Q);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);
b.runAction(a);c.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(r.width/2,r.height/2))}else this.getChildByTag(1).getTexture().setAliasTexParameters()},onExit:function(){"browser"!=sys.platform&&this.getChildByTag(1).getTexture().setAntiAliasTexParameters();this._super()}}),um=Z.extend({Sc:j,rb:i,ec:i,e:"Sprite New texture (tap)",ctor:function(){this._super();
"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);this.addChild(cc.Node.create(),0,1);this.rb=cc.TextureCache.getInstance().addImage(E);this.ec=cc.TextureCache.getInstance().addImage(Mb);this.Sc=g;for(var a=0;30>a;a++)this.Md()},Md:function(){var a=cc.p(Math.random()*r.width,Math.random()*r.height),b=0|14*Math.random(),c=85*(b%5),d=121*(0|b/5),b=this.getChildByTag(1),c=cc.Sprite.createWithTexture(this.rb,cc.rect(c,d,85,121));b.addChild(c);c.setPosition(cc.p(a.x,a.y));
a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);c.runAction(cc.RepeatForever.create(a))},mc:function(){var a=this.getChildByTag(1).getChildren(),b,c;if(this.Sc){for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.ec)}this.Sc=j}else{for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.rb)}this.Sc=g}},onTouchesEnded:function(){this.mc()},onMouseDown:function(){this.mc();
return g}}),vm=Z.extend({rb:i,ec:i,e:"SpriteBatchNode new texture (tap)",ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g);var a=cc.SpriteBatchNode.create(E,50);this.addChild(a,0,1);this.rb=a.getTexture();this.ec=cc.TextureCache.getInstance().addImage(Mb);for(a=0;30>a;a++)this.Md()},Md:function(){var a=cc.p(Math.random()*r.width,Math.random()*r.height),b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),
cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},mc:function(){var a=this.getChildByTag(1);a.getTexture()==this.rb?a.setTexture(this.ec):a.setTexture(this.rb)},onTouchesEnded:function(){this.mc()},onMouseDown:function(){this.mc();return g}}),wm=Z.extend({L:i,Q:i,Ua:0,e:"Sprite vs. SpriteBatchNode animation",
h:"Testing issue #792",onEnter:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);U.addSpriteFrames(Yb,Nb);this.L=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.L.setPosition(cc.p(r.width/2-80,r.height/2));var a=cc.SpriteBatchNode.create(F);a.addChild(this.L);this.addChild(a);for(var a=[],b="",c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=U.getSpriteFrame(b),a.push(b);c=cc.Animation.create(a,0.3);this.L.runAction(cc.RepeatForever.create(cc.Animate.create(c)));
this.L.setFlipX(j);this.L.setFlipY(j);this.Q=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.Q.setPosition(cc.p(r.width/2+80,r.height/2));this.addChild(this.Q);for(var d=[],c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=U.getSpriteFrame(b),d.push(b);for(c=1;5>c;c++)b="grossini_blue_0"+c+".png",b=U.getSpriteFrame(b),d.push(b);d=d.concat(a);a=cc.Animation.create(d,0.3);this.Q.runAction(cc.RepeatForever.create(cc.Animate.create(a)));this.Q.setFlipX(j);this.Q.setFlipY(j);
this.schedule(this.qf,0.5);this.Ua=0},onExit:function(){this._super();U.removeSpriteFramesFromFile(H);U.removeSpriteFramesFromFile(I);U.removeSpriteFramesFromFile(Yb)},qf:function(){this.unschedule(this.qf);this.schedule(this.nc,1)},nc:function(){this.Ua++;var a=j,b=j;switch(this.Ua%4){case 0:b=a=j;break;case 1:a=g;b=j;break;case 2:a=j;b=g;break;case 3:b=a=g}this.L.setFlipX(a);this.L.setFlipY(b);this.Q.setFlipX(a);this.Q.setFlipY(b)}}),xm=Z.extend({e:"SpriteFrame Alias Name",h:"SpriteFrames are obtained using the alias name",
onEnter:function(){this._super();U.addSpriteFrames(Zb,Ob);var a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(cc.p(r.width/2,r.height/2));var b=cc.SpriteBatchNode.create(Ob);b.addChild(a);this.addChild(b);for(var b=[],c="",d=1;15>d;d++)c="dance_"+(10>d?"0"+d:d),c=U.getSpriteFrame(c),b.push(c);b=cc.Animation.create(b,0.3);a.runAction(cc.RepeatForever.create(cc.Animate.create(b)))},onExit:function(){this._super();U.removeSpriteFramesFromFile(Zb)}}),ym=Z.extend({e:"Sprite offset + anchor + rot",
ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/4*(a+1),r.height/2));var c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;15>
f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=U.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));b.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));this.addChild(b,0)}},onExit:function(){this._super();U.removeSpriteFramesFromFile(H);U.removeSpriteFramesFromFile(I)}}),zm=Z.extend({e:"SpriteBatchNode offset + anchor + rot",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);var a=cc.SpriteBatchNode.create(F);
this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",h=1;15>h;h++)f="grossini_dance_"+(10>h?"0"+h:h)+".png",f=U.getSpriteFrame(f),
d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));c.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));a.addChild(c,b)}},onExit:function(){this._super();U.removeSpriteFramesFromFile(H);U.removeSpriteFramesFromFile(I)}}),Am=Z.extend({e:"Sprite offset + anchor + scale",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(r.width/4*(a+1),r.height/2));var c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=U.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));c=cc.ScaleBy.create(2,
2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}},onExit:function(){this._super();U.removeSpriteFramesFromFile(H);U.removeSpriteFramesFromFile(I)}}),Bm=Z.extend({e:"SpriteBatchNode offset + anchor + scale",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(F);this.addChild(a);U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(r.width/
4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",h=1;14>=h;h++)f="grossini_dance_"+(10>h?"0"+h:h)+".png",f=U.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.ScaleBy.create(2,2);h=d.reverse();
d=cc.Sequence.create(d,h);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}},onExit:function(){this._super();U.removeSpriteFramesFromFile(H);U.removeSpriteFramesFromFile(I)}}),Cm=Z.extend({e:"Sprite offset + anchor + skew",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(r.width/4*(a+1),r.height/2));var c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());
this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=U.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),h=d.reverse(),c=cc.Sequence.create(c,f,d,h);b.runAction(cc.RepeatForever.create(c));
this.addChild(b,0)}}}),Dm=Z.extend({e:"SpriteBatchNode offset + anchor + skew",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);var a=cc.SpriteBatchNode.create(F);this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,
0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",h=1;14>=h;h++)f="grossini_dance_"+(10>h?"0"+h:h)+".png",f=U.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),h=d.reverse(),f=cc.SkewBy.create(2,0,45),l=f.reverse(),d=cc.Sequence.create(d,h,f,l);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),Em=Z.extend({e:"Sprite anchor + skew + scale",ctor:function(){this._super();
U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/4*(a+1),r.height/2));var c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+
(10>f?"0"+f:f)+".png",d=U.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),h=d.reverse(),c=cc.Sequence.create(c,f,d,h);b.runAction(cc.RepeatForever.create(c));c=cc.ScaleBy.create(2,2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),Fm=Z.extend({e:"SpriteBatchNode anchor + skew + scale",ctor:function(){this._super();
U.addSpriteFrames(H);U.addSpriteFrames(I,G);var a=cc.SpriteBatchNode.create(F);this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],
f="",h=1;14>=h;h++)f="grossini_dance_"+(10>h?"0"+h:h)+".png",f=U.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),h=d.reverse(),f=cc.SkewBy.create(2,0,45),l=f.reverse(),d=cc.Sequence.create(d,h,f,l);c.runAction(cc.RepeatForever.create(d));d=cc.ScaleBy.create(2,2);h=d.reverse();d=cc.Sequence.create(d,h);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),Gm=Z.extend({e:"Sprite offset + anchor + flip",
h:"issue #1078",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,G);for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(r.width/4*(a+1),r.height/2));var c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=
1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=U.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.FlipY.create(g),f=cc.FlipY.create(j),d=cc.DelayTime.create(1),h=cc.DelayTime.create(1),c=cc.Sequence.create(d,c,h,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),Hm=Z.extend({e:"SpriteBatchNode offset + anchor + flip",h:"issue #1078",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I,
G);var a=cc.SpriteBatchNode.create(F);this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.Sprite.create(C);d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",h=1;14>=h;h++)f="grossini_dance_"+
(10>h?"0"+h:h)+".png",f=U.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.FlipY.create(g);h=cc.FlipY.create(j);f=cc.DelayTime.create(1);d=cc.Sequence.create(f,d,f.copy(),h);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),Im=Z.extend({e:"Sprite: Animation + flip",ctor:function(){this._super();var a=cc.TextureCache.getInstance().addImage(Pb),b=cc.SpriteFrame.createWithTexture(a,cc.rect(0,0,132,132)),c=cc.SpriteFrame.createWithTexture(a,
cc.rect(132,0,132,132)),d=cc.SpriteFrame.createWithTexture(a,cc.rect(264,0,132,132)),f=cc.SpriteFrame.createWithTexture(a,cc.rect(396,0,132,132)),h=cc.SpriteFrame.createWithTexture(a,cc.rect(0,132,132,132)),l=cc.SpriteFrame.createWithTexture(a,cc.rect(132,132,132,132)),a=cc.Sprite.createWithSpriteFrame(b);a.setPosition(cc.p(r.width/2,r.height/2));this.addChild(a);var o=[];o.push(b);o.push(c);o.push(d);o.push(f);o.push(h);o.push(l);b=cc.Animation.create(o,0.2);b=cc.Animate.create(b);b=cc.Sequence.create(b,
cc.FlipX.create(g),b.copy(),cc.FlipX.create(j));a.runAction(cc.RepeatForever.create(b))},onExit:function(){this._super()}}),Jm=Z.extend({Rc:j,e:"Hybrid.Sprite* sprite Test",ctor:function(){this._super();var a=cc.Node.create(),b=cc.SpriteBatchNode.create(F,50);this.addChild(a,0,yd);this.addChild(b,0,1);U.addSpriteFrames(H);for(b=1;250>=b;b++){var c=Math.round(14*Math.random());0===c&&(c=1);c=U.getSpriteFrame("grossini_dance_"+(10>c?"0"+c:c)+".png");c=cc.Sprite.createWithSpriteFrame(c);a.addChild(c,
b,b);var d=-1E3,f=-1E3;0.2>Math.random()&&(d=Math.random()*r.width,f=Math.random()*r.height);c.setPosition(cc.p(d,f));d=cc.RotateBy.create(4,360);c.runAction(cc.RepeatForever.create(d))}this.Rc=j;this.schedule(this.ci,2)},onExit:function(){this._super();U.removeSpriteFramesFromFile(H)},ci:function(){var a=this.getChildByTag(yd),b=this.getChildByTag(1),c=[],d;this.Rc&&(d=b,b=a,a=d);for(var f=a.getChildren(),h=0;h<f.length;h++){d=f[h];if(!d)break;c.push(d)}a.removeAllChildren(j);for(h=0;h<c.length;h++){d=
c[h];if(!d)break;b.addChild(d,h,h)}this.Rc=!this.Rc}}),Km=Z.extend({e:"SpriteBatchNode Grand Children",ctor:function(){this._super();var a=cc.SpriteBatchNode.create(F,50);this.addChild(a,0,1);U.addSpriteFrames(H);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/3,r.height/2));var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(50,50));var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-50,-50));a.addChild(b);b.addChild(c);b.addChild(d);for(var a=[],f="",d=1;15>d;d++)f="grossini_dance_"+(10>d?"0"+d:d)+".png",f=U.getSpriteFrame(f),a.push(f);a=cc.Animation.create(a,0.2);b.runAction(cc.RepeatForever.create(cc.Animate.create(a)));var a=cc.MoveBy.create(2,cc.p(200,0)),d=a.reverse(),f=cc.RotateBy.create(2,360),h=cc.ScaleBy.create(2,2),l=h.reverse(),o=f.reverse();c.runAction(cc.RepeatForever.create(o));b.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(cc.Sequence.create(a,
d)));b.runAction(cc.RepeatForever.create(cc.Sequence.create(h,l)))},onExit:function(){this._super()}}),Lm=Z.extend({e:"SpriteBatchNode Children Z",ctor:function(){this._super();var a,b,c,d;U.addSpriteFrames(H);a=cc.SpriteBatchNode.create(F,50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/3,r.height/2));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,2);b.addChild(d,-2);a=cc.SpriteBatchNode.create(F,50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(2*r.width/3,r.height/2));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,
2);a=cc.SpriteBatchNode.create(F,50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/2-90,r.height/4));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(r.width/2-60,r.height/4));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(r.width/2-30,r.height/4));a.addChild(b,10);a.addChild(c,-10);a.addChild(d,-5);a=cc.SpriteBatchNode.create(F,
50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(r.width/2+30,r.height/4));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(r.width/2+60,r.height/4));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(r.width/2+90,r.height/4));a.addChild(b,-10);a.addChild(c,-5);a.addChild(d,-2)},onExit:function(){this._super()}}),Mm=Z.extend({e:"Sprite & SpriteBatchNode Visibility",
ctor:function(){this._super();U.addSpriteFrames(H);var a=cc.SpriteBatchNode.create(F,50);a.setPosition(cc.p(r.width/3,r.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);
b.addChild(d,2);b.runAction(cc.Blink.create(5,10));a=cc.Node.create();a.setPosition(cc.p(2*r.width/3,r.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,
10))},onExit:function(){this._super()}}),Nm=Z.extend({e:"Sprite & SpriteBatchNode Visibility",h:"No sprites should be visible",ctor:function(){this._super();U.addSpriteFrames(H);var a=cc.SpriteBatchNode.create(F,50);a.setPosition(cc.p(r.width/3,r.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.Node.create();a.setPosition(cc.p(2*r.width/3,r.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);
b.addChild(c,-2);b.addChild(d,2)}}),Om=Z.extend({e:"Sprite: children + anchor",ctor:function(){this._super();U.addSpriteFrames(H);var a=cc.Node.create();this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/4,r.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/2,r.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/
2+r.width/4,r.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());
this.addChild(c,10)},onExit:function(){this._super()}}),Pm=Z.extend({e:"SpriteBatchNode: children + anchor",ctor:function(){this._super();U.addSpriteFrames(H);var a=cc.SpriteBatchNode.create(F,50);this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/4,r.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/2,r.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(r.width/
2+r.width/4,r.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create(C);c.setScale(0.25);c.setPosition(b.getPosition());
this.addChild(c,10)},onExit:function(){this._super()}}),Qm=Z.extend({e:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();U.addSpriteFrames(ac);var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=cc.Node.create(),c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(r.width/4,r.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,
0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create(Rb);c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*r.width/4,r.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);
a=cc.Node.create();c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(r.width/4,2*r.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create(Rb);c=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister1.png"));
c.setPosition(cc.p(3*r.width/4,2*r.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b)}}),Rm=Z.extend({e:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();U.addSpriteFrames($b);var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.Node.create();this.addChild(a);var d=
cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("father.gif"));d.setPosition(cc.p(r.width/2,r.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var h=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();
d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+h.width/2,-100+h.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+h.width/2,100+h.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));
a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),Sm=Z.extend({e:"SpriteBatchNode multiple levels of children",ctor:function(){this._super();U.addSpriteFrames($b);var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.SpriteBatchNode.create(Qb);this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("father.gif"));d.setPosition(cc.p(r.width/2,r.height/2));d.runAction(b.copy());a.addChild(d);
var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var h=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+h.width/2,-100+h.height/2));
a.addChild(d);d=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+h.width/2,100+h.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(U.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),Tm=Z.extend({e:"Sprite without texture",
h:"opacity and color should work",ctor:function(){this._super();var a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.c3b(255,0,0));a.setOpacity(128);a.setPosition(cc.p(3*r.width/4,r.height/2));this.addChild(a,100);a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.c3b(0,0,255));a.setOpacity(128);a.setPosition(cc.p(r.width/4,r.height/2));this.addChild(a,100)}}),Um=cc.Sprite.extend({ag:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});
Um.ti=function(){var a=U.getSpriteFrame("father.gif"),b=new Um;b.initWithSpriteFrame(a);return b};var Vm=cc.Sprite.extend({ag:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});Vm.si=function(){var a=z,b=new Vm;b.init(a);return b};
var Wm=Z.extend({e:"Sprite subclass",h:"Testing initWithTexture:rect method",ctor:function(){this._super();U.addSpriteFrames($b);var a=cc.SpriteBatchNode.create(Qb),b=Um.ti();b.setPosition(cc.p(r.width/4,r.height/2));a.addChild(b);this.addChild(a);a=Vm.si();this.addChild(a);a.setPosition(cc.p(3*(r.width/4),r.height/2))}}),Xm=Z.extend({e:"AnimationCache",h:"Sprite should be animated",ctor:function(){this._super();U.addSpriteFrames(H);U.addSpriteFrames(I);U.addSpriteFrames(Yb);var a=[],b;b="";for(var c=
1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=U.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance");a=[];for(c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=U.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_gray");a=[];for(c=1;4>c;c++)b="grossini_blue_0"+c+".png",b=U.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,
"dance_blue");b=cc.AnimationCache.getInstance();c=b.getAnimation("dance");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_gray");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_blue");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,a,b);b=U.getSpriteFrame("grossini_dance_01.png");b=cc.Sprite.createWithSpriteFrame(b);b.setPosition(cc.p(r.width/2,r.height/2));this.addChild(b);b.runAction(a)}}),Ym=Z.extend({oa:i,L:i,Q:i,
Ba:i,Za:i,$a:i,e:"node sort same index",h:"tag order in console should be 2,1,3,4,5",ctor:function(){this._super();this.oa=cc.Node.create();this.addChild(this.oa,0,0);this.L=cc.Sprite.create(Lb,cc.rect(128,0,64,64));this.L.setPosition(cc.p(100,160));this.oa.addChild(this.L,-6,1);this.Q=cc.Sprite.create(Lb,cc.rect(128,0,64,64));this.Q.setPosition(cc.p(164,160));this.oa.addChild(this.Q,-6,2);this.Za=cc.Sprite.create(Lb,cc.rect(128,0,64,64));this.Za.setPosition(cc.p(292,160));this.oa.addChild(this.Za,
-3,4);this.Ba=cc.Sprite.create(Lb,cc.rect(128,0,64,64));this.Ba.setPosition(cc.p(228,160));this.oa.addChild(this.Ba,-4,3);this.$a=cc.Sprite.create(Lb,cc.rect(128,0,64,64));this.$a.setPosition(cc.p(356,160));this.oa.addChild(this.$a,-3,5);this.schedule(this.ma)},ma:function(){this.unschedule(this.ma);cc.log("Before reorder--");for(var a=0,b,c=this.oa.getChildren(),a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder());this.oa.reorderChild(this.oa.getChildren()[0],-6);this.oa.sortAllChildren();
cc.log("After reorder--");c=this.oa.getChildren();for(a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder())}}),Zm=Z.extend({l:i,L:i,Q:i,Ba:i,Za:i,$a:i,e:"SpriteBatchNodeReorder same index",h:"tag order in console should be 2,3,4,5,1",ctor:function(){this._super();this.l=cc.SpriteBatchNode.create(Lb,15);this.addChild(this.l,1,0);this.L=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(128,0,64,64));this.L.setPosition(cc.p(100,160));this.l.addChild(this.L,3,1);this.Q=cc.Sprite.createWithTexture(this.l.getTexture(),
cc.rect(128,0,64,64));this.Q.setPosition(cc.p(164,160));this.l.addChild(this.Q,4,2);this.Ba=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(128,0,64,64));this.Ba.setPosition(cc.p(228,160));this.l.addChild(this.Ba,4,3);this.Za=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(128,0,64,64));this.Za.setPosition(cc.p(292,160));this.l.addChild(this.Za,5,4);this.$a=cc.Sprite.createWithTexture(this.l.getTexture(),cc.rect(128,0,64,64));this.$a.setPosition(cc.p(356,160));this.l.addChild(this.$a,
6,5);this.scheduleOnce(this.ma,2)},ma:function(){this.l.reorderChild(this.Za,4);this.l.reorderChild(this.$a,4);this.l.reorderChild(this.L,4);this.l.sortAllChildren();for(var a=this.l.getDescendants(),b=0;b<a.length;b++)cc.log("tag:"+a[b].getTag())}}),$m=Z.extend({l:i,Id:i,e:"SpriteBatchNode reorder 1 child",ctor:function(){this._super();U.addSpriteFrames($b);var a=cc.SpriteBatchNode.create(Qb);this.l=a;this.addChild(a);var b=cc.Sprite.createWithSpriteFrameName("father.gif");b.setPosition(cc.p(r.width/
2,r.height/2));a.addChild(b);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrameName("sister1.gif");d.setPosition(cc.p(-10+c.width/2,0+c.height/2));b.addChild(d,1);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrameName("sister2.gif");a.setPosition(cc.p(50+c.width/2,0+c.height/2));b.addChild(a,2);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,1);c=cc.Sprite.createWithSpriteFrameName("child1.gif");
c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,2);this.Id=d;d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d);this.scheduleOnce(this.ma,2)},ma:function(){this.Id.getParent().reorderChild(this.Id,-1);this.l.sortAllChildren()}}),an=Z.extend({e:"SpriteBatchNode + children + skew",
h:"SpriteBatchNode skew + negative scale with children",ctor:function(){this._super();var a=U;a.addSpriteFrames(H);a.addSpriteFrames(I,G);a=cc.SpriteBatchNode.create(F);this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(r.width/4*(b+1),r.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),h=cc.SkewBy.create(2,0,45),l=h.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,h,l);c.runAction(cc.RepeatForever.create(d));d=
cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));d.setScale(0.8);c.addChild(d);a.addChild(c,b)}}}),bn=Z.extend({e:"Sprite + children + skew",h:"Sprite skew + negative scale with children",ctor:function(){this._super();var a=U;a.addSpriteFrames(H);a.addSpriteFrames(I,G);a=cc.Node.create();this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(r.width/
4*(b+1),r.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),h=cc.SkewBy.create(2,0,45),l=h.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,h,l);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));c.addChild(d);d.setScale(0.8);a.addChild(c,b)}}}),cn=cc.Sprite.extend({ye:j,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)},initWithTexture:function(a,
b){return this._super(a,b)?g:j},setContentSize:function(a){a=cc.size(a.width,a.height);2==cc.CONTENT_SCALE_FACTOR()&&!this.ye&&(a.width*=2,a.height*=2);this._super(a)},setVertexRect:function(a){2==cc.CONTENT_SCALE_FACTOR()&&!this.ye&&(a.size.width*=2,a.size.height*=2);this._super(a)}});cn.create=function(a){var b=new cn;b.init(a);return b};
var dn=Z.extend({e:"Sprite Double resolution",h:"Retina Display. SD (left) should be equal to HD (right)",ctor:function(){this._super();var a=cn.create(mc);this.addChild(a);a.setPosition(cc.p(r.width/4,r.height/2));var b=cn.create(mc);a.addChild(b);b.setPosition(cc.p(-30,0));var c=cc.Sprite.create(z);a.addChild(c);b.setPosition(cc.p(a.getContentSize().height,0));b=cc.Sprite.create(z);this.addChild(b);b.setPosition(cc.p(3*(r.width/4),r.height/2));c=cn.create(mc);b.addChild(c);c.setPosition(cc.p(-30,
0));var d=cc.Sprite.create(z);b.addChild(d);c.setPosition(cc.p(b.getContentSize().height,0));c=cc.ScaleBy.create(2,0.5);d=c.reverse();c=cc.Sequence.create(c,d);d=c.copy();a.runAction(c);b.runAction(d)}}),en=Z.extend({e:"AnimationCache - Load file",h:"Sprite should be animated",ctor:function(){this._super();var a=U;a.addSpriteFrames(H);a.addSpriteFrames(I);a.addSpriteFrames(Yb);cc.AnimationCache.purgeSharedAnimationCache();var b=cc.AnimationCache.getInstance();b.addAnimations(dc);var c=b.getAnimation("dance_1");
c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_2");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_3");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,a,b);b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(r.width/2,r.height/2));this.addChild(b);b.runAction(a)}}),fn=Z.extend({e:"SpriteBatch - Bug 1217",h:"Adding big family to spritebatch. You shall see 3 heads",ctor:function(){this._super();
var a=cc.SpriteBatchNode.create(E,15),b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57));b.setColor(cc.c3b(255,0,0));c.setColor(cc.c3b(0,255,0));d.setColor(cc.c3b(0,0,255));b.setPosition(cc.p(20,200));c.setPosition(cc.p(100,0));d.setPosition(cc.p(100,0));a.setPosition(cc.p(0,0));b.addChild(c);c.addChild(d);a.addChild(b);this.addChild(a)}}),gn=Z.extend({e:"Texture Color Cache Issue Test",
h:"You should see two different sprites colored green and blue",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames(Ub,Sb);a.addSpriteFrames(Vb,Tb);a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(r.width/3),r.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(r.width/3),r.height/2);this.addChild(a);this.addChild(b);a.setColor(cc.c3b(1,255,1));b.setColor(cc.c3b(1,1,255))}}),hn=Z.extend({e:"Texture Color Cache Issue Test #2",
h:"You should see two different sprites magenta and yellow",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames(Ub,Sb);a.addSpriteFrames(Vb,Tb);a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(r.width/3),r.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(r.width/3),r.height/2);this.addChild(a);this.addChild(b);for(var c=0;10>c;++c)b.setColor(cc.c3b(128,128,128+c)),a.setColor(cc.c3b(128,
128,128+c));a.setColor(cc.c3b(255,255,0));b.setColor(cc.c3b(255,0,255))}}),jn=Z.extend({e:"Sub Sprite (rotated source)",h:"createWithSpriteFrameName(); sub sprite",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames(Xb);var a=cc.Sprite.createWithSpriteFrameName("blocks9r.png"),b=r.width/2,c=0+r.height/2;a.setTextureRect(cc.rect(32,32,32,32),g,cc.rect(32,32,32,32));a.setPosition(cc.p(b,c));this.addChild(a)}}),Ua=w.extend({q:function(){Yl=-1;this.addChild($l());q.replaceScene(this)}}),
Zl=[bm,cm,wm,xm,nm,om,ym,zm,Am,Bm,Im,dm,em,fm,gm,hm,im,jm,km,lm,mm,pm,qm,rm,sm,tm,um,vm,Jm,Km,Lm,Mm,Nm,Om,Pm,Qm,Rm,Sm,Tm,Wm,Xm,Cm,Dm,Em,Fm,Gm,Hm,Zm,$m,Ym,bn,an,dn,fn,en,gn,hn,jn];function $l(){Yl++;Yl%=Zl.length;return new Zl[Yl]}function am(){Yl--;0>Yl&&(Yl+=Zl.length);return new Zl[Yl]};var kn=-1,on=J.extend({e:"",h:"",ctor:function(){this._super(cc.c4b(0,0,0,255),cc.c4b(98,99,117,255))},C:function(){var a=new fb;a.addChild(new ln[kn]);q.replaceScene(a)},B:function(){var a=new fb;a.addChild(mn());q.replaceScene(a)},A:function(){var a=new fb;a.addChild(nn());q.replaceScene(a)},G:function(){return ln.length-1-kn},D:function(){return kn}}),pn=on.extend({e:"LocalStorage Test ",h:"See the console",ctor:function(){this._super();var a="key_"+Math.random(),b=sys.localStorage;cc.log(1);b.setItem(a,
"Hello world");cc.log(2);var c=b.getItem(a);cc.log(c);cc.log(3);b.removeItem(a);cc.log(4);c=b.getItem(a);cc.log(c)}}),qn=on.extend({e:"Capabilities Test ",h:"See the console",ctor:function(){this._super();var a=sys.j,b;for(b in a)cc.log(b+" = "+a[b])}}),fb=w.extend({q:function(){kn=-1;this.addChild(mn());q.replaceScene(this)}}),ln=[pn,qn];function mn(){kn++;kn%=ln.length;return new ln[kn]}function nn(){kn--;0>kn&&(kn+=ln.length);return new ln[kn]};Rg="Thonburi";Sg=36;S=-1;function rn(a){var b=a.getPosition(),a=a.getContentSize(),b=cc.rect(b.x,b.y,a.width,a.height);b.origin.x-=b.size.width/2;b.origin.y-=b.size.height/2;return b}
var vn=cc.Layer.extend({sk:i,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},Pa:function(){var a=new Xa;a.addChild(new sn[S]);cc.Director.getInstance().replaceScene(a)},fb:function(){var a=new Xa;a.addChild(tn());cc.Director.getInstance().replaceScene(a)},gc:function(){var a=new Xa;a.addChild(un());cc.Director.getInstance().replaceScene(a)},title:m("text input test"),Mj:function(a){this.addChild(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),
b=cc.LabelTTF.create(this.title(),"Arial",24);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height-50));if((b=this.d())&&""!==b)b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80));var b=cc.MenuItemImage.create(hb,ib,this.gc,this),c=cc.MenuItemImage.create(C,jb,this.Pa,this),d=cc.MenuItemImage.create(kb,lb,this.fb,this),f=cc.Menu.create(b,c,d);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/2-100,30));c.setPosition(cc.p(a.width/2,30));d.setPosition(cc.p(a.width/
2+100,30));this.addChild(f,1)}}).extend({Ca:i,Fe:i,ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g)},d:m(""),gd:k(),keyboardWillShow:function(a){cc.log("TextInputTest:keyboardWillShowAt(origin:"+a.end.origin.x+","+a.end.origin.y+", size:"+a.end.size.width+","+a.end.size.height+")");if(this.Ca){var b=rn(this.Ca);cc.log("TextInputTest:trackingNodeAt(origin:"+a.end.origin.x+","+a.end.origin.y+", size:"+a.end.size.width+","+a.end.size.height+
")");if(cc.Rect.CCRectIntersectsRect(b,a.end)){a=cc.Rect.CCRectGetMaxY(a.end)-cc.Rect.CCRectGetMinY(b);cc.log("TextInputTest:needAdjustVerticalPosition("+a+")");for(var b=this.getChildren(),c=0;c<b.length;++c){var d=b[c],f=d.getPosition();f.y+=a;d.setPosition(f)}}}},onTouchesEnded:function(a){if(this.Ca&&0!=a.length){a=a[0].getLocation();cc.log("KeyboardNotificationLayer:clickedAt("+a.x+","+a.y+")");var b=rn(this.Ca);cc.log("KeyboardNotificationLayer:TrackNode at(origin:"+b.origin.x+","+b.origin.y+
", size:"+b.size.width+","+b.size.height+")");this.gd(cc.Rect.CCRectContainsPoint(b,a));cc.log("----------------------------------")}},onMouseUp:function(a){if(this.Ca){a=a.getLocation();cc.log("KeyboardNotificationLayer:clickedAt("+a.x+","+a.y+")");var b=rn(this.Ca);cc.log("KeyboardNotificationLayer:TrackNode at(origin:"+b.origin.x+","+b.origin.y+", size:"+b.size.width+","+b.size.height+")");this.gd(cc.Rect.CCRectContainsPoint(b,a));cc.log("----------------------------------")}}}),wn=vn.extend({d:m("TextFieldTTF with default behavior test"),
gd:function(a){var b=this.Ca;a?(cc.log("TextFieldTTFDefaultTest:CCTextFieldTTF attachWithIME"),b.attachWithIME()):(cc.log("TextFieldTTFDefaultTest:CCTextFieldTTF detachWithIME"),b.detachWithIME())},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.TextFieldTTF.create("<click here for input>",Rg,Sg);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2));this.Ca=b}}),xn=vn.extend({ab:i,Ld:i,ac:j,He:0,ctor:function(){this._super()},Qe:function(a){this.removeChild(a,
g)},d:m("CCTextFieldTTF with action and char limit test"),gd:function(a){var b=this.Ca;a?(cc.log("TextFieldTTFActionTest:CCTextFieldTTF attachWithIME"),b.attachWithIME()):(cc.log("TextFieldTTFActionTest:CCTextFieldTTF detachWithIME"),b.detachWithIME())},onEnter:function(){this._super();this.He=20;this.Ld=cc.RepeatForever.create(cc.Sequence.create(cc.FadeOut.create(0.25),cc.FadeIn.create(0.25)));this.ac=j;var a=cc.Director.getInstance().getWinSize();this.ab=cc.TextFieldTTF.create("<click here for input>",
Rg,Sg);this.addChild(this.ab);this.ab.setDelegate(this);this.ab.setPosition(cc.p(a.width/2,a.height/2));this.Ca=this.ab},onExit:function(){this._super()},onTextFieldAttachWithIME:function(){this.ac||(this.ab.runAction(this.Ld),this.ac=g);return j},onTextFieldDetachWithIME:function(){this.ac&&(this.ab.stopAction(this.Ld),this.ab.setOpacity(255),this.ac=j);return j},onTextFieldInsertText:function(a,b){if("\n"==b)return j;if(a.getCharCount()>=this.He)return g;var c=cc.LabelTTF.create(b,Rg,Sg);this.addChild(c);
var d=new cc.Color3B(226,121,7);c.setColor(d);d=cc.p(a.getPositionX(),a.getPositionY());a.getCharCount()&&(d.x+=a.getContentSize().width/2);var f=c.getContentSize(),f=cc.p(d.x,cc.Director.getInstance().getWinSize().height-2*f.height);c.setPosition(f);c.setScale(8);d=cc.Sequence.create(cc.Spawn.create(cc.MoveTo.create(0.5,d),cc.ScaleTo.create(0.5,1),cc.FadeOut.create(0.5)),cc.CallFunc.create(this.Qe,this));c.runAction(d);return j},onTextFieldDeleteBackward:function(a,b){var c=cc.LabelTTF.create(b,
Rg,Sg);this.addChild(c);var d=cc.p(a.getPositionX(),a.getPositionY()),f=a.getContentSize(),h=c.getContentSize();d.x+=(f.width-h.width)/2;f=cc.Director.getInstance().getWinSize();f=cc.p(-f.width/4,f.height*(0.5+Math.random()/2));c.setPosition(d);d=cc.Sequence.create(cc.Spawn.create(cc.MoveTo.create(1,f),cc.Repeat.create(cc.RotateBy.create(0.2,Math.random()%2?360:-360),5),cc.FadeOut.create(1)),cc.CallFunc.create(this.Qe,this));c.runAction(d);return j},onDraw:m(j)}),Xa=w.extend({q:function(){S=-1;this.addChild(tn());
cc.Director.getInstance().replaceScene(this)}}),sn=[wn,xn];function tn(){S++;S%=sn.length;return new sn[S]}function un(){S--;0>S&&(S+=sn.length);return new sn[S]};var yn=cc.Layer.extend({Lc:i,cc:i,Je:20,Hd:0,ctor:function(){var a=cc.Director.getInstance().getWinSize();this.Lc=cc.LabelTTF.create("loading...","Arial",15);this.cc=cc.LabelTTF.create("%0","Arial",15);this.Lc.setPosition(cc.p(a.width/2,a.height/2-20));this.cc.setPosition(cc.p(a.width/2,a.height/2+20));this.addChild(this.Lc);this.addChild(this.cc);cc.TextureCache.getInstance().addImageAsync("res/Images/HelloWorld.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini.png",
this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_01.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_02.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_03.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_04.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_05.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_06.png",
this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_07.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_08.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_09.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_10.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_11.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_12.png",
this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_13.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/grossini_dance_14.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/background1.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/background2.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/background3.png",this,this.P);cc.TextureCache.getInstance().addImageAsync("res/Images/blocks.png",
this,this.P)},Ea:function(){var a=cc.Director.getInstance().getWinSize(),b=cc.Sprite.create("res/Images/HelloWorld.png");b.setPosition(cc.p(a.width/2,a.height/2));var a=cc.Sprite.create("res/Images/grossini.png"),c=cc.Sprite.create("res/Images/grossini_dance_01.png"),d=cc.Sprite.create("res/Images/grossini_dance_02.png"),f=cc.Sprite.create("res/Images/grossini_dance_03.png"),h=cc.Sprite.create("res/Images/grossini_dance_04.png"),l=cc.Sprite.create("res/Images/grossini_dance_05.png"),o=cc.Sprite.create("res/Images/grossini_dance_06.png"),
u=cc.Sprite.create("res/Images/grossini_dance_07.png"),x=cc.Sprite.create("res/Images/grossini_dance_08.png"),p=cc.Sprite.create("res/Images/grossini_dance_09.png"),t=cc.Sprite.create("res/Images/grossini_dance_10.png"),K=cc.Sprite.create("res/Images/grossini_dance_11.png"),T=cc.Sprite.create("res/Images/grossini_dance_12.png"),Pf=cc.Sprite.create("res/Images/grossini_dance_13.png"),Qf=cc.Sprite.create("res/Images/grossini_dance_14.png");cc.Sprite.create("res/Images/background1.png");cc.Sprite.create("res/Images/background2.png");
cc.Sprite.create("res/Images/background3.png");cc.Sprite.create("res/Images/blocks.png");a.setPosition(cc.p(50,50));c.setPosition(cc.p(60,50));d.setPosition(cc.p(70,50));f.setPosition(cc.p(80,50));h.setPosition(cc.p(90,50));l.setPosition(cc.p(100,50));o.setPosition(cc.p(50,180));u.setPosition(cc.p(60,180));x.setPosition(cc.p(70,180));p.setPosition(cc.p(80,180));t.setPosition(cc.p(90,180));K.setPosition(cc.p(100,180));T.setPosition(cc.p(50,270));Pf.setPosition(cc.p(60,270));Qf.setPosition(cc.p(70,
270));this.addChild(b);this.addChild(a);this.addChild(c);this.addChild(d);this.addChild(f);this.addChild(h);this.addChild(l);this.addChild(o);this.addChild(u);this.addChild(x);this.addChild(p);this.addChild(t);this.addChild(K);this.addChild(T);this.addChild(Pf);this.addChild(Qf)},P:function(){++this.Hd;this.cc=100*(this.Hd/this.Je);this.Hd==this.Je&&(this.removeChild(this.Lc,g),this.removeChild(this.cc,g),this.Ea())}}),Ya=w.extend({q:function(){this.addChild(new yn);cc.Director.getInstance().replaceScene(this)}});var Y=1,zn=-1,$=J.extend({ctor:function(){this._super();"touches"in sys.j?this.setTouchEnabled(g):"mouse"in sys.j&&this.setMouseEnabled(g)},title:m("No title"),d:m("drag the screen"),C:function(){var a=new $a;a.addChild(new An[zn]);q.replaceScene(a)},B:function(){var a=new $a;a.addChild(Bn());q.replaceScene(a)},A:function(){var a=new $a;a.addChild(Cn());q.replaceScene(a)},onTouchesMoved:function(a){var b=a[0].getDelta(),a=this.getChildByTag(Y),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},onMouseDragged:function(a){var b=
a.getDelta(),a=this.getChildByTag(Y),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},G:function(){return An.length-1-zn},D:function(){return zn}});
$.extend({ctor:function(){this._super();var a=cc.Vf.create(xc,yc,16,16);a.getTexture().setAntiAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);a.releaseMap();this.addChild(a,0,Y);a.setAnchorPoint(cc.p(0,0.5));var b=cc.ScaleBy.create(4,0.8),c=b.reverse(),b=cc.Sequence.create(b,c);a.runAction(cc.RepeatForever.create(b))},title:m("TileMapAtlas")});
$.extend({ctor:function(){this._super();var a=cc.Vf.create(xc,yc,16,16);a.getTexture().setAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);this.schedule(this.Ti,0.2);this.addChild(a,0,Y);a.setAnchorPoint(cc.p(0,0));a.setPosition(cc.p(-20,-200))},title:m("Editable TileMapAtlas"),Ti:function(){var a=this.getChildByTag(Y),b=a.getTileAt(cc.g(13,21));b.r++;b.r%=50;0==b.r&&(b.r=1);a.setTile(b,cc.g(13,21))}});
var Dn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test1.tmx");this.addChild(a,0,Y);a.runAction(cc.ScaleBy.create(2,0.5))},title:m("TMX Ortho test")}),En=$.extend({ctor:function(){this._super();this.addChild(cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test2.tmx"),0,Y)},title:m("TMX Orthogonal test 2"),onEnter:function(){this._super();q.setProjection(cc.DIRECTOR_PROJECTION_3D)},onExit:function(){this._super();q.setProjection(cc.DIRECTOR_PROJECTION_2D)}}),
Fn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test3.tmx");this.addChild(a,0,Y);a.setScale(0.2);a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX anchorPoint test")}),Gn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test4.tmx");this.addChild(a,0,Y);a.setAnchorPoint(cc.p(0,0));var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c;c=a.getTileAt(cc.p(0,0));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,0));c.setScale(2);c=
a.getTileAt(cc.p(0,b.height-1));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,b.height-1));c.setScale(2);this.schedule(this.jd,2)},jd:function(){this.unschedule(this.jd);var a=this.getChildByTag(Y).getLayer("Layer 0"),b=a.getLayerSize(),b=a.getTileAt(cc.p(b.width-1,0));a.removeChild(b,g)},title:m("TMX width/height test")}),Hn=$.extend({lk:0,ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test2.tmx");this.addChild(a,0,Y);a.getContentSize();var b=a.getLayer("Layer 0");
a.setScale(1);var a=b.getTileAt(cc.p(1,63)),c=b.getTileAt(cc.p(2,63)),d=b.getTileAt(cc.p(3,62)),f=b.getTileAt(cc.p(2,62));a.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(0.5,0.5));d.setAnchorPoint(cc.p(0.5,0.5));f.setAnchorPoint(cc.p(0.5,0.5));var h=cc.MoveBy.create(0.5,cc.p(0,160)),l=cc.RotateBy.create(2,360),o=cc.ScaleBy.create(2,5),u=cc.FadeOut.create(2),x=cc.FadeIn.create(2),p=cc.ScaleTo.create(1,1),t=cc.CallFunc.create(this.jd),h=cc.Sequence.create(h,l,o,u,x,p,t);a.runAction(h);c.runAction(h.copy());
d.runAction(h.copy());f.runAction(h.copy());b.getTileGIDAt(cc.p(0,63));this.schedule(this.Si,2);this.schedule(this.bi,2);this.schedule(this.yf,1);this.Vd=0},jd:function(a){var b=a.getParent();b&&b.removeChild(a,g)},Si:function(){for(var a=this.getChildByTag(Y).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.setTileGID(this.Vd,cc.p(3,c));this.Vd=(this.Vd+1)%80},bi:function(){for(var a=this.getChildByTag(Y).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.width;c++){var d=b.height-1,f=a.getTileGIDAt(cc.p(c,
d));a.setTileGID(f+1,cc.p(c,d))}},yf:function(){this.unschedule(this.yf);for(var a=this.getChildByTag(Y).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.removeTileAt(cc.p(5,c))},title:m("TMX Read/Write test")}),In=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);this.addChild(cc.TMXTiledMap.create(y+"TileMaps/hexa-test.tmx"),0,Y)},title:m("TMX Hex test")}),Jn=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,
64,64,255)),-1);var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test.tmx");this.addChild(a,0,Y);var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 0")}),Kn=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test1.tmx");this.addChild(a,0,Y);a.getContentSize();a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX Isometric test + anchorPoint")}),
Ln=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test2.tmx");this.addChild(a,0,Y);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 2")}),Mn=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.c4b(64,64,64,255)),-1);var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test2-uncompressed.tmx");
this.addChild(a,0,Y);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)));for(var a=a.getChildren(),b=i,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;b.releaseMap()}},title:m("TMX Uncompressed test")}),Nn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test5.tmx");this.addChild(a,0,Y);a.getContentSize()},title:m("TMX Tileset test")}),On=$.extend({ctor:function(){this._super();
var a=cc.TMXTiledMap.create(y+"TileMaps/ortho-objects.tmx");this.addChild(a,-1,Y);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){for(var a=this.getChildByTag(Y).getObjectGroup("Object Group 1").getObjects(),b=0;b<a.length;b++){var c=a[b];if(!c)break;var d=c.x,f=c.y,h=c.width,c=c.height;cc.renderContext.lineWidth=
3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(d,f),cc.p(d+h,f));cc.drawingUtil.drawLine(cc.p(d+h,f),cc.p(d+h,f+c));cc.drawingUtil.drawLine(cc.p(d+h,f+c),cc.p(d,f+c));cc.drawingUtil.drawLine(cc.p(d,f+c),cc.p(d,f));cc.renderContext.lineWidth=1}},title:m("TMX Ortho object test"),d:m("You should see a white box around the 3 platforms")}),Pn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test-objectgroup.tmx");this.addChild(a,-1,Y);a.getContentSize();
for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},title:m("TMX Iso object test"),draw:function(){for(var a=this.getChildByTag(Y).getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,h=b.y,l=b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,
h),cc.p(f+l,h));cc.drawingUtil.drawLine(cc.p(f+l,h),cc.p(f+l,h+b));cc.drawingUtil.drawLine(cc.p(f+l,h+b),cc.p(f,h+b));cc.drawingUtil.drawLine(cc.p(f,h+b),cc.p(f,h));cc.renderContext.lineWidth=1}},d:m("You need to parse them manually. See bug #810")}),Qn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test5.tmx");this.addChild(a,0,Y);a.getContentSize();for(var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c=0;c<b.height;c++)for(var d=0;d<b.width;d++)a.setTileGID(1,
cc.p(d,c))},title:m("TMX resize test"),d:m("Should not crash. Testing issue #740")}),Rn=$.extend({H:i,ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test-zorder.tmx");this.addChild(a,0,Y);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.H=cc.Sprite.create(A);a.addChild(this.H,a.getChildren().length);this.H.setPosition(a.getMapSize().width*a.getTileSize().width/2,0);this.H.setAnchorPoint(cc.p(0.5,0));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();
a=cc.Sequence.create(a,b);this.H.runAction(cc.RepeatForever.create(a));this.schedule(this.qd)},title:m("TMX Iso Zorder"),d:m("Sprite should hide behind the trees"),onExit:function(){this.unschedule(this.qd);this._super()},qd:function(){var a=this.H.getPosition(),b=this.getChildByTag(Y),a=4-a.y/48,a=parseInt(Math.max(a,0),10);b.reorderChild(this.H,a)}}),Sn=$.extend({H:i,ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test-zorder.tmx");this.addChild(a,0,Y);a.getContentSize();
this.H=cc.Sprite.create(A);a.addChild(this.H,a.getChildren().length,Y);this.H.setAnchorPoint(cc.p(0.5,0));var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.H.runAction(cc.RepeatForever.create(a));this.schedule(this.qd)},title:m("TMX Ortho Zorder"),d:m("Sprite should hide behind the trees"),qd:function(){var a=this.H.getPosition(),b=this.getChildByTag(Y),a=4-(a.y-10)/81,a=Math.max(a,0);b.reorderChild(this.H,a)}}),Tn=$.extend({H:i,Mk:i,ctor:function(){this._super();
var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test-vertexz.tmx");this.addChild(a,0,Y);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.H=a.getLayer("Trees").getTileAt(cc.p(29,29));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();a=cc.Sequence.create(a,b);this.H.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},title:m("TMX Iso VertexZ"),d:m("Sprite should hide behind the trees"),onEnter:function(){this._super();q.setProjection(cc.DIRECTOR_PROJECTION_2D)},onExit:function(){this._super()},
update:function(){this.H.setVertexZ(-((this.H.getPosition().y+32)/16))}}),Un=$.extend({H:i,ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test-vertexz.tmx");this.addChild(a,0,Y);a.getContentSize();this.H=a.getLayer("trees").getTileAt(cc.p(0,11));this.log("vertexZ: "+this.H.getVertexZ());var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.H.runAction(cc.RepeatForever.create(a));this.scheduleUpdate();this.log("DEPTH BUFFER MUST EXIST IN ORDER")},
title:m("TMX Ortho vertexZ"),d:m("Sprite should hide behind the trees"),onEnter:function(){this._super();q.setProjection(cc.DIRECTOR_PROJECTION_2D)},onExit:function(){this._super()},update:function(){this.H.setVertexZ(-((this.H.getPosition().y+81)/81))}}),Vn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test-movelayer.tmx");this.addChild(a,0,Y);a.setPosition(cc.p(-700,-50));a.getContentSize()},title:m("TMX Iso Move Layer"),d:m("Trees should be horizontally aligned")}),
Wn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test-movelayer.tmx");this.addChild(a,0,Y);a.getContentSize()},title:m("TMX Ortho Move Layer"),d:m("Trees should be horizontally aligned")}),Xn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/ortho-tile-property.tmx");this.addChild(a,0,Y);if("browser"==sys.platform)for(var b=1;20>=b;b++)this.log("GID:"+b+", Properties:"+JSON.stringify(a.propertiesForGID(b)));else this.log("Test not supported on JSB")},
title:m("TMX Tile Property Test"),d:m("In the console you should see tile properties")}),Yn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,Y);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b)},title:m("TMX tile flip test")}),Zn=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,Y);var b=
a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b);this.schedule(this.eh,1)},title:m("TMX tile flip run time test"),d:m("in 2 sec bottom left tiles will flip"),eh:function(){var a=this.getChildByTag(Y).getLayer("Layer 0"),b=cc.p(1,10),c=a.getTileFlagsAt(b),d=a.getTileGIDAt(b),c=(c&cc.TMX_TILE_VERTICAL_FLAG)>>>0?(c&~cc.TMX_TILE_VERTICAL_FLAG>>>0)>>>0:(c|cc.TMX_TILE_VERTICAL_FLAG)>>>0;a.setTileGID(d,b,c);b=cc.p(1,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);
c=(c&cc.TMX_TILE_VERTICAL_FLAG)>>>0?(c&~cc.TMX_TILE_VERTICAL_FLAG>>>0)>>>0:(c|cc.TMX_TILE_VERTICAL_FLAG)>>>0;a.setTileGID(d,b,c);b=cc.p(2,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.TMX_TILE_HORIZONTAL_FLAG)>>>0?(c&~cc.TMX_TILE_HORIZONTAL_FLAG>>>0)>>>0:(c|cc.TMX_TILE_HORIZONTAL_FLAG)>>>0;a.setTileGID(d,b,c)}}),$n=$.extend({ctor:function(){this._super();this.log("Test not available")},title:m("TMX created from XML test"),d:m("Test not available")}),ao=$.extend({ctor:function(){this._super();
var a=cc.TMXTiledMap.create(y+"TileMaps/orthogonal-test6.tmx");this.addChild(a,0,Y);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);for(var b=a.getChildren(),c=i,d=0,f=b.length;d<f&&!(c=b[d],!c);d++);a.setAnchorPoint(cc.p(0,0));a.getLayer("Tile Layer 1").setTileGID(3,cc.p(2,2))},title:m("TMX Bug 987"),d:m("You should see an square")}),bo=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/iso-test-bug787.tmx");this.addChild(a,0,Y);a.setScale(0.25)},
title:m("TMX Bug 787"),d:m("You should see a map")}),co=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create(y+"TileMaps/test-object-layer.tmx");this.addChild(a,-1,Y);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);this.log("---. Iterating over all the group objets");for(var a=a.getObjectGroup("Object Layer 1").getObjects(),c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},title:m("TMX GID objects"),d:m("Tiles are created from an object group"),
draw:function(){for(var a=this.getChildByTag(Y).getObjectGroup("Object Layer 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,h=b.y,l=b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,h),cc.p(f+l,h));cc.drawingUtil.drawLine(cc.p(f+l,h),cc.p(f+l,h+b));cc.drawingUtil.drawLine(cc.p(f+l,h+b),cc.p(f,h+b));cc.drawingUtil.drawLine(cc.p(f,h+b),cc.p(f,h));cc.renderContext.lineWidth=1}}}),$a=w.extend({q:function(){zn=
-1;this.addChild(Bn());q.replaceScene(this)}}),An=[Dn,En,Fn,Gn,Hn,In,Jn,Kn,Ln,Mn,Nn,On,Pn,Qn,Rn,Sn,Tn,Un,Vn,Wn,Xn,Yn,Zn,$n,ao,bo,co];function Bn(){zn++;zn%=An.length;return new An[zn]}function Cn(){zn--;0>zn&&(zn+=An.length);return new An[zn]};var eo=cc.Sprite.extend({wa:cc.p(0,0),Me:0,radius:ba("Me"),Bf:aa("Me"),move:function(a){this.setPosition(cc.pAdd(this.getPosition(),cc.pMult(this.wa,a)));a=cc.Director.getInstance().getWinSize();this.getPosition().x>a.width-this.radius()?(this.setPosition(cc.p(a.width-this.radius(),this.getPosition().y)),this.wa.x*=-1):this.getPosition().x<this.radius()&&(this.setPosition(cc.p(this.radius(),this.getPosition().y)),this.wa.x*=-1)},lg:function(a){var b=a.rect();b.origin.x+=a.getPosition().x;b.origin.y+=
a.getPosition().y;var c=cc.Rect.CCRectGetMinY(b),d=cc.Rect.CCRectGetMidY(b),f=cc.Rect.CCRectGetMaxY(b),h=cc.Rect.CCRectGetMinX(b),b=cc.Rect.CCRectGetMaxX(b);if(this.getPosition().x>h&&this.getPosition().x<b&&(h=j,b=0,this.getPositionY()>d&&this.getPositionY()<=f+this.radius()?(this.setPosition(cc.p(this.getPosition().x,f+this.radius())),h=g,b=Math.PI/2):this.getPosition().y<d&&this.getPosition().y>=c-this.radius()&&(this.setPosition(cc.p(this.getPosition().x,c-this.radius())),h=g,b=-Math.PI/2),h))c=
cc.pToAngle(cc.pSub(a.getPosition(),this.getPosition()))+b,a=1.00000005*cc.pLength(this.wa),c=-cc.pToAngle(this.wa)+5.0E-8*c,this.wa=cc.pMult(cc.pForAngle(c),a)},Df:aa("wa"),kk:ba("wa")});eo.ig=function(){var a=cc.TextureCache.getInstance().addImage(Ab),b=new eo;b.initWithTexture(a);a instanceof cc.Texture2D?b.Bf(a.getContentSize().width/2):(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement)&&b.Bf(a.width/2);return b};var fo=cc.Sprite.extend({Ub:1,Tb:i,rect:function(){return cc.rect(-this.Tb.size.width/2,-this.Tb.size.height/2,this.Tb.size.width,this.Tb.size.height)},initWithTexture:function(a){this._super(a)&&(this.Ub=1);if(a instanceof cc.Texture2D)a=a.getContentSize(),this.Tb=cc.rect(0,0,a.width,a.height);else if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement)this.Tb=cc.rect(0,0,a.width,a.height);return g},onEnter:function(){cc.Director.getInstance().getTouchDispatcher().addTargetedDelegate(this,
0,g);this._super()},onExit:function(){cc.Director.getInstance().getTouchDispatcher().removeDelegate(this);this._super()},og:function(a){var a=a.getLocation(),b=this.rect();b.origin.x+=this.getPosition().x;b.origin.y+=this.getPosition().y;return cc.Rect.CCRectContainsPoint(b,a)},onTouchBegan:function(a){if(1!=this.Ub||!this.og(a))return j;this.Ub=0;return g},onTouchMoved:function(a){cc.Assert(0==this.Ub,"Paddle - Unexpected state!");a=a.getLocation();this.setPosition(cc.p(a.x,this.getPosition().y))},
onTouchEnded:function(){cc.Assert(0==this.Ub,"Paddle - Unexpected state!");this.Ub=1},touchDelegateRetain:k(),touchDelegateRelease:k()});fo.ld=function(a){var b=new fo;b.initWithTexture(a);return b};var bb=w.extend({ctor:function(){this._super(g);this.addChild(new go)},q:function(){cc.Director.getInstance().replaceScene(this)},nj:function(a){this._super(a)}}),go=cc.Layer.extend({Y:i,va:[],Jb:cc.p(0,0),pa:i,ctor:function(){this.Jb=cc.p(20,-100);this.pa=cc.Director.getInstance().getWinSize();this.Y=eo.ig();this.Y.setPosition(cc.p(this.pa.width/2,this.pa.height/2));this.Y.Df(this.Jb);this.addChild(this.Y);var a=cc.TextureCache.getInstance().addImage(Bb);this.va=[];var b=fo.ld(a);b.setPosition(cc.p(this.pa.width/
2,15));this.va.push(b);b=fo.ld(a);b.setPosition(cc.p(this.pa.width/2,this.pa.height-20-15));this.va.push(b);b=fo.ld(a);b.setPosition(cc.p(this.pa.width/2,100));this.va.push(b);b=fo.ld(a);b.setPosition(cc.p(this.pa.width/2,this.pa.height-20-100));this.va.push(b);for(a=0;a<this.va.length&&this.va[a];a++)this.addChild(this.va[a]);this.schedule(this.yg)},zf:function(){this.Jb=300>Math.abs(this.Y.wa.y)?cc.pMult(this.Jb,-1.1):cc.pMult(this.Jb,-1);this.Y.Df(this.Jb);this.Y.setPosition(cc.p(this.pa.width/
2,this.pa.height/2))},yg:function(a){this.Y.move(a);for(a=0;a<this.va.length&&this.va[a];a++)this.Y.lg(this.va[a]);this.Y.getPosition().y>this.pa.height-20+this.Y.radius()?this.zf(1):this.Y.getPosition().y<-this.Y.radius()&&this.zf(0);this.Y.draw()}});TRANSITION_DURATION=1.2;
var uo=[{title:"JumpZoomTransition",N:function(a,b){return new ho(a,b)}},{title:"TransitionProgressRadialCCW",N:function(a,b){return cc.TransitionProgressRadialCCW.create(a,b)}},{title:"TransitionProgressRadialCW",N:function(a,b){return cc.TransitionProgressRadialCW.create(a,b)}},{title:"TransitionProgressHorizontal",N:function(a,b){return cc.TransitionProgressHorizontal.create(a,b)}},{title:"TransitionProgressVertical",N:function(a,b){return cc.TransitionProgressVertical.create(a,b)}},{title:"TransitionProgressInOut",
N:function(a,b){return cc.TransitionProgressInOut.create(a,b)}},{title:"TransitionProgressOutIn",N:function(a,b){return cc.TransitionProgressOutIn.create(a,b)}},{title:"FadeTransition",N:function(a,b){return new io(a,b)}},{title:"FadeWhiteTransition",N:function(a,b){return new jo(a,b)}},{title:"ShrinkGrowTransition",N:function(a,b){return new ko(a,b)}},{title:"RotoZoomTransition",N:function(a,b){return new lo(a,b)}},{title:"MoveInLTransition",N:function(a,b){return new mo(a,b)}},{title:"MoveInRTransition",
N:function(a,b){return new no(a,b)}},{title:"MoveInTTransition",N:function(a,b){return new oo(a,b)}},{title:"MoveInBTransition",N:function(a,b){return new po(a,b)}},{title:"SlideInLTransition",N:function(a,b){return new qo(a,b)}},{title:"SlideInRTransition",N:function(a,b){return new ro(a,b)}},{title:"SlideInTTransition",N:function(a,b){return new so(a,b)}},{title:"SlideInBTransition",N:function(a,b){return new to(a,b)}}],vo=0,db=w.extend({q:function(){this.addChild(new wo);q.replaceScene(this)}}),
xo=J.extend({t:TRANSITION_DURATION+0.1,title:function(){return uo[vo].title},ctor:function(){this._super(this.Ue,this.Ve);var a,b,c=q.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create(this.backgroundImage);d.setPosition(c.width/2,c.height/2);d.setScale(1.7);this.addChild(d);c=cc.LabelTTF.create(this.title(),"Thonburi",32);this.addChild(c);c.setColor(cc.c3b(255,32,32));c.setPosition(a/2,b-100);c=cc.LabelTTF.create(this.Yb,"Marker Felt",38);c.setColor(cc.c3b(16,16,255));c.setPosition(a/2,b/2);
this.addChild(c);this.schedule(this.step,1)},C:function(){var a=new db,b=this.Tc();a.addChild(b);(a=uo[vo].N(TRANSITION_DURATION,a))&&q.replaceScene(a)},B:function(){vo++;vo%=uo.length;var a=new db,b=this.Tc();a.addChild(b);(a=uo[vo].N(TRANSITION_DURATION,a))&&q.replaceScene(a)},A:function(){vo--;0>vo&&(vo+=uo.length);var a=new db,b=this.Tc();a.addChild(b);(a=uo[vo].N(TRANSITION_DURATION,a))&&q.replaceScene(a)},step:k(),onEnter:function(){this._super();this.log(""+this.Yb+" onEnter")},onEnterTransitionDidFinish:function(){this._super();
this.log(""+this.Yb+" onEnterTransitionDidFinish")},onExitTransitionDidStart:function(){this._super();this.log(""+this.Yb+" onExitTransitionDidStart")},onExit:function(){this._super();this.log(""+this.Yb+" onExit")},G:function(){return uo.length-1-vo},D:function(){return vo}}),wo=xo.extend({backgroundImage:ob,Ue:cc.c4b(0,0,0,255),Ve:cc.c4b(160,99,117,255),Yb:"Scene 1",Tc:function(){return new yo}}),yo=xo.extend({backgroundImage:pb,Ue:cc.c4b(0,0,0,255),Ve:cc.c4b(99,160,117,255),Yb:"Scene 2",Tc:function(){return new wo}});
function ho(a,b){return cc.TransitionJumpZoom.create(a,b)}function io(a,b){return cc.TransitionFade.create(a,b)}function jo(a,b){return cc.TransitionFade.create(a,b,cc.c3b(255,255,255))}function ko(a,b){return cc.TransitionShrinkGrow.create(a,b)}function lo(a,b){return cc.TransitionRotoZoom.create(a,b)}function mo(a,b){return cc.TransitionMoveInL.create(a,b)}function no(a,b){return cc.TransitionMoveInR.create(a,b)}function oo(a,b){return cc.TransitionMoveInT.create(a,b)}
function po(a,b){return cc.TransitionMoveInB.create(a,b)}function qo(a,b){return cc.TransitionSlideInL.create(a,b)}function ro(a,b){return cc.TransitionSlideInR.create(a,b)}function so(a,b){return cc.TransitionSlideInT.create(a,b)}function to(a,b){return cc.TransitionSlideInB.create(a,b)};var zo=-1,Do=J.extend({e:"",h:"",C:function(){var a=new eb;a.addChild(new Ao[zo]);q.replaceScene(a)},B:function(){var a=new eb;a.addChild(Bo());q.replaceScene(a)},A:function(){var a=new eb;a.addChild(Co());q.replaceScene(a)},G:function(){return Ao.length-1-zo},D:function(){return zo}}),Eo=Do.extend({e:"Rect Unit Test",h:"See console for possible errors",onEnter:function(){this._super();this.kb()},kb:function(){var a=[],b,c;this.log("Test 1: rectIntersectsRect 1");b=cc.rect(0,0,5,10);c=cc.rect(4,9,
5,10);(b=cc.rectIntersectsRect(b,c))||e("Fail rectIntersectsRect 1");a.push(b);this.log("Test 2: rectIntersectsRect 2");b=cc.rect(0,0,5,10);c=cc.rect(40,90,5,10);(b=cc.rectIntersectsRect(b,c))&&e("Fail rectIntersectsRect 2");a.push(b);this.log("Test 3: rectIntersection");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.rectIntersection(b,c);(b=cc.rectEqualToRect(b,cc.rect(4,9,1,1)))||e("Fail rectIntersection");a.push(b);this.log("Test 4: rectUnion");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.rectUnion(b,
c);(b=cc.rectEqualToRect(b,cc.rect(0,0,9,19)))||e("Fail rectUnion");a.push(b);this.log("Test 5: rectContainsPoint 1");b=cc.rect(0,0,5,10);c=cc.p(1,1);(b=cc.rectContainsPoint(b,c))||e("Fail rectContainsPoint 1");a.push(b);this.log("Test 6: rectContainsPoint 2");b=cc.rect(0,0,5,10);c=cc.p(1,-1);(b=cc.rectContainsPoint(b,c))&&e("Fail rectContainsPoint 2");a.push(b);this.log("Test 7: rect property x");b=cc.rect(1,2,3,4);1!=b.x&&e("Fail rect property x");a.push(b.x);this.log("Test 8: rect property y");
b=cc.rect(1,2,3,4);2!=b.y&&e("Fail rect property y");a.push(b.y);this.log("Test 9: rect property width");b=cc.rect(1,2,3,4);3!=b.width&&e("Fail rect property width");a.push(b.width);this.log("Test 10: rect property height");b=cc.rect(1,2,3,4);4!=b.height&&e("Fail rect property height");a.push(b.height);this.log("Test 11: getBoundingBox()");b=cc.Node.create();b.setContentSize(cc.size(99,101));b=b.getBoundingBox();(101!=b.height||99!=b.width)&&e("Fail getBoundingBox()");a.push(b.height);a.push(b.width);
return a},t:0.1,n:function(){return JSON.stringify([g,j,g,g,g,j,1,2,3,4,101,99])},m:function(){var a=this.kb();return JSON.stringify(a)}}),Fo=Do.extend({e:"Dictionary To/From Test",h:"Sends and receives a dictionary to JSB",ctor:function(){this._super();this.kb()},kb:function(){cc.SpriteFrameCache.getInstance().addSpriteFrames(H);var a=cc.AnimationCache.getInstance();a.addAnimations(bc);var a=a.getAnimation("dance_1").getFrames()[0],b=a.getUserInfo();this.log(JSON.stringify(b));a.setUserInfo({array:[1,
2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});b=a.getUserInfo();this.log(JSON.stringify(b));return b},t:0.1,n:function(){var a=this.Gf({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});return JSON.stringify(a)},m:function(){var a=this.Gf(this.kb());return JSON.stringify(a)}}),eb=w.extend({q:function(){zo=-1;this.addChild(Bo());q.replaceScene(this)}}),Ao=[Eo,Fo];
function Bo(){zo++;zo%=Ao.length;return new Ao[zo]}function Co(){zo--;0>zo&&(zo+=Ao.length);return new Ao[zo]};